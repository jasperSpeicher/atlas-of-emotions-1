!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(t){"use strict";function n(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(e("core-js/shim"),e("regenerator-runtime/runtime"),e("core-js/fn/regexp/escape"),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&n(Array,e,Function.call.bind([][e]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":2,"core-js/shim":296,"regenerator-runtime/runtime":297}],2:[function(e,t,n){e("../../modules/core.regexp.escape"),t.exports=e("../../modules/_core").RegExp.escape},{"../../modules/_core":23,"../../modules/core.regexp.escape":120}],3:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],4:[function(e,t,n){var r=e("./_cof");t.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},{"./_cof":18}],5:[function(e,t,n){var r=e("./_wks")("unscopables"),i=Array.prototype;void 0==i[r]&&e("./_hide")(i,r,{}),t.exports=function(e){i[r][e]=!0}},{"./_hide":40,"./_wks":117}],6:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],7:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":49}],8:[function(e,t,n){"use strict";var r=e("./_to-object"),i=e("./_to-index"),o=e("./_to-length");t.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),d=1;for(s>u&&u+l>s&&(d=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=d,u+=d;return n}},{"./_to-index":105,"./_to-length":108,"./_to-object":109}],9:[function(e,t,n){"use strict";var r=e("./_to-object"),i=e("./_to-index"),o=e("./_to-length");t.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},{"./_to-index":105,"./_to-length":108,"./_to-object":109}],10:[function(e,t,n){var r=e("./_for-of");t.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},{"./_for-of":37}],11:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_to-length"),o=e("./_to-index");t.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},{"./_to-index":105,"./_to-iobject":107,"./_to-length":108}],12:[function(e,t,n){var r=e("./_ctx"),i=e("./_iobject"),o=e("./_to-object"),a=e("./_to-length"),s=e("./_array-species-create");t.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d,h=t||s;return function(t,s,p){for(var m,g,_=o(t),v=i(_),y=r(s,p,3),b=a(v.length),w=0,x=n?h(t,b):u?h(t,0):void 0;b>w;w++)if((f||w in v)&&(m=v[w],g=y(m,w,_),e))if(n)x[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(l)return!1;return d?-1:c||l?l:x}}},{"./_array-species-create":15,"./_ctx":25,"./_iobject":45,"./_to-length":108,"./_to-object":109}],13:[function(e,t,n){var r=e("./_a-function"),i=e("./_to-object"),o=e("./_iobject"),a=e("./_to-length");t.exports=function(e,t,n,s,u){r(t);var c=i(e),l=o(c),d=a(c.length),f=u?d-1:0,h=u?-1:1;if(2>n)for(;;){if(f in l){s=l[f],f+=h;break}if(f+=h,u?0>f:f>=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:d>f;f+=h)f in l&&(s=t(s,l[f],f,c));return s}},{"./_a-function":3,"./_iobject":45,"./_to-length":108,"./_to-object":109}],14:[function(e,t,n){var r=e("./_is-object"),i=e("./_is-array"),o=e("./_wks")("species");t.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},{"./_is-array":47,"./_is-object":49,"./_wks":117}],15:[function(e,t,n){var r=e("./_array-species-constructor");t.exports=function(e,t){return new(r(e))(t)}},{"./_array-species-constructor":14}],16:[function(e,t,n){"use strict";var r=e("./_a-function"),i=e("./_is-object"),o=e("./_invoke"),a=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;t>i;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};t.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},{"./_a-function":3,"./_invoke":44,"./_is-object":49}],17:[function(e,t,n){var r=e("./_cof"),i=e("./_wks")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};t.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},{"./_cof":18,"./_wks":117}],18:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],19:[function(e,t,n){"use strict";var r=e("./_object-dp").f,i=e("./_object-create"),o=(e("./_hide"),e("./_redefine-all")),a=e("./_ctx"),s=e("./_an-instance"),u=e("./_defined"),c=e("./_for-of"),l=e("./_iter-define"),d=e("./_iter-step"),f=e("./_set-species"),h=e("./_descriptors"),p=e("./_meta").fastKey,m=h?"_s":"size",g=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,l){var d=e(function(e,r){s(e,d,t,"_i"),e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&c(r,n,e[l],e)});return o(d.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[m]=0},"delete":function(e){var t=this,n=g(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[m]--}return!!n},forEach:function(e){s(this,d,"forEach");for(var t,n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!g(this,e)}}),h&&r(d.prototype,"size",{get:function(){return u(this[m])}}),d},def:function(e,t,n){var r,i,o=g(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,n){l(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?d(0,n.k):"values"==t?d(0,n.v):d(0,[n.k,n.v]):(e._t=void 0,d(1))},n?"entries":"values",!n,!0),f(t)}}},{"./_an-instance":6,"./_ctx":25,"./_defined":27,"./_descriptors":28,"./_for-of":37,"./_hide":40,"./_iter-define":53,"./_iter-step":55,"./_meta":62,"./_object-create":66,"./_object-dp":67,"./_redefine-all":86,"./_set-species":91}],20:[function(e,t,n){var r=e("./_classof"),i=e("./_array-from-iterable");t.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},{"./_array-from-iterable":10,"./_classof":17}],21:[function(e,t,n){"use strict";var r=e("./_redefine-all"),i=e("./_meta").getWeak,o=e("./_an-object"),a=e("./_is-object"),s=e("./_an-instance"),u=e("./_for-of"),c=e("./_array-methods"),l=e("./_has"),d=c(5),f=c(6),h=0,p=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return d(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=g(this,e);return t?t[1]:void 0},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},"delete":function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,o){var c=e(function(e,r){s(e,c,t,"_i"),e._i=h++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)});return r(c.prototype,{"delete":function(e){if(!a(e))return!1;var t=i(e);return t===!0?p(this)["delete"](e):t&&l(t,this._i)&&delete t[this._i]},has:function(e){if(!a(e))return!1;var t=i(e);return t===!0?p(this).has(e):t&&l(t,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return r===!0?p(e).set(t,n):r[e._i]=n,e},ufstore:p}},{"./_an-instance":6,"./_an-object":7,"./_array-methods":12,"./_for-of":37,"./_has":39,"./_is-object":49,"./_meta":62,"./_redefine-all":86}],22:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_export"),o=e("./_redefine"),a=e("./_redefine-all"),s=e("./_meta"),u=e("./_for-of"),c=e("./_an-instance"),l=e("./_is-object"),d=e("./_fails"),f=e("./_iter-detect"),h=e("./_set-to-string-tag"),p=e("./_inherit-if-required");t.exports=function(e,t,n,m,g,_){var v=r[e],y=v,b=g?"set":"add",w=y&&y.prototype,x={},S=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return _&&!l(e)?!1:t.call(this,0===e?0:e)}:"has"==e?function(e){return _&&!l(e)?!1:t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(_||w.forEach&&!d(function(){(new y).entries().next()}))){var E=new y,M=E[b](_?{}:-0,1)!=E,j=d(function(){E.has(1)}),C=f(function(e){new y(e)}),k=!_&&d(function(){for(var e=new y,t=5;t--;)e[b](t,t);return!e.has(-0)});C||(y=t(function(t,n){c(t,y,e);var r=p(new v,t,y);return void 0!=n&&u(n,g,r[b],r),r}),y.prototype=w,w.constructor=y),(j||k)&&(S("delete"),S("has"),g&&S("get")),(k||M)&&S(b),_&&w.clear&&delete w.clear}else y=m.getConstructor(t,e,g,b),a(y.prototype,n),s.NEED=!0;return h(y,e),x[e]=y,i(i.G+i.W+i.F*(y!=v),x),_||m.setStrong(y,e,g),y}},{"./_an-instance":6,"./_export":32,"./_fails":34,"./_for-of":37,"./_global":38,"./_inherit-if-required":43,"./_is-object":49,"./_iter-detect":54,"./_meta":62,"./_redefine":87,"./_redefine-all":86,"./_set-to-string-tag":92}],23:[function(e,t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},{}],24:[function(e,t,n){"use strict";var r=e("./_object-dp"),i=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},{"./_object-dp":67,"./_property-desc":85}],25:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":3}],26:[function(e,t,n){"use strict";var r=e("./_an-object"),i=e("./_to-primitive"),o="number";t.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},{"./_an-object":7,"./_to-primitive":110}],27:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],28:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":34}],29:[function(e,t,n){var r=e("./_is-object"),i=e("./_global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_global":38,"./_is-object":49}],30:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],31:[function(e,t,n){var r=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie");t.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},{"./_object-gops":73,"./_object-keys":76,"./_object-pie":77}],32:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_hide"),a=e("./_redefine"),s=e("./_ctx"),u="prototype",c=function(e,t,n){var l,d,f,h,p=e&c.F,m=e&c.G,g=e&c.S,_=e&c.P,v=e&c.B,y=m?r:g?r[t]||(r[t]={}):(r[t]||{})[u],b=m?i:i[t]||(i[t]={}),w=b[u]||(b[u]={});m&&(n=t);for(l in n)d=!p&&y&&void 0!==y[l],f=(d?y:n)[l],h=v&&d?s(f,r):_&&"function"==typeof f?s(Function.call,f):f,y&&a(y,l,f,e&c.U),b[l]!=f&&o(b,l,h),_&&w[l]!=f&&(w[l]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":23,"./_ctx":25,"./_global":38,"./_hide":40,"./_redefine":87}],33:[function(e,t,n){var r=e("./_wks")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}},{"./_wks":117}],34:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],35:[function(e,t,n){"use strict";var r=e("./_hide"),i=e("./_redefine"),o=e("./_fails"),a=e("./_defined"),s=e("./_wks");t.exports=function(e,t,n){var u=s(e),c=n(a,u,""[e]),l=c[0],d=c[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,l),r(RegExp.prototype,u,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},{"./_defined":27,"./_fails":34,"./_hide":40,"./_redefine":87,"./_wks":117}],36:[function(e,t,n){"use strict";var r=e("./_an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":7}],37:[function(e,t,n){var r=e("./_ctx"),i=e("./_iter-call"),o=e("./_is-array-iter"),a=e("./_an-object"),s=e("./_to-length"),u=e("./core.get-iterator-method"),c={},l={},n=t.exports=function(e,t,n,d,f){var h,p,m,g,_=f?function(){return e}:u(e),v=r(n,d,t?2:1),y=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(o(_)){for(h=s(e.length);h>y;y++)if(g=t?v(a(p=e[y])[0],p[1]):v(e[y]),g===c||g===l)return g}else for(m=_.call(e);!(p=m.next()).done;)if(g=i(m,v,p.value,t),g===c||g===l)return g};n.BREAK=c,n.RETURN=l},{"./_an-object":7,"./_ctx":25,"./_is-array-iter":46,"./_iter-call":51,"./_to-length":108,"./core.get-iterator-method":118}],38:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],39:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],40:[function(e,t,n){var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":28,"./_object-dp":67,"./_property-desc":85}],41:[function(e,t,n){t.exports=e("./_global").document&&document.documentElement},{"./_global":38}],42:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":28,"./_dom-create":29,"./_fails":34}],43:[function(e,t,n){var r=e("./_is-object"),i=e("./_set-proto").set;t.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},{"./_is-object":49,"./_set-proto":90}],44:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],45:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":18}],46:[function(e,t,n){var r=e("./_iterators"),i=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{"./_iterators":56,"./_wks":117}],47:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":18}],48:[function(e,t,n){var r=e("./_is-object"),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{"./_is-object":49}],49:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],50:[function(e,t,n){var r=e("./_is-object"),i=e("./_cof"),o=e("./_wks")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{"./_cof":18,"./_is-object":49,"./_wks":117}],51:[function(e,t,n){var r=e("./_an-object");t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(o){var a=e["return"];throw void 0!==a&&r(a.call(e)),o}}},{"./_an-object":7}],52:[function(e,t,n){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{"./_hide":40,"./_object-create":66,"./_property-desc":85,"./_set-to-string-tag":92,"./_wks":117}],53:[function(e,t,n){"use strict";var r=e("./_library"),i=e("./_export"),o=e("./_redefine"),a=e("./_hide"),s=e("./_has"),u=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),d=e("./_object-gpo"),f=e("./_wks")("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",m="keys",g="values",_=function(){return this};t.exports=function(e,t,n,v,y,b,w){c(n,t,v);var x,S,E,M=function(e){if(!h&&e in L)return L[e];switch(e){case m:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},j=t+" Iterator",C=y==g,k=!1,L=e.prototype,A=L[f]||L[p]||y&&L[y],T=A||M(y),I=y?C?M("entries"):T:void 0,O="Array"==t?L.entries||A:A;if(O&&(E=d(O.call(new e)),E!==Object.prototype&&(l(E,j,!0),r||s(E,f)||a(E,f,_))),C&&A&&A.name!==g&&(k=!0,T=function(){return A.call(this)}),r&&!w||!h&&!k&&L[f]||a(L,f,T),u[t]=T,u[j]=_,y)if(x={values:C?T:M(g),keys:b?T:M(m),entries:I},w)for(S in x)S in L||o(L,S,x[S]);else i(i.P+i.F*(h||k),t,x);return x}},{"./_export":32,"./_has":39,"./_hide":40,"./_iter-create":52,"./_iterators":56,"./_library":58,"./_object-gpo":74,"./_redefine":87,"./_set-to-string-tag":92,"./_wks":117}],54:[function(e,t,n){var r=e("./_wks")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},{"./_wks":117}],55:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],56:[function(e,t,n){t.exports={}},{}],57:[function(e,t,n){var r=e("./_object-keys"),i=e("./_to-iobject");t.exports=function(e,t){for(var n,o=i(e),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===t)return n}},{"./_object-keys":76,"./_to-iobject":107}],58:[function(e,t,n){t.exports=!1},{}],59:[function(e,t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:Math.exp(e)-1}:r},{}],60:[function(e,t,n){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:Math.log(1+e)}},{}],61:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}},{}],62:[function(e,t,n){var r=e("./_uid")("meta"),i=e("./_is-object"),o=e("./_has"),a=e("./_object-dp").f,s=0,u=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return c&&p.NEED&&u(e)&&!o(e,r)&&l(e),e},p=t.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:h}},{"./_fails":34,"./_has":39,"./_is-object":49,"./_object-dp":67,"./_uid":114}],63:[function(e,t,n){var r=e("./es6.map"),i=e("./_export"),o=e("./_shared")("metadata"),a=o.store||(o.store=new(e("./es6.weak-map"))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o},u=function(e,t,n){var r=s(t,n,!1);return void 0===r?!1:r.has(e)},c=function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},l=function(e,t,n,r){s(n,r,!0).set(e,t)},d=function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},f=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},h=function(e){i(i.S,"Reflect",e)};t.exports={store:a,map:s,has:u,get:c,set:l,keys:d,key:f,exp:h}},{"./_export":32,"./_shared":94,"./es6.map":150,"./es6.weak-map":256}],64:[function(e,t,n){var r=e("./_global"),i=e("./_task").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==e("./_cof")(a);t.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},{"./_cof":18,"./_global":38,"./_task":104}],65:[function(e,t,n){"use strict";var r=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie"),a=e("./_to-object"),s=e("./_iobject"),u=Object.assign;t.exports=!u||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,d=o.f;u>c;)for(var f,h=s(arguments[c++]),p=l?r(h).concat(l(h)):r(h),m=p.length,g=0;m>g;)d.call(h,f=p[g++])&&(n[f]=h[f]);return n}:u},{"./_fails":34,"./_iobject":45,"./_object-gops":73,"./_object-keys":76,"./_object-pie":77,"./_to-object":109}],66:[function(e,t,n){var r=e("./_an-object"),i=e("./_object-dps"),o=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,n=e("./_dom-create")("iframe"),r=o.length,i=">";for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object</script"+i),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},{"./_an-object":7,"./_dom-create":29,"./_enum-bug-keys":30,"./_html":41,"./_object-dps":68,"./_shared-key":93}],67:[function(e,t,n){var r=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":7,"./_descriptors":28,"./_ie8-dom-define":42,"./_to-primitive":110}],68:[function(e,t,n){var r=e("./_object-dp"),i=e("./_an-object"),o=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},{"./_an-object":7,"./_descriptors":28,"./_object-dp":67,"./_object-keys":76}],69:[function(e,t,n){t.exports=e("./_library")||!e("./_fails")(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e("./_global")[t]})},{"./_fails":34,"./_global":38,"./_library":58}],70:[function(e,t,n){var r=e("./_object-pie"),i=e("./_property-desc"),o=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),u=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(n){}return s(e,t)?i(!r.f.call(e,t),e[t]):void 0}},{"./_descriptors":28,"./_has":39,"./_ie8-dom-define":42,"./_object-pie":77,"./_property-desc":85,"./_to-iobject":107,"./_to-primitive":110}],71:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_object-gopn").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};t.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},{"./_object-gopn":72,"./_to-iobject":107}],72:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{"./_enum-bug-keys":30,"./_object-keys-internal":75}],73:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],74:[function(e,t,n){var r=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":39,"./_shared-key":93,"./_to-object":109}],75:[function(e,t,n){var r=e("./_has"),i=e("./_to-iobject"),o=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},{"./_array-includes":11,"./_has":39,"./_shared-key":93,"./_to-iobject":107}],76:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_enum-bug-keys":30,"./_object-keys-internal":75}],77:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],78:[function(e,t,n){var r=e("./_export"),i=e("./_core"),o=e("./_fails");t.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},{"./_core":23,"./_export":32,"./_fails":34}],79:[function(e,t,n){var r=e("./_object-keys"),i=e("./_to-iobject"),o=e("./_object-pie").f;t.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),u=s.length,c=0,l=[];u>c;)o.call(a,n=s[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},{"./_object-keys":76,"./_object-pie":77,"./_to-iobject":107}],80:[function(e,t,n){var r=e("./_object-gopn"),i=e("./_object-gops"),o=e("./_an-object"),a=e("./_global").Reflect;t.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},{"./_an-object":7,"./_global":38,"./_object-gopn":72,"./_object-gops":73}],81:[function(e,t,n){var r=e("./_global").parseFloat,i=e("./_string-trim").trim;t.exports=1/r(e("./_string-ws")+"-0")!==-(1/0)?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},{"./_global":38,"./_string-trim":102,"./_string-ws":103}],82:[function(e,t,n){var r=e("./_global").parseInt,i=e("./_string-trim").trim,o=e("./_string-ws"),a=/^[\-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},{"./_global":38,"./_string-trim":102,"./_string-ws":103}],83:[function(e,t,n){"use strict";var r=e("./_path"),i=e("./_invoke"),o=e("./_a-function");t.exports=function(){for(var e=o(this),t=arguments.length,n=Array(t),a=0,s=r._,u=!1;t>a;)(n[a]=arguments[a++])===s&&(u=!0);return function(){var r,o=this,a=arguments.length,c=0,l=0;if(!u&&!a)return i(e,n,o);if(r=n.slice(),u)for(;t>c;c++)r[c]===s&&(r[c]=arguments[l++]);for(;a>l;)r.push(arguments[l++]);return i(e,r,o)}}},{"./_a-function":3,"./_invoke":44,"./_path":84}],84:[function(e,t,n){t.exports=e("./_global")},{"./_global":38}],85:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],86:[function(e,t,n){var r=e("./_redefine");t.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},{"./_redefine":87}],87:[function(e,t,n){var r=e("./_global"),i=e("./_hide"),o=e("./_has"),a=e("./_uid")("src"),s="toString",u=Function[s],c=(""+u).split(s);e("./_core").inspectSource=function(e){return u.call(e)},(t.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},{"./_core":23,"./_global":38,"./_has":39,"./_hide":40,"./_uid":114}],88:[function(e,t,n){t.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},{}],89:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],90:[function(e,t,n){var r=e("./_is-object"),i=e("./_an-object"),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(i){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:o}},{"./_an-object":7,"./_ctx":25,"./_is-object":49,"./_object-gopd":70}],91:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_object-dp"),o=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_descriptors":28,"./_global":38,"./_object-dp":67,"./_wks":117}],92:[function(e,t,n){var r=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./_has":39,"./_object-dp":67,"./_wks":117}],93:[function(e,t,n){var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":94,"./_uid":114}],94:[function(e,t,n){var r=e("./_global"),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./_global":38}],95:[function(e,t,n){var r=e("./_an-object"),i=e("./_a-function"),o=e("./_wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},{"./_a-function":3,"./_an-object":7,"./_wks":117}],96:[function(e,t,n){var r=e("./_fails");t.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},{"./_fails":34}],97:[function(e,t,n){var r=e("./_to-integer"),i=e("./_defined");t.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return 0>u||u>=c?e?"":void 0:(o=s.charCodeAt(u),55296>o||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},{"./_defined":27,"./_to-integer":106}],98:[function(e,t,n){var r=e("./_is-regexp"),i=e("./_defined");t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},{"./_defined":27,"./_is-regexp":50}],99:[function(e,t,n){var r=e("./_export"),i=e("./_fails"),o=e("./_defined"),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};t.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},{"./_defined":27,"./_export":32,"./_fails":34}],100:[function(e,t,n){var r=e("./_to-length"),i=e("./_string-repeat"),o=e("./_defined");t.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);
if(u>=l||""==c)return s;var d=l-u,f=i.call(c,Math.ceil(d/c.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},{"./_defined":27,"./_string-repeat":101,"./_to-length":108}],101:[function(e,t,n){"use strict";var r=e("./_to-integer"),i=e("./_defined");t.exports=function(e){var t=String(i(this)),n="",o=r(e);if(0>o||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},{"./_defined":27,"./_to-integer":106}],102:[function(e,t,n){var r=e("./_export"),i=e("./_defined"),o=e("./_fails"),a=e("./_string-ws"),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),d=function(e,t,n){var i={},s=o(function(){return!!a[e]()||u[e]()!=u}),c=i[e]=s?t(f):a[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},f=d.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};t.exports=d},{"./_defined":27,"./_export":32,"./_fails":34,"./_string-ws":103}],103:[function(e,t,n){t.exports="	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"},{}],104:[function(e,t,n){var r,i,o,a=e("./_ctx"),s=e("./_invoke"),u=e("./_html"),c=e("./_dom-create"),l=e("./_global"),d=l.process,f=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,m=0,g={},_="onreadystatechange",v=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){v.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},h=function(e){delete g[e]},"process"==e("./_cof")(d)?r=function(e){d.nextTick(a(v,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=y,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):r=_ in c("script")?function(e){u.appendChild(c("script"))[_]=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),t.exports={set:f,clear:h}},{"./_cof":18,"./_ctx":25,"./_dom-create":29,"./_global":38,"./_html":41,"./_invoke":44}],105:[function(e,t,n){var r=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return e=r(e),0>e?i(e+t,0):o(e,t)}},{"./_to-integer":106}],106:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],107:[function(e,t,n){var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_defined":27,"./_iobject":45}],108:[function(e,t,n){var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./_to-integer":106}],109:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":27}],110:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":49}],111:[function(e,t,n){"use strict";if(e("./_descriptors")){var r=e("./_library"),i=e("./_global"),o=e("./_fails"),a=e("./_export"),s=e("./_typed"),u=e("./_typed-buffer"),c=e("./_ctx"),l=e("./_an-instance"),d=e("./_property-desc"),f=e("./_hide"),h=e("./_redefine-all"),p=(e("./_is-integer"),e("./_to-integer")),m=e("./_to-length"),g=e("./_to-index"),_=e("./_to-primitive"),v=e("./_has"),y=e("./_same-value"),b=e("./_classof"),w=e("./_is-object"),x=e("./_to-object"),S=e("./_is-array-iter"),E=e("./_object-create"),M=e("./_object-gpo"),j=e("./_object-gopn").f,C=(e("./core.is-iterable"),e("./core.get-iterator-method")),k=e("./_uid"),L=e("./_wks"),A=e("./_array-methods"),T=e("./_array-includes"),I=e("./_species-constructor"),O=e("./es6.array.iterator"),N=e("./_iterators"),P=e("./_iter-detect"),D=e("./_set-species"),R=e("./_array-fill"),H=e("./_array-copy-within"),q=e("./_object-dp"),U=e("./_object-gopd"),F=q.f,z=U.f,B=i.RangeError,G=i.TypeError,W=i.Uint8Array,V="ArrayBuffer",X="Shared"+V,Y="BYTES_PER_ELEMENT",$="prototype",Z=Array[$],K=u.ArrayBuffer,J=u.DataView,Q=A(0),ee=A(2),te=A(3),ne=A(4),re=A(5),ie=A(6),oe=T(!0),ae=T(!1),se=O.values,ue=O.keys,ce=O.entries,le=Z.lastIndexOf,de=Z.reduce,fe=Z.reduceRight,he=Z.join,pe=Z.sort,me=Z.slice,ge=Z.toString,_e=Z.toLocaleString,ve=L("iterator"),ye=L("toStringTag"),be=k("typed_constructor"),we=k("def_constructor"),xe=s.CONSTR,Se=s.TYPED,Ee=s.VIEW,Me="Wrong length!",je=A(1,function(e,t){return Ie(I(e,e[we]),t)}),Ce=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),ke=!!W&&!!W[$].set&&o(function(){new W(1).set({})}),Le=function(e,t){if(void 0===e)throw G(Me);var n=+e,r=m(e);if(t&&!y(n,r))throw B(Me);return r},Ae=function(e,t){var n=p(e);if(0>n||n%t)throw B("Wrong offset!");return n},Te=function(e){if(w(e)&&Se in e)return e;throw G(e+" is not a typed array!")},Ie=function(e,t){if(!(w(e)&&be in e))throw G("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Ne(I(e,e[we]),t)},Ne=function(e,t){for(var n=0,r=t.length,i=Ie(e,r);r>n;)i[n]=t[n++];return i},Pe=function(e,t,n){F(e,t,{get:function(){return this._d[n]}})},De=function(e){var t,n,r,i,o,a,s=x(e),u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,f=C(s);if(void 0!=f&&!S(f)){for(a=f.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(d&&u>2&&(l=c(l,arguments[2],2)),t=0,n=m(s.length),i=Ie(this,n);n>t;t++)i[t]=d?l(s[t],t):s[t];return i},Re=function(){for(var e=0,t=arguments.length,n=Ie(this,t);t>e;)n[e]=arguments[e++];return n},He=!!W&&o(function(){_e.call(new W(1))}),qe=function(){return _e.apply(He?me.call(Te(this)):Te(this),arguments)},Ue={copyWithin:function(e,t){return H.call(Te(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(Te(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return R.apply(Te(this),arguments)},filter:function(e){return Oe(this,ee(Te(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return re(Te(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ie(Te(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Te(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(Te(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Te(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return he.apply(Te(this),arguments)},lastIndexOf:function(e){return le.apply(Te(this),arguments)},map:function(e){return je(Te(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return de.apply(Te(this),arguments)},reduceRight:function(e){return fe.apply(Te(this),arguments)},reverse:function(){for(var e,t=this,n=Te(t).length,r=Math.floor(n/2),i=0;r>i;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return te(Te(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(Te(this),e)},subarray:function(e,t){var n=Te(this),r=n.length,i=g(e,r);return new(I(n,n[we]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-i))}},Fe=function(e,t){return Oe(this,me.call(Te(this),e,t))},ze=function(e){Te(this);var t=Ae(arguments[1],1),n=this.length,r=x(e),i=m(r.length),o=0;if(i+t>n)throw B(Me);for(;i>o;)this[t+o]=r[o++]},Be={entries:function(){return ce.call(Te(this))},keys:function(){return ue.call(Te(this))},values:function(){return se.call(Te(this))}},Ge=function(e,t){return w(e)&&e[Se]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},We=function(e,t){return Ge(e,t=_(t,!0))?d(2,e[t]):z(e,t)},Ve=function(e,t,n){return!(Ge(e,t=_(t,!0))&&w(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?F(e,t,n):(e[t]=n.value,e)};xe||(U.f=We,q.f=Ve),a(a.S+a.F*!xe,"Object",{getOwnPropertyDescriptor:We,defineProperty:Ve}),o(function(){ge.call({})})&&(ge=_e=function(){return he.call(this)});var Xe=h({},Ue);h(Xe,Be),f(Xe,ve,Be.values),h(Xe,{slice:Fe,set:ze,constructor:function(){},toString:ge,toLocaleString:qe}),Pe(Xe,"buffer","b"),Pe(Xe,"byteOffset","o"),Pe(Xe,"byteLength","l"),Pe(Xe,"length","e"),F(Xe,ye,{get:function(){return this[Se]}}),t.exports=function(e,t,n,u){u=!!u;var c=e+(u?"Clamped":"")+"Array",d="Uint8Array"!=c,h="get"+e,p="set"+e,g=i[c],_=g||{},v=g&&M(g),y=!g||!s.ABV,x={},S=g&&g[$],C=function(e,n){var r=e._d;return r.v[h](n*t+r.o,Ce)},k=function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,Ce)},L=function(e,t){F(e,t,{get:function(){return C(this,t)},set:function(e){return k(this,t,e)},enumerable:!0})};y?(g=n(function(e,n,r,i){l(e,g,c,"_d");var o,a,s,u,d=0,h=0;if(w(n)){if(!(n instanceof K||(u=b(n))==V||u==X))return Se in n?Ne(g,n):De.call(g,n);o=n,h=Ae(r,t);var p=n.byteLength;if(void 0===i){if(p%t)throw B(Me);if(a=p-h,0>a)throw B(Me)}else if(a=m(i)*t,a+h>p)throw B(Me);s=a/t}else s=Le(n,!0),a=s*t,o=new K(a);for(f(e,"_d",{b:o,o:h,l:a,e:s,v:new J(o)});s>d;)L(e,d++)}),S=g[$]=E(Xe),f(S,"constructor",g)):P(function(e){new g(null),new g(e)},!0)||(g=n(function(e,n,r,i){l(e,g,c);var o;return w(n)?n instanceof K||(o=b(n))==V||o==X?void 0!==i?new _(n,Ae(r,t),i):void 0!==r?new _(n,Ae(r,t)):new _(n):Se in n?Ne(g,n):De.call(g,n):new _(Le(n,d))}),Q(v!==Function.prototype?j(_).concat(j(v)):j(_),function(e){e in g||f(g,e,_[e])}),g[$]=S,r||(S.constructor=g));var A=S[ve],T=!!A&&("values"==A.name||void 0==A.name),I=Be.values;f(g,be,!0),f(S,Se,c),f(S,Ee,!0),f(S,we,g),(u?new g(1)[ye]==c:ye in S)||F(S,ye,{get:function(){return c}}),x[c]=g,a(a.G+a.W+a.F*(g!=_),x),a(a.S,c,{BYTES_PER_ELEMENT:t,from:De,of:Re}),Y in S||f(S,Y,t),a(a.P,c,Ue),D(c),a(a.P+a.F*ke,c,{set:ze}),a(a.P+a.F*!T,c,Be),a(a.P+a.F*(S.toString!=ge),c,{toString:ge}),a(a.P+a.F*o(function(){new g(1).slice()}),c,{slice:Fe}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!o(function(){S.toLocaleString.call([1,2])})),c,{toLocaleString:qe}),N[c]=T?A:I,r||T||f(S,ve,I)}}else t.exports=function(){}},{"./_an-instance":6,"./_array-copy-within":8,"./_array-fill":9,"./_array-includes":11,"./_array-methods":12,"./_classof":17,"./_ctx":25,"./_descriptors":28,"./_export":32,"./_fails":34,"./_global":38,"./_has":39,"./_hide":40,"./_is-array-iter":46,"./_is-integer":48,"./_is-object":49,"./_iter-detect":54,"./_iterators":56,"./_library":58,"./_object-create":66,"./_object-dp":67,"./_object-gopd":70,"./_object-gopn":72,"./_object-gpo":74,"./_property-desc":85,"./_redefine-all":86,"./_same-value":89,"./_set-species":91,"./_species-constructor":95,"./_to-index":105,"./_to-integer":106,"./_to-length":108,"./_to-object":109,"./_to-primitive":110,"./_typed":113,"./_typed-buffer":112,"./_uid":114,"./_wks":117,"./core.get-iterator-method":118,"./core.is-iterable":119,"./es6.array.iterator":131}],112:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_descriptors"),o=e("./_library"),a=e("./_typed"),s=e("./_hide"),u=e("./_redefine-all"),c=e("./_fails"),l=e("./_an-instance"),d=e("./_to-integer"),f=e("./_to-length"),h=e("./_object-gopn").f,p=e("./_object-dp").f,m=e("./_array-fill"),g=e("./_set-to-string-tag"),_="ArrayBuffer",v="DataView",y="prototype",b="Wrong length!",w="Wrong index!",x=r[_],S=r[v],E=r.Math,M=(r.parseInt,r.RangeError),j=r.Infinity,C=x,k=E.abs,L=E.pow,A=(E.min,E.floor),T=E.log,I=E.LN2,O="buffer",N="byteLength",P="byteOffset",D=i?"_b":O,R=i?"_l":N,H=i?"_o":P,q=function(e,t,n){var r,i,o,a=Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?L(2,-24)-L(2,-77):0,d=0,f=0>e||0===e&&0>1/e?1:0;for(e=k(e),e!=e||e===j?(i=e!=e?1:0,r=u):(r=A(T(e)/I),e*(o=L(2,-r))<1&&(r--,o*=2),e+=r+c>=1?l/o:l*L(2,1-c),e*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*L(2,t),r+=c):(i=e*L(2,c-1)*L(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a},U=function(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-j:j;r+=L(2,t),l-=a}return(c?-1:1)*r*L(2,l-t)},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},z=function(e){return[255&e]},B=function(e){return[255&e,e>>8&255]},G=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return q(e,52,8)},V=function(e){return q(e,23,4)},X=function(e,t,n){p(e[y],t,{get:function(){return this[n]}})},Y=function(e,t,n,r){var i=+n,o=d(i);if(i!=o||0>o||o+t>e[R])throw M(w);var a=e[D]._b,s=o+e[H],u=a.slice(s,s+t);return r?u:u.reverse()},$=function(e,t,n,r,i,o){var a=+n,s=d(a);if(a!=s||0>s||s+t>e[R])throw M(w);for(var u=e[D]._b,c=s+e[H],l=r(+i),f=0;t>f;f++)u[c+f]=l[o?f:t-f-1]},Z=function(e,t){l(e,x,_);var n=+t,r=f(n);if(n!=r)throw M(b);return r};if(a.ABV){if(!c(function(){new x})||!c(function(){new x(.5)})){x=function(e){return new C(Z(this,e))};for(var K,J=x[y]=C[y],Q=h(C),ee=0;Q.length>ee;)(K=Q[ee++])in x||s(x,K,C[K]);o||(J.constructor=x)}var te=new S(new x(2)),ne=S[y].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||u(S[y],{setInt8:function(e,t){ne.call(this,e,t<<24>>24)},setUint8:function(e,t){ne.call(this,e,t<<24>>24)}},!0)}else x=function(e){var t=Z(this,e);this._b=m.call(Array(t),0),this[R]=t},S=function(e,t,n){l(this,S,v),l(e,x,v);var r=e[R],i=d(t);if(0>i||i>r)throw M("Wrong offset!");if(n=void 0===n?r-i:f(n),i+n>r)throw M(b);this[D]=e,this[H]=i,this[R]=n},i&&(X(x,N,"_l"),X(S,O,"_b"),X(S,N,"_l"),X(S,P,"_o")),u(S[y],{getInt8:function(e){return Y(this,1,e)[0]<<24>>24},getUint8:function(e){return Y(this,1,e)[0]},getInt16:function(e){var t=Y(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Y(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return F(Y(this,4,e,arguments[1]))},getUint32:function(e){return F(Y(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return U(Y(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return U(Y(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){$(this,1,e,z,t)},setUint8:function(e,t){$(this,1,e,z,t)},setInt16:function(e,t){$(this,2,e,B,t,arguments[2])},setUint16:function(e,t){$(this,2,e,B,t,arguments[2])},setInt32:function(e,t){$(this,4,e,G,t,arguments[2])},setUint32:function(e,t){$(this,4,e,G,t,arguments[2])},setFloat32:function(e,t){$(this,4,e,V,t,arguments[2])},setFloat64:function(e,t){$(this,8,e,W,t,arguments[2])}});g(x,_),g(S,v),s(S[y],a.VIEW,!0),n[_]=x,n[v]=S},{"./_an-instance":6,"./_array-fill":9,"./_descriptors":28,"./_fails":34,"./_global":38,"./_hide":40,"./_library":58,"./_object-dp":67,"./_object-gopn":72,"./_redefine-all":86,"./_set-to-string-tag":92,"./_to-integer":106,"./_to-length":108,"./_typed":113}],113:[function(e,t,n){for(var r,i=e("./_global"),o=e("./_hide"),a=e("./_uid"),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,d=0,f=9,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f>d;)(r=i[h[d++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},{"./_global":38,"./_hide":40,"./_uid":114}],114:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],115:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":23,"./_global":38,"./_library":58,"./_object-dp":67,"./_wks-ext":116}],116:[function(e,t,n){n.f=e("./_wks")},{"./_wks":117}],117:[function(e,t,n){var r=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o,s=t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))};s.store=r},{"./_global":38,"./_shared":94,"./_uid":114}],118:[function(e,t,n){var r=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[r(e)]:void 0}},{"./_classof":17,"./_core":23,"./_iterators":56,"./_wks":117}],119:[function(e,t,n){var r=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},{"./_classof":17,"./_core":23,"./_iterators":56,"./_wks":117}],120:[function(e,t,n){var r=e("./_export"),i=e("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},{"./_export":32,"./_replacer":88}],121:[function(e,t,n){var r=e("./_export");r(r.P,"Array",{copyWithin:e("./_array-copy-within")}),e("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":5,"./_array-copy-within":8,"./_export":32}],122:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(4);r(r.P+r.F*!e("./_strict-method")([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},{"./_array-methods":12,"./_export":32,"./_strict-method":96}],123:[function(e,t,n){var r=e("./_export");r(r.P,"Array",{fill:e("./_array-fill")}),e("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":5,"./_array-fill":9,"./_export":32}],124:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(2);r(r.P+r.F*!e("./_strict-method")([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},{"./_array-methods":12,"./_export":32,"./_strict-method":96}],125:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(o)},{"./_add-to-unscopables":5,"./_array-methods":12,"./_export":32}],126:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(o)},{"./_add-to-unscopables":5,"./_array-methods":12,"./_export":32}],127:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(0),o=e("./_strict-method")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},{"./_array-methods":12,"./_export":32,"./_strict-method":96}],128:[function(e,t,n){"use strict";var r=e("./_ctx"),i=e("./_export"),o=e("./_to-object"),a=e("./_iter-call"),s=e("./_is-array-iter"),u=e("./_to-length"),c=e("./_create-property"),l=e("./core.get-iterator-method");i(i.S+i.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,f=o(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,_=0,v=l(f);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==v||h==Array&&s(v))for(t=u(f.length),n=new h(t);t>_;_++)c(n,_,g?m(f[_],_):f[_]);else for(d=v.call(f),n=new h;!(i=d.next()).done;_++)c(n,_,g?a(d,m,[i.value,_],!0):i.value);return n.length=_,n}})},{"./_create-property":24,"./_ctx":25,"./_export":32,"./_is-array-iter":46,"./_iter-call":51,"./_iter-detect":54,"./_to-length":108,"./_to-object":109,"./core.get-iterator-method":118}],129:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-includes")(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!e("./_strict-method")(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},{"./_array-includes":11,"./_export":32,"./_strict-method":96}],130:[function(e,t,n){var r=e("./_export");r(r.S,"Array",{isArray:e("./_is-array")})},{"./_export":32,"./_is-array":47}],131:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":5,"./_iter-define":53,"./_iter-step":55,"./_iterators":56,"./_to-iobject":107}],132:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_to-iobject"),o=[].join;r(r.P+r.F*(e("./_iobject")!=Object||!e("./_strict-method")(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},{"./_export":32,"./_iobject":45,"./_strict-method":96,"./_to-iobject":107}],133:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_to-iobject"),o=e("./_to-integer"),a=e("./_to-length"),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!e("./_strict-method")(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),0>r&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},{"./_export":32,"./_strict-method":96,"./_to-integer":106,"./_to-iobject":107,"./_to-length":108}],134:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(1);r(r.P+r.F*!e("./_strict-method")([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},{"./_array-methods":12,"./_export":32,"./_strict-method":96}],135:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_create-property");r(r.S+r.F*e("./_fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},{"./_create-property":24,"./_export":32,"./_fails":34}],136:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-reduce");r(r.P+r.F*!e("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},{"./_array-reduce":13,"./_export":32,"./_strict-method":96}],137:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-reduce");r(r.P+r.F*!e("./_strict-method")([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},{"./_array-reduce":13,"./_export":32,"./_strict-method":96}],138:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_html"),o=e("./_cof"),a=e("./_to-index"),s=e("./_to-length"),u=[].slice;r(r.P+r.F*e("./_fails")(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),c=a(t,n),l=s(c-i),d=Array(l),f=0;l>f;f++)d[f]="String"==r?this.charAt(i+f):this[i+f];return d}})},{"./_cof":18,"./_export":32,"./_fails":34,"./_html":41,"./_to-index":105,"./_to-length":108}],139:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(3);r(r.P+r.F*!e("./_strict-method")([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},{"./_array-methods":12,"./_export":32,"./_strict-method":96}],140:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_a-function"),o=e("./_to-object"),a=e("./_fails"),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!e("./_strict-method")(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},{"./_a-function":3,"./_export":32,"./_fails":34,"./_strict-method":96,"./_to-object":109}],141:[function(e,t,n){e("./_set-species")("Array")},{"./_set-species":91}],142:[function(e,t,n){var r=e("./_export");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":32}],143:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_fails"),o=Date.prototype.getTime,a=function(e){return e>9?e:"0"+e};r(r.P+r.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=0>t?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}})},{"./_export":32,"./_fails":34}],144:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_to-object"),o=e("./_to-primitive");r(r.P+r.F*e("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},{"./_export":32,"./_fails":34,"./_to-object":109,"./_to-primitive":110}],145:[function(e,t,n){var r=e("./_wks")("toPrimitive"),i=Date.prototype;r in i||e("./_hide")(i,r,e("./_date-to-primitive"))},{"./_date-to-primitive":26,"./_hide":40,"./_wks":117}],146:[function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&e("./_redefine")(r,o,function(){var e=s.call(this);return e===e?a.call(this):i})},{"./_redefine":87}],147:[function(e,t,n){var r=e("./_export");r(r.P,"Function",{bind:e("./_bind")})},{"./_bind":16,"./_export":32}],148:[function(e,t,n){"use strict";var r=e("./_is-object"),i=e("./_object-gpo"),o=e("./_wks")("hasInstance"),a=Function.prototype;o in a||e("./_object-dp").f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":49,"./_object-dp":67,"./_object-gpo":74,"./_wks":117}],149:[function(e,t,n){var r=e("./_object-dp").f,i=e("./_property-desc"),o=e("./_has"),a=Function.prototype,s=/^\s*function ([^ (]*)/,u="name",c=Object.isExtensible||function(){return!0};u in a||e("./_descriptors")&&r(a,u,{configurable:!0,get:function(){try{var e=this,t=(""+e).match(s)[1];return o(e,u)||!c(e)||r(e,u,i(5,t)),t}catch(n){return""}}})},{"./_descriptors":28,"./_has":39,"./_object-dp":67,"./_property-desc":85}],150:[function(e,t,n){"use strict";var r=e("./_collection-strong");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},{"./_collection":22,"./_collection-strong":19}],151:[function(e,t,n){var r=e("./_export"),i=e("./_math-log1p"),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},{"./_export":32,"./_math-log1p":60}],152:[function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?0>e?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=e("./_export"),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},{"./_export":32}],153:[function(e,t,n){var r=e("./_export"),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./_export":32}],154:[function(e,t,n){var r=e("./_export"),i=e("./_math-sign");r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./_export":32,"./_math-sign":61}],155:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./_export":32}],156:[function(e,t,n){var r=e("./_export"),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},{"./_export":32}],157:[function(e,t,n){var r=e("./_export"),i=e("./_math-expm1");r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},{"./_export":32,"./_math-expm1":59}],158:[function(e,t,n){var r=e("./_export"),i=e("./_math-sign"),o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),c=o(2,-126),l=function(e){return e+1/a-1/a};r(r.S,"Math",{fround:function(e){var t,n,r=Math.abs(e),o=i(e);return c>r?o*l(r/c/s)*c*s:(t=(1+s/a)*r,n=t-(t-r),n>u||n!=n?o*(1/0):o*n)}})},{"./_export":32,"./_math-sign":61}],159:[function(e,t,n){var r=e("./_export"),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;s>a;)n=i(arguments[a++]),n>u?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},{"./_export":32}],160:[function(e,t,n){var r=e("./_export"),i=Math.imul;r(r.S+r.F*e("./_fails")(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},{"./_export":32,"./_fails":34}],161:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},{"./_export":32}],162:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{log1p:e("./_math-log1p")})},{"./_export":32,"./_math-log1p":60}],163:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./_export":32}],164:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{sign:e("./_math-sign")})},{"./_export":32,"./_math-sign":61}],165:[function(e,t,n){var r=e("./_export"),i=e("./_math-expm1"),o=Math.exp;r(r.S+r.F*e("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},{"./_export":32,"./_fails":34,"./_math-expm1":59}],166:[function(e,t,n){var r=e("./_export"),i=e("./_math-expm1"),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},{"./_export":32,"./_math-expm1":59}],167:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./_export":32}],168:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_has"),o=e("./_cof"),a=e("./_inherit-if-required"),s=e("./_to-primitive"),u=e("./_fails"),c=e("./_object-gopn").f,l=e("./_object-gopd").f,d=e("./_object-dp").f,f=e("./_string-trim").trim,h="Number",p=r[h],m=p,g=p.prototype,_=o(e("./_object-create")(g))==h,v="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():f(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;l>c;c++)if(a=u.charCodeAt(c),48>a||a>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(_?u(function(){g.valueOf.call(n)}):o(n)!=h)?a(new m(y(t)),n,p):y(t)};for(var b,w=e("./_descriptors")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(m,b=w[x])&&!i(p,b)&&d(p,b,l(m,b));p.prototype=g,g.constructor=p,e("./_redefine")(r,h,p)}},{"./_cof":18,"./_descriptors":28,"./_fails":34,"./_global":38,"./_has":39,"./_inherit-if-required":43,"./_object-create":66,"./_object-dp":67,"./_object-gopd":70,"./_object-gopn":72,"./_redefine":87,"./_string-trim":102,"./_to-primitive":110}],169:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":32}],170:[function(e,t,n){var r=e("./_export"),i=e("./_global").isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},{"./_export":32,"./_global":38}],171:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":32,"./_is-integer":48}],172:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{isNaN:function(e){return e!=e}})},{"./_export":32}],173:[function(e,t,n){var r=e("./_export"),i=e("./_is-integer"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},{"./_export":32,"./_is-integer":48}],174:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":32}],175:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{
MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":32}],176:[function(e,t,n){var r=e("./_export"),i=e("./_parse-float");r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},{"./_export":32,"./_parse-float":81}],177:[function(e,t,n){var r=e("./_export"),i=e("./_parse-int");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},{"./_export":32,"./_parse-int":82}],178:[function(e,t,n){"use strict";var r=e("./_export"),i=(e("./_an-instance"),e("./_to-integer")),o=e("./_a-number-value"),a=e("./_string-repeat"),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",d="0",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},h=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call(d,7-n.length)+n}return t},m=function(e,t,n){return 0===t?n:t%2===1?m(e,t-1,n*e):m(e*e,t/2,n)},g=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!e("./_fails")(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,l),c=i(e),_="",v=d;if(0>c||c>20)throw RangeError(l);if(u!=u)return"NaN";if(-1e21>=u||u>=1e21)return String(u);if(0>u&&(_="-",u=-u),u>1e-21)if(t=g(u*m(2,69,1))-69,n=0>t?u*m(2,-t,1):u/m(2,t,1),n*=4503599627370496,t=52-t,t>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(m(10,r,1),0),r=t-1;r>=23;)h(1<<23),r-=23;h(1<<r),f(1,1),h(2),v=p()}else f(0,n),f(1<<-t,0),v=p()+a.call(d,c);return c>0?(s=v.length,v=_+(c>=s?"0."+a.call(d,c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c))):v=_+v,v}})},{"./_a-number-value":4,"./_an-instance":6,"./_export":32,"./_fails":34,"./_string-repeat":101,"./_to-integer":106}],179:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_fails"),o=e("./_a-number-value"),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},{"./_a-number-value":4,"./_export":32,"./_fails":34}],180:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":32,"./_object-assign":65}],181:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{create:e("./_object-create")})},{"./_export":32,"./_object-create":66}],182:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperties:e("./_object-dps")})},{"./_descriptors":28,"./_export":32,"./_object-dps":68}],183:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":28,"./_export":32,"./_object-dp":67}],184:[function(e,t,n){var r=e("./_is-object"),i=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},{"./_is-object":49,"./_meta":62,"./_object-sap":78}],185:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},{"./_object-gopd":70,"./_object-sap":78,"./_to-iobject":107}],186:[function(e,t,n){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":71,"./_object-sap":78}],187:[function(e,t,n){var r=e("./_to-object"),i=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return i(r(e))}})},{"./_object-gpo":74,"./_object-sap":78,"./_to-object":109}],188:[function(e,t,n){var r=e("./_is-object");e("./_object-sap")("isExtensible",function(e){return function(t){return r(t)?e?e(t):!0:!1}})},{"./_is-object":49,"./_object-sap":78}],189:[function(e,t,n){var r=e("./_is-object");e("./_object-sap")("isFrozen",function(e){return function(t){return r(t)?e?e(t):!1:!0}})},{"./_is-object":49,"./_object-sap":78}],190:[function(e,t,n){var r=e("./_is-object");e("./_object-sap")("isSealed",function(e){return function(t){return r(t)?e?e(t):!1:!0}})},{"./_is-object":49,"./_object-sap":78}],191:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{is:e("./_same-value")})},{"./_export":32,"./_same-value":89}],192:[function(e,t,n){var r=e("./_to-object"),i=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return i(r(e))}})},{"./_object-keys":76,"./_object-sap":78,"./_to-object":109}],193:[function(e,t,n){var r=e("./_is-object"),i=e("./_meta").onFreeze;e("./_object-sap")("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},{"./_is-object":49,"./_meta":62,"./_object-sap":78}],194:[function(e,t,n){var r=e("./_is-object"),i=e("./_meta").onFreeze;e("./_object-sap")("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},{"./_is-object":49,"./_meta":62,"./_object-sap":78}],195:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":32,"./_set-proto":90}],196:[function(e,t,n){"use strict";var r=e("./_classof"),i={};i[e("./_wks")("toStringTag")]="z",i+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},{"./_classof":17,"./_redefine":87,"./_wks":117}],197:[function(e,t,n){var r=e("./_export"),i=e("./_parse-float");r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},{"./_export":32,"./_parse-float":81}],198:[function(e,t,n){var r=e("./_export"),i=e("./_parse-int");r(r.G+r.F*(parseInt!=i),{parseInt:i})},{"./_export":32,"./_parse-int":82}],199:[function(e,t,n){"use strict";var r,i,o,a=e("./_library"),s=e("./_global"),u=e("./_ctx"),c=e("./_classof"),l=e("./_export"),d=e("./_is-object"),f=(e("./_an-object"),e("./_a-function")),h=e("./_an-instance"),p=e("./_for-of"),m=(e("./_set-proto").set,e("./_species-constructor")),g=e("./_task").set,_=e("./_microtask")(),v="Promise",y=s.TypeError,b=s.process,w=s[v],b=s.process,x="process"==c(b),S=function(){},E=!!function(){try{var t=w.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(S,S)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(S)instanceof n}catch(r){}}(),M=function(e,t){return e===t||e===w&&t===o},j=function(e){var t;return d(e)&&"function"==typeof(t=e.then)?t:!1},C=function(e){return M(w,e)?new k(e):new i(e)},k=i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw y("Bad Promise constructor");t=e,n=r}),this.resolve=f(t),this.reject=f(n)},L=function(e){try{e()}catch(t){return{error:t}}},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;_(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&O(e),e._h=1),a===!0?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(y("Promise-chain cycle")):(o=j(n))?o.call(n,s,u):s(n)):u(r)}catch(l){u(l)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){g.call(s,function(){var t,n,r,i=e._v;if(I(e)&&(t=L(function(){x?b.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=x||I(e)?2:1),e._a=void 0,t)throw t.error})},I=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!I(t.promise))return!1;return!0},O=function(e){g.call(s,function(){var t;x?b.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},P=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw y("Promise can't be resolved itself");(t=j(e))?_(function(){var r={_w:n,_d:!1};try{t.call(e,u(P,r,1),u(N,r,1))}catch(i){N.call(r,i)}}):(n._v=e,n._s=1,A(n,!1))}catch(r){N.call({_w:n,_d:!1},r)}}};E||(w=function(e){h(this,w,v,"_h"),f(e),r.call(this);try{e(u(P,this,1),u(N,this,1))}catch(t){N.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=e("./_redefine-all")(w.prototype,{then:function(e,t){var n=C(m(this,w));return n.ok="function"==typeof e?e:!0,n.fail="function"==typeof t&&t,n.domain=x?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},"catch":function(e){return this.then(void 0,e)}}),k=function(){var e=new r;this.promise=e,this.resolve=u(P,e,1),this.reject=u(N,e,1)}),l(l.G+l.W+l.F*!E,{Promise:w}),e("./_set-to-string-tag")(w,v),e("./_set-species")(v),o=e("./_core")[v],l(l.S+l.F*!E,v,{reject:function(e){var t=C(this),n=t.reject;return n(e),t.promise}}),l(l.S+l.F*(a||!E),v,{resolve:function(e){if(e instanceof w&&M(e.constructor,this))return e;var t=C(this),n=t.resolve;return n(e),t.promise}}),l(l.S+l.F*!(E&&e("./_iter-detect")(function(e){w.all(e)["catch"](S)})),v,{all:function(e){var t=this,n=C(t),r=n.resolve,i=n.reject,o=L(function(){var n=[],o=0,a=1;p(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(e){var t=this,n=C(t),r=n.reject,i=L(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},{"./_a-function":3,"./_an-instance":6,"./_an-object":7,"./_classof":17,"./_core":23,"./_ctx":25,"./_export":32,"./_for-of":37,"./_global":38,"./_is-object":49,"./_iter-detect":54,"./_library":58,"./_microtask":64,"./_redefine-all":86,"./_set-proto":90,"./_set-species":91,"./_set-to-string-tag":92,"./_species-constructor":95,"./_task":104,"./_wks":117}],200:[function(e,t,n){var r=e("./_export"),i=e("./_a-function"),o=e("./_an-object"),a=Function.apply;r(r.S,"Reflect",{apply:function(e,t,n){return a.call(i(e),t,o(n))}})},{"./_a-function":3,"./_an-object":7,"./_export":32}],201:[function(e,t,n){var r=e("./_export"),i=e("./_object-create"),o=e("./_a-function"),a=e("./_an-object"),s=e("./_is-object"),u=e("./_bind");r(r.S+r.F*e("./_fails")(function(){function e(){}return!(Reflect.construct(function(){},[],e)instanceof e)}),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var c=n.prototype,l=i(s(c)?c:Object.prototype),d=Function.apply.call(e,l,t);return s(d)?d:l}})},{"./_a-function":3,"./_an-object":7,"./_bind":16,"./_export":32,"./_fails":34,"./_is-object":49,"./_object-create":66}],202:[function(e,t,n){var r=e("./_object-dp"),i=e("./_export"),o=e("./_an-object"),a=e("./_to-primitive");i(i.S+i.F*e("./_fails")(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(i){return!1}}})},{"./_an-object":7,"./_export":32,"./_fails":34,"./_object-dp":67,"./_to-primitive":110}],203:[function(e,t,n){var r=e("./_export"),i=e("./_object-gopd").f,o=e("./_an-object");r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return n&&!n.configurable?!1:delete e[t]}})},{"./_an-object":7,"./_export":32,"./_object-gopd":70}],204:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_an-object"),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};e("./_iter-create")(o,"Object",function(){var e,t=this,n=t._k;do if(t._i>=n.length)return{value:void 0,done:!0};while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},{"./_an-object":7,"./_export":32,"./_iter-create":52}],205:[function(e,t,n){var r=e("./_object-gopd"),i=e("./_export"),o=e("./_an-object");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},{"./_an-object":7,"./_export":32,"./_object-gopd":70}],206:[function(e,t,n){var r=e("./_export"),i=e("./_object-gpo"),o=e("./_an-object");r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},{"./_an-object":7,"./_export":32,"./_object-gpo":74}],207:[function(e,t,n){function r(e,t){var n,s,l=arguments.length<3?e:arguments[2];return c(e)===l?e[t]:(n=i.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(s=o(e))?r(s,t,l):void 0}var i=e("./_object-gopd"),o=e("./_object-gpo"),a=e("./_has"),s=e("./_export"),u=e("./_is-object"),c=e("./_an-object");s(s.S,"Reflect",{get:r})},{"./_an-object":7,"./_export":32,"./_has":39,"./_is-object":49,"./_object-gopd":70,"./_object-gpo":74}],208:[function(e,t,n){var r=e("./_export");r(r.S,"Reflect",{has:function(e,t){return t in e}})},{"./_export":32}],209:[function(e,t,n){var r=e("./_export"),i=e("./_an-object"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),o?o(e):!0}})},{"./_an-object":7,"./_export":32}],210:[function(e,t,n){var r=e("./_export");r(r.S,"Reflect",{ownKeys:e("./_own-keys")})},{"./_export":32,"./_own-keys":80}],211:[function(e,t,n){var r=e("./_export"),i=e("./_an-object"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(t){return!1}}})},{"./_an-object":7,"./_export":32}],212:[function(e,t,n){var r=e("./_export"),i=e("./_set-proto");i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(n){return!1}}})},{"./_export":32,"./_set-proto":90}],213:[function(e,t,n){function r(e,t,n){var u,f,h=arguments.length<4?e:arguments[3],p=o.f(l(e),t);if(!p){if(d(f=a(e)))return r(f,t,n,h);p=c(0)}return s(p,"value")?p.writable!==!1&&d(h)?(u=o.f(h,t)||c(0),u.value=n,i.f(h,t,u),!0):!1:void 0===p.set?!1:(p.set.call(h,n),!0)}var i=e("./_object-dp"),o=e("./_object-gopd"),a=e("./_object-gpo"),s=e("./_has"),u=e("./_export"),c=e("./_property-desc"),l=e("./_an-object"),d=e("./_is-object");u(u.S,"Reflect",{set:r})},{"./_an-object":7,"./_export":32,"./_has":39,"./_is-object":49,"./_object-dp":67,"./_object-gopd":70,"./_object-gpo":74,"./_property-desc":85}],214:[function(e,t,n){var r=e("./_global"),i=e("./_inherit-if-required"),o=e("./_object-dp").f,a=e("./_object-gopn").f,s=e("./_is-regexp"),u=e("./_flags"),c=r.RegExp,l=c,d=c.prototype,f=/a/g,h=/a/g,p=new c(f)!==f;if(e("./_descriptors")&&(!p||e("./_fails")(function(){return h[e("./_wks")("match")]=!1,c(f)!=f||c(h)==h||"/a/i"!=c(f,"i")}))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(p?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:d,c)};for(var m=(function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}),g=a(l),_=0;g.length>_;)m(g[_++]);d.constructor=c,c.prototype=d,e("./_redefine")(r,"RegExp",c)}e("./_set-species")("RegExp")},{"./_descriptors":28,"./_fails":34,"./_flags":36,"./_global":38,"./_inherit-if-required":43,"./_is-regexp":50,"./_object-dp":67,"./_object-gopn":72,"./_redefine":87,"./_set-species":91,"./_wks":117}],215:[function(e,t,n){e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":28,"./_flags":36,"./_object-dp":67}],216:[function(e,t,n){e("./_fix-re-wks")("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},{"./_fix-re-wks":35}],217:[function(e,t,n){e("./_fix-re-wks")("replace",2,function(e,t,n){return[function(r,i){"use strict";var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},{"./_fix-re-wks":35}],218:[function(e,t,n){e("./_fix-re-wks")("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},{"./_fix-re-wks":35}],219:[function(e,t,n){e("./_fix-re-wks")("split",2,function(t,n,r){"use strict";var i=e("./_is-regexp"),o=r,a=[].push,s="split",u="length",c="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var l=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,s,d,f,h,p=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,_=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,m+"g");for(l||(r=new RegExp("^"+v.source+"$(?!\\s)",m));(s=v.exec(n))&&(d=s.index+s[0][u],!(d>g&&(p.push(n.slice(g,s.index)),!l&&s[u]>1&&s[0].replace(r,function(){for(h=1;h<arguments[u]-2;h++)void 0===arguments[h]&&(s[h]=void 0)}),s[u]>1&&s.index<n[u]&&a.apply(p,s.slice(1)),f=s[0][u],g=d,p[u]>=_)));)v[c]===s.index&&v[c]++;return g===n[u]?!f&&v.test("")||p.push(""):p.push(n.slice(g)),p[u]>_?p.slice(0,_):p}}else"0"[s](void 0,0)[u]&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(e,i){var o=t(this),a=void 0==e?void 0:e[n];return void 0!==a?a.call(e,o,i):r.call(String(o),e,i)},r]})},{"./_fix-re-wks":35,"./_is-regexp":50}],220:[function(e,t,n){"use strict";e("./es6.regexp.flags");var r=e("./_an-object"),i=e("./_flags"),o=e("./_descriptors"),a="toString",s=/./[a],u=function(t){e("./_redefine")(RegExp.prototype,a,t,!0)};e("./_fails")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):s.name!=a&&u(function(){return s.call(this)})},{"./_an-object":7,"./_descriptors":28,"./_fails":34,"./_flags":36,"./_redefine":87,"./es6.regexp.flags":215}],221:[function(e,t,n){"use strict";var r=e("./_collection-strong");t.exports=e("./_collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},{"./_collection":22,"./_collection-strong":19}],222:[function(e,t,n){"use strict";e("./_string-html")("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{"./_string-html":99}],223:[function(e,t,n){"use strict";e("./_string-html")("big",function(e){return function(){return e(this,"big","","")}})},{"./_string-html":99}],224:[function(e,t,n){"use strict";e("./_string-html")("blink",function(e){return function(){return e(this,"blink","","")}})},{"./_string-html":99}],225:[function(e,t,n){"use strict";e("./_string-html")("bold",function(e){return function(){return e(this,"b","","")}})},{"./_string-html":99}],226:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_string-at")(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},{"./_export":32,"./_string-at":97}],227:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_to-length"),o=e("./_string-context"),a="endsWith",s=""[a];r(r.P+r.F*e("./_fails-is-regexp")(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),u=void 0===n?r:Math.min(i(n),r),c=String(e);return s?s.call(t,c,u):t.slice(u-c.length,u)===c}})},{"./_export":32,"./_fails-is-regexp":33,"./_string-context":98,"./_to-length":108}],228:[function(e,t,n){"use strict";e("./_string-html")("fixed",function(e){return function(){return e(this,"tt","","")}})},{"./_string-html":99}],229:[function(e,t,n){"use strict";e("./_string-html")("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{"./_string-html":99}],230:[function(e,t,n){"use strict";e("./_string-html")("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{"./_string-html":99}],231:[function(e,t,n){var r=e("./_export"),i=e("./_to-index"),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(65536>t?o(t):o(((t-=65536)>>10)+55296,t%1024+56320))}return n.join("")}})},{"./_export":32,"./_to-index":105}],232:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_string-context"),o="includes";r(r.P+r.F*e("./_fails-is-regexp")(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{"./_export":32,"./_fails-is-regexp":33,"./_string-context":98}],233:[function(e,t,n){"use strict";e("./_string-html")("italics",function(e){return function(){return e(this,"i","","")}})},{"./_string-html":99}],234:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":53,"./_string-at":97}],235:[function(e,t,n){"use strict";e("./_string-html")("link",function(e){return function(t){return e(this,"a","href",t)}})},{"./_string-html":99}],236:[function(e,t,n){var r=e("./_export"),i=e("./_to-iobject"),o=e("./_to-length");r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),r>s&&a.push(String(arguments[s]));return a.join("")}})},{"./_export":32,"./_to-iobject":107,"./_to-length":108}],237:[function(e,t,n){var r=e("./_export");r(r.P,"String",{repeat:e("./_string-repeat")})},{"./_export":32,"./_string-repeat":101}],238:[function(e,t,n){"use strict";e("./_string-html")("small",function(e){return function(){return e(this,"small","","")}})},{"./_string-html":99}],239:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_to-length"),o=e("./_string-context"),a="startsWith",s=""[a];r(r.P+r.F*e("./_fails-is-regexp")(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},{"./_export":32,"./_fails-is-regexp":33,"./_string-context":98,"./_to-length":108}],240:[function(e,t,n){"use strict";e("./_string-html")("strike",function(e){return function(){return e(this,"strike","","")}})},{"./_string-html":99}],241:[function(e,t,n){"use strict";e("./_string-html")("sub",function(e){return function(){return e(this,"sub","","")}})},{"./_string-html":99}],242:[function(e,t,n){"use strict";e("./_string-html")("sup",function(e){return function(){return e(this,"sup","","")}})},{"./_string-html":99}],243:[function(e,t,n){"use strict";e("./_string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./_string-trim":102}],244:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_has"),o=e("./_descriptors"),a=e("./_export"),s=e("./_redefine"),u=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),d=e("./_set-to-string-tag"),f=e("./_uid"),h=e("./_wks"),p=e("./_wks-ext"),m=e("./_wks-define"),g=e("./_keyof"),_=e("./_enum-keys"),v=e("./_is-array"),y=e("./_an-object"),b=e("./_to-iobject"),w=e("./_to-primitive"),x=e("./_property-desc"),S=e("./_object-create"),E=e("./_object-gopn-ext"),M=e("./_object-gopd"),j=e("./_object-dp"),C=e("./_object-keys"),k=M.f,L=j.f,A=E.f,T=r.Symbol,I=r.JSON,O=I&&I.stringify,N="prototype",P=h("_hidden"),D=h("toPrimitive"),R={}.propertyIsEnumerable,H=l("symbol-registry"),q=l("symbols"),U=l("op-symbols"),F=Object[N],z="function"==typeof T,B=r.QObject,G=!B||!B[N]||!B[N].findChild,W=o&&c(function(){return 7!=S(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=k(F,t);r&&delete F[t],L(e,t,n),r&&e!==F&&L(F,t,r)}:L,V=function(e){var t=q[e]=S(T[N]);return t._k=e,t},X=z&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},Y=function(e,t,n){return e===F&&Y(U,t,n),y(e),t=w(t,!0),y(n),i(q,t)?(n.enumerable?(i(e,P)&&e[P][t]&&(e[P][t]=!1),n=S(n,{enumerable:x(0,!1)})):(i(e,P)||L(e,P,x(1,{})),e[P][t]=!0),W(e,t,n)):L(e,t,n)},$=function(e,t){y(e);for(var n,r=_(t=b(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},Z=function(e,t){return void 0===t?S(e):$(S(e),t)},K=function(e){var t=R.call(this,e=w(e,!0));return this===F&&i(q,e)&&!i(U,e)?!1:t||!i(this,e)||!i(q,e)||i(this,P)&&this[P][e]?t:!0},J=function(e,t){if(e=b(e),t=w(t,!0),e!==F||!i(q,t)||i(U,t)){var n=k(e,t);return!n||!i(q,t)||i(e,P)&&e[P][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=A(b(e)),r=[],o=0;n.length>o;)i(q,t=n[o++])||t==P||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===F,r=A(n?U:b(e)),o=[],a=0;r.length>a;)i(q,t=r[a++])&&(n?i(F,t):!0)&&o.push(q[t]);return o};z||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(U,n),i(this,P)&&i(this[P],e)&&(this[P][e]=!1),W(this,e,x(1,n))};return o&&G&&W(F,e,{configurable:!0,set:t}),V(e)},s(T[N],"toString",function(){return this._k}),M.f=J,j.f=Y,e("./_object-gopn").f=E.f=Q,e("./_object-pie").f=K,e("./_object-gops").f=ee,o&&!e("./_library")&&s(F,"propertyIsEnumerable",K,!0),p.f=function(e){return V(h(e))}),a(a.G+a.W+a.F*!z,{Symbol:T});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var te=C(h.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!z,"Symbol",{"for":function(e){return i(H,e+="")?H[e]:H[e]=T(e)},keyFor:function(e){if(X(e))return g(H,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!z,"Object",{create:Z,defineProperty:Y,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee}),I&&a(a.S+a.F*(!z||c(function(){var e=T();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!X(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&v(t)||(t=function(e,t){return n&&(t=n.call(this,e,t)),X(t)?void 0:t}),r[1]=t,O.apply(I,r)}}}),T[N][D]||e("./_hide")(T[N],D,T[N].valueOf),d(T,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},{"./_an-object":7,"./_descriptors":28,"./_enum-keys":31,"./_export":32,"./_fails":34,"./_global":38,"./_has":39,"./_hide":40,"./_is-array":47,"./_keyof":57,"./_library":58,"./_meta":62,"./_object-create":66,"./_object-dp":67,"./_object-gopd":70,"./_object-gopn":72,"./_object-gopn-ext":71,"./_object-gops":73,"./_object-keys":76,"./_object-pie":77,"./_property-desc":85,"./_redefine":87,"./_set-to-string-tag":92,"./_shared":94,"./_to-iobject":107,"./_to-primitive":110,"./_uid":114,"./_wks":117,"./_wks-define":115,"./_wks-ext":116}],245:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_typed"),o=e("./_typed-buffer"),a=e("./_an-object"),s=e("./_to-index"),u=e("./_to-length"),c=e("./_is-object"),l=(e("./_wks")("typed_array"),e("./_global").ArrayBuffer),d=e("./_species-constructor"),f=o.ArrayBuffer,h=o.DataView,p=i.ABV&&l.isView,m=f.prototype.slice,g=i.VIEW,_="ArrayBuffer";r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,_,{isView:function(e){return p&&p(e)||c(e)&&g in e}}),r(r.P+r.U+r.F*e("./_fails")(function(){return!new f(2).slice(1,void 0).byteLength}),_,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,f))(u(i-r)),c=new h(this),l=new h(o),p=0;i>r;)l.setUint8(p++,c.getUint8(r++));return o}}),e("./_set-species")(_)},{"./_an-object":7,"./_export":32,"./_fails":34,"./_global":38,"./_is-object":49,"./_set-species":91,"./_species-constructor":95,"./_to-index":105,"./_to-length":108,"./_typed":113,"./_typed-buffer":112,"./_wks":117}],246:[function(e,t,n){var r=e("./_export");r(r.G+r.W+r.F*!e("./_typed").ABV,{DataView:e("./_typed-buffer").DataView})},{"./_export":32,"./_typed":113,"./_typed-buffer":112}],247:[function(e,t,n){e("./_typed-array")("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":111}],248:[function(e,t,n){e("./_typed-array")("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":111}],249:[function(e,t,n){e("./_typed-array")("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":111}],250:[function(e,t,n){e("./_typed-array")("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":111}],251:[function(e,t,n){e("./_typed-array")("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":111}],252:[function(e,t,n){e("./_typed-array")("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":111}],253:[function(e,t,n){e("./_typed-array")("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":111}],254:[function(e,t,n){e("./_typed-array")("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":111}],255:[function(e,t,n){e("./_typed-array")("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},{"./_typed-array":111}],256:[function(e,t,n){"use strict";var r,i=e("./_array-methods")(0),o=e("./_redefine"),a=e("./_meta"),s=e("./_object-assign"),u=e("./_collection-weak"),c=e("./_is-object"),l=(e("./_has"),a.getWeak),d=Object.isExtensible,f=u.ufstore,h={},p=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(e){if(c(e)){var t=l(e);return t===!0?f(this).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(this,e,t)}},g=t.exports=e("./_collection")("WeakMap",p,m,u,!0,!0);7!=(new g).set((Object.freeze||Object)(h),7).get(h)&&(r=u.getConstructor(p),s(r.prototype,m),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=g.prototype,n=t[e];o(t,e,function(t,i){if(c(t)&&!d(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},{"./_array-methods":12,"./_collection":22,"./_collection-weak":21,"./_has":39,"./_is-object":49,"./_meta":62,"./_object-assign":65,"./_redefine":87}],257:[function(e,t,n){"use strict";var r=e("./_collection-weak");e("./_collection")("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e,!0)}},r,!1,!0)},{"./_collection":22,"./_collection-weak":21}],258:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-includes")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":5,"./_array-includes":11,"./_export":32}],259:[function(e,t,n){var r=e("./_export"),i=e("./_microtask")(),o=e("./_global").process,a="process"==e("./_cof")(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},{"./_cof":18,"./_export":32,"./_global":38,"./_microtask":64}],260:[function(e,t,n){var r=e("./_export"),i=e("./_cof");r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},{"./_cof":18,"./_export":32}],261:[function(e,t,n){var r=e("./_export");r(r.P+r.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":20,"./_export":32}],262:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},{"./_export":32}],263:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,u=i>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>16)+((o*u>>>0)+(c&n)>>16)}})},{"./_export":32}],264:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},{"./_export":32}],265:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,u=i>>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>>16)+((o*u>>>0)+(c&n)>>>16)}})},{"./_export":32}],266:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_to-object"),o=e("./_a-function"),a=e("./_object-dp");e("./_descriptors")&&r(r.P+e("./_object-forced-pam"),"Object",{
__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},{"./_a-function":3,"./_descriptors":28,"./_export":32,"./_object-dp":67,"./_object-forced-pam":69,"./_to-object":109}],267:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_to-object"),o=e("./_a-function"),a=e("./_object-dp");e("./_descriptors")&&r(r.P+e("./_object-forced-pam"),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},{"./_a-function":3,"./_descriptors":28,"./_export":32,"./_object-dp":67,"./_object-forced-pam":69,"./_to-object":109}],268:[function(e,t,n){var r=e("./_export"),i=e("./_object-to-array")(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},{"./_export":32,"./_object-to-array":79}],269:[function(e,t,n){var r=e("./_export"),i=e("./_own-keys"),o=e("./_to-iobject"),a=e("./_object-gopd"),s=e("./_create-property");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n=o(e),r=a.f,u=i(n),c={},l=0;u.length>l;)s(c,t=u[l++],r(n,t));return c}})},{"./_create-property":24,"./_export":32,"./_object-gopd":70,"./_own-keys":80,"./_to-iobject":107}],270:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_to-object"),o=e("./_to-primitive"),a=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&r(r.P+e("./_object-forced-pam"),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do if(t=s(n,r))return t.get;while(n=a(n))}})},{"./_descriptors":28,"./_export":32,"./_object-forced-pam":69,"./_object-gopd":70,"./_object-gpo":74,"./_to-object":109,"./_to-primitive":110}],271:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_to-object"),o=e("./_to-primitive"),a=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&r(r.P+e("./_object-forced-pam"),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do if(t=s(n,r))return t.set;while(n=a(n))}})},{"./_descriptors":28,"./_export":32,"./_object-forced-pam":69,"./_object-gopd":70,"./_object-gpo":74,"./_to-object":109,"./_to-primitive":110}],272:[function(e,t,n){var r=e("./_export"),i=e("./_object-to-array")(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{"./_export":32,"./_object-to-array":79}],273:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_global"),o=e("./_core"),a=e("./_microtask")(),s=e("./_wks")("observable"),u=e("./_a-function"),c=e("./_an-object"),l=e("./_an-instance"),d=e("./_redefine-all"),f=e("./_hide"),h=e("./_for-of"),p=h.RETURN,m=function(e){return null==e?void 0:u(e)},g=function(e){var t=e._c;t&&(e._c=void 0,t())},_=function(e){return void 0===e._o},v=function(e){_(e)||(e._o=void 0,g(e))},y=function(e,t){c(e),this._c=void 0,this._o=e,e=new b(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(i){return void e.error(i)}_(this)&&g(this)};y.prototype=d({},{unsubscribe:function(){v(this)}});var b=function(e){this._s=e};b.prototype=d({},{next:function(e){var t=this._s;if(!_(t)){var n=t._o;try{var r=m(n.next);if(r)return r.call(n,e)}catch(i){try{v(t)}finally{throw i}}}},error:function(e){var t=this._s;if(_(t))throw e;var n=t._o;t._o=void 0;try{var r=m(n.error);if(!r)throw e;e=r.call(n,e)}catch(i){try{g(t)}finally{throw i}}return g(t),e},complete:function(e){var t=this._s;if(!_(t)){var n=t._o;t._o=void 0;try{var r=m(n.complete);e=r?r.call(n,e):void 0}catch(i){try{g(t)}finally{throw i}}return g(t),e}}});var w=function(e){l(this,w,"Observable","_f")._f=u(e)};d(w.prototype,{subscribe:function(e){return new y(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){u(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n})})}}),d(w,{from:function(e){var t="function"==typeof this?this:w,n=m(c(e)[s]);if(n){var r=c(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(h(e,!1,function(e){return t.next(e),n?p:void 0})===p)return}catch(r){if(n)throw r;return void t.error(r)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);t>e;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),f(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),e("./_set-species")("Observable")},{"./_a-function":3,"./_an-instance":6,"./_an-object":7,"./_core":23,"./_export":32,"./_for-of":37,"./_global":38,"./_hide":40,"./_microtask":64,"./_redefine-all":86,"./_set-species":91,"./_wks":117}],274:[function(e,t,n){var r=e("./_metadata"),i=e("./_an-object"),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},{"./_an-object":7,"./_metadata":63}],275:[function(e,t,n){var r=e("./_metadata"),i=e("./_an-object"),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r["delete"](e))return!1;if(r.size)return!0;var u=s.get(t);return u["delete"](n),!!u.size||s["delete"](t)}})},{"./_an-object":7,"./_metadata":63}],276:[function(e,t,n){var r=e("./es6.set"),i=e("./_array-from-iterable"),o=e("./_metadata"),a=e("./_an-object"),s=e("./_object-gpo"),u=o.keys,c=o.key,l=function(e,t){var n=u(e,t),o=s(e);if(null===o)return n;var a=l(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return l(a(e),arguments.length<2?void 0:c(arguments[1]))}})},{"./_an-object":7,"./_array-from-iterable":10,"./_metadata":63,"./_object-gpo":74,"./es6.set":221}],277:[function(e,t,n){var r=e("./_metadata"),i=e("./_an-object"),o=e("./_object-gpo"),a=r.has,s=r.get,u=r.key,c=function(e,t,n){var r=a(e,t,n);if(r)return s(e,t,n);var i=o(t);return null!==i?c(e,i,n):void 0};r.exp({getMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:u(arguments[2]))}})},{"./_an-object":7,"./_metadata":63,"./_object-gpo":74}],278:[function(e,t,n){var r=e("./_metadata"),i=e("./_an-object"),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},{"./_an-object":7,"./_metadata":63}],279:[function(e,t,n){var r=e("./_metadata"),i=e("./_an-object"),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":7,"./_metadata":63}],280:[function(e,t,n){var r=e("./_metadata"),i=e("./_an-object"),o=e("./_object-gpo"),a=r.has,s=r.key,u=function(e,t,n){var r=a(e,t,n);if(r)return!0;var i=o(t);return null!==i?u(e,i,n):!1};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":7,"./_metadata":63,"./_object-gpo":74}],281:[function(e,t,n){var r=e("./_metadata"),i=e("./_an-object"),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":7,"./_metadata":63}],282:[function(e,t,n){var r=e("./_metadata"),i=e("./_an-object"),o=e("./_a-function"),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},{"./_a-function":3,"./_an-object":7,"./_metadata":63}],283:[function(e,t,n){var r=e("./_export");r(r.P+r.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":20,"./_export":32}],284:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_string-at")(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},{"./_export":32,"./_string-at":97}],285:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_defined"),o=e("./_to-length"),a=e("./_is-regexp"),s=e("./_flags"),u=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};e("./_iter-create")(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new c(r,t)}})},{"./_defined":27,"./_export":32,"./_flags":36,"./_is-regexp":50,"./_iter-create":52,"./_to-length":108}],286:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_string-pad");r(r.P,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":32,"./_string-pad":100}],287:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_string-pad");r(r.P,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":32,"./_string-pad":100}],288:[function(e,t,n){"use strict";e("./_string-trim")("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{"./_string-trim":102}],289:[function(e,t,n){"use strict";e("./_string-trim")("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{"./_string-trim":102}],290:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":115}],291:[function(e,t,n){e("./_wks-define")("observable")},{"./_wks-define":115}],292:[function(e,t,n){var r=e("./_export");r(r.S,"System",{global:e("./_global")})},{"./_export":32,"./_global":38}],293:[function(e,t,n){for(var r=e("./es6.array.iterator"),i=e("./_redefine"),o=e("./_global"),a=e("./_hide"),s=e("./_iterators"),u=e("./_wks"),c=u("iterator"),l=u("toStringTag"),d=s.Array,f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],h=0;5>h;h++){var p,m=f[h],g=o[m],_=g&&g.prototype;if(_){_[c]||a(_,c,d),_[l]||a(_,l,m),s[m]=d;for(p in r)_[p]||i(_,p,r[p],!0)}}},{"./_global":38,"./_hide":40,"./_iterators":56,"./_redefine":87,"./_wks":117,"./es6.array.iterator":131}],294:[function(e,t,n){var r=e("./_export"),i=e("./_task");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./_export":32,"./_task":104}],295:[function(e,t,n){var r=e("./_global"),i=e("./_export"),o=e("./_invoke"),a=e("./_partial"),s=r.navigator,u=!!s&&/MSIE .\./.test(s.userAgent),c=function(e){return u?function(t,n){return e(o(a,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};i(i.G+i.B+i.F*u,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},{"./_export":32,"./_global":38,"./_invoke":44,"./_partial":83}],296:[function(e,t,n){e("./modules/es6.symbol"),e("./modules/es6.object.create"),e("./modules/es6.object.define-property"),e("./modules/es6.object.define-properties"),e("./modules/es6.object.get-own-property-descriptor"),e("./modules/es6.object.get-prototype-of"),e("./modules/es6.object.keys"),e("./modules/es6.object.get-own-property-names"),e("./modules/es6.object.freeze"),e("./modules/es6.object.seal"),e("./modules/es6.object.prevent-extensions"),e("./modules/es6.object.is-frozen"),e("./modules/es6.object.is-sealed"),e("./modules/es6.object.is-extensible"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.function.bind"),e("./modules/es6.function.name"),e("./modules/es6.function.has-instance"),e("./modules/es6.parse-int"),e("./modules/es6.parse-float"),e("./modules/es6.number.constructor"),e("./modules/es6.number.to-fixed"),e("./modules/es6.number.to-precision"),e("./modules/es6.number.epsilon"),e("./modules/es6.number.is-finite"),e("./modules/es6.number.is-integer"),e("./modules/es6.number.is-nan"),e("./modules/es6.number.is-safe-integer"),e("./modules/es6.number.max-safe-integer"),e("./modules/es6.number.min-safe-integer"),e("./modules/es6.number.parse-float"),e("./modules/es6.number.parse-int"),e("./modules/es6.math.acosh"),e("./modules/es6.math.asinh"),e("./modules/es6.math.atanh"),e("./modules/es6.math.cbrt"),e("./modules/es6.math.clz32"),e("./modules/es6.math.cosh"),e("./modules/es6.math.expm1"),e("./modules/es6.math.fround"),e("./modules/es6.math.hypot"),e("./modules/es6.math.imul"),e("./modules/es6.math.log10"),e("./modules/es6.math.log1p"),e("./modules/es6.math.log2"),e("./modules/es6.math.sign"),e("./modules/es6.math.sinh"),e("./modules/es6.math.tanh"),e("./modules/es6.math.trunc"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.trim"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.string.anchor"),e("./modules/es6.string.big"),e("./modules/es6.string.blink"),e("./modules/es6.string.bold"),e("./modules/es6.string.fixed"),e("./modules/es6.string.fontcolor"),e("./modules/es6.string.fontsize"),e("./modules/es6.string.italics"),e("./modules/es6.string.link"),e("./modules/es6.string.small"),e("./modules/es6.string.strike"),e("./modules/es6.string.sub"),e("./modules/es6.string.sup"),e("./modules/es6.date.now"),e("./modules/es6.date.to-json"),e("./modules/es6.date.to-iso-string"),e("./modules/es6.date.to-string"),e("./modules/es6.date.to-primitive"),e("./modules/es6.array.is-array"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.join"),e("./modules/es6.array.slice"),e("./modules/es6.array.sort"),e("./modules/es6.array.for-each"),e("./modules/es6.array.map"),e("./modules/es6.array.filter"),e("./modules/es6.array.some"),e("./modules/es6.array.every"),e("./modules/es6.array.reduce"),e("./modules/es6.array.reduce-right"),e("./modules/es6.array.index-of"),e("./modules/es6.array.last-index-of"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.array.species"),e("./modules/es6.array.iterator"),e("./modules/es6.regexp.constructor"),e("./modules/es6.regexp.to-string"),e("./modules/es6.regexp.flags"),e("./modules/es6.regexp.match"),e("./modules/es6.regexp.replace"),e("./modules/es6.regexp.search"),e("./modules/es6.regexp.split"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.typed.array-buffer"),e("./modules/es6.typed.data-view"),e("./modules/es6.typed.int8-array"),e("./modules/es6.typed.uint8-array"),e("./modules/es6.typed.uint8-clamped-array"),e("./modules/es6.typed.int16-array"),e("./modules/es6.typed.uint16-array"),e("./modules/es6.typed.int32-array"),e("./modules/es6.typed.uint32-array"),e("./modules/es6.typed.float32-array"),e("./modules/es6.typed.float64-array"),e("./modules/es6.reflect.apply"),e("./modules/es6.reflect.construct"),e("./modules/es6.reflect.define-property"),e("./modules/es6.reflect.delete-property"),e("./modules/es6.reflect.enumerate"),e("./modules/es6.reflect.get"),e("./modules/es6.reflect.get-own-property-descriptor"),e("./modules/es6.reflect.get-prototype-of"),e("./modules/es6.reflect.has"),e("./modules/es6.reflect.is-extensible"),e("./modules/es6.reflect.own-keys"),e("./modules/es6.reflect.prevent-extensions"),e("./modules/es6.reflect.set"),e("./modules/es6.reflect.set-prototype-of"),e("./modules/es7.array.includes"),e("./modules/es7.string.at"),e("./modules/es7.string.pad-start"),e("./modules/es7.string.pad-end"),e("./modules/es7.string.trim-left"),e("./modules/es7.string.trim-right"),e("./modules/es7.string.match-all"),e("./modules/es7.symbol.async-iterator"),e("./modules/es7.symbol.observable"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.values"),e("./modules/es7.object.entries"),e("./modules/es7.object.define-getter"),e("./modules/es7.object.define-setter"),e("./modules/es7.object.lookup-getter"),e("./modules/es7.object.lookup-setter"),e("./modules/es7.map.to-json"),e("./modules/es7.set.to-json"),e("./modules/es7.system.global"),e("./modules/es7.error.is-error"),e("./modules/es7.math.iaddh"),e("./modules/es7.math.isubh"),e("./modules/es7.math.imulh"),e("./modules/es7.math.umulh"),e("./modules/es7.reflect.define-metadata"),e("./modules/es7.reflect.delete-metadata"),e("./modules/es7.reflect.get-metadata"),e("./modules/es7.reflect.get-metadata-keys"),e("./modules/es7.reflect.get-own-metadata"),e("./modules/es7.reflect.get-own-metadata-keys"),e("./modules/es7.reflect.has-metadata"),e("./modules/es7.reflect.has-own-metadata"),e("./modules/es7.reflect.metadata"),e("./modules/es7.asap"),e("./modules/es7.observable"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/_core")},{"./modules/_core":23,"./modules/es6.array.copy-within":121,"./modules/es6.array.every":122,"./modules/es6.array.fill":123,"./modules/es6.array.filter":124,"./modules/es6.array.find":126,"./modules/es6.array.find-index":125,"./modules/es6.array.for-each":127,"./modules/es6.array.from":128,"./modules/es6.array.index-of":129,"./modules/es6.array.is-array":130,"./modules/es6.array.iterator":131,"./modules/es6.array.join":132,"./modules/es6.array.last-index-of":133,"./modules/es6.array.map":134,"./modules/es6.array.of":135,"./modules/es6.array.reduce":137,"./modules/es6.array.reduce-right":136,"./modules/es6.array.slice":138,"./modules/es6.array.some":139,"./modules/es6.array.sort":140,"./modules/es6.array.species":141,"./modules/es6.date.now":142,"./modules/es6.date.to-iso-string":143,"./modules/es6.date.to-json":144,"./modules/es6.date.to-primitive":145,"./modules/es6.date.to-string":146,"./modules/es6.function.bind":147,"./modules/es6.function.has-instance":148,"./modules/es6.function.name":149,"./modules/es6.map":150,"./modules/es6.math.acosh":151,"./modules/es6.math.asinh":152,"./modules/es6.math.atanh":153,"./modules/es6.math.cbrt":154,"./modules/es6.math.clz32":155,"./modules/es6.math.cosh":156,"./modules/es6.math.expm1":157,"./modules/es6.math.fround":158,"./modules/es6.math.hypot":159,"./modules/es6.math.imul":160,"./modules/es6.math.log10":161,"./modules/es6.math.log1p":162,"./modules/es6.math.log2":163,"./modules/es6.math.sign":164,"./modules/es6.math.sinh":165,"./modules/es6.math.tanh":166,"./modules/es6.math.trunc":167,"./modules/es6.number.constructor":168,"./modules/es6.number.epsilon":169,"./modules/es6.number.is-finite":170,"./modules/es6.number.is-integer":171,"./modules/es6.number.is-nan":172,"./modules/es6.number.is-safe-integer":173,"./modules/es6.number.max-safe-integer":174,"./modules/es6.number.min-safe-integer":175,"./modules/es6.number.parse-float":176,"./modules/es6.number.parse-int":177,"./modules/es6.number.to-fixed":178,"./modules/es6.number.to-precision":179,"./modules/es6.object.assign":180,"./modules/es6.object.create":181,"./modules/es6.object.define-properties":182,"./modules/es6.object.define-property":183,"./modules/es6.object.freeze":184,"./modules/es6.object.get-own-property-descriptor":185,"./modules/es6.object.get-own-property-names":186,"./modules/es6.object.get-prototype-of":187,"./modules/es6.object.is":191,"./modules/es6.object.is-extensible":188,"./modules/es6.object.is-frozen":189,"./modules/es6.object.is-sealed":190,"./modules/es6.object.keys":192,"./modules/es6.object.prevent-extensions":193,"./modules/es6.object.seal":194,"./modules/es6.object.set-prototype-of":195,"./modules/es6.object.to-string":196,"./modules/es6.parse-float":197,"./modules/es6.parse-int":198,"./modules/es6.promise":199,"./modules/es6.reflect.apply":200,"./modules/es6.reflect.construct":201,"./modules/es6.reflect.define-property":202,"./modules/es6.reflect.delete-property":203,"./modules/es6.reflect.enumerate":204,"./modules/es6.reflect.get":207,"./modules/es6.reflect.get-own-property-descriptor":205,"./modules/es6.reflect.get-prototype-of":206,"./modules/es6.reflect.has":208,"./modules/es6.reflect.is-extensible":209,"./modules/es6.reflect.own-keys":210,"./modules/es6.reflect.prevent-extensions":211,"./modules/es6.reflect.set":213,"./modules/es6.reflect.set-prototype-of":212,"./modules/es6.regexp.constructor":214,"./modules/es6.regexp.flags":215,"./modules/es6.regexp.match":216,"./modules/es6.regexp.replace":217,"./modules/es6.regexp.search":218,"./modules/es6.regexp.split":219,"./modules/es6.regexp.to-string":220,"./modules/es6.set":221,"./modules/es6.string.anchor":222,"./modules/es6.string.big":223,"./modules/es6.string.blink":224,"./modules/es6.string.bold":225,"./modules/es6.string.code-point-at":226,"./modules/es6.string.ends-with":227,"./modules/es6.string.fixed":228,"./modules/es6.string.fontcolor":229,"./modules/es6.string.fontsize":230,"./modules/es6.string.from-code-point":231,"./modules/es6.string.includes":232,"./modules/es6.string.italics":233,"./modules/es6.string.iterator":234,"./modules/es6.string.link":235,"./modules/es6.string.raw":236,"./modules/es6.string.repeat":237,"./modules/es6.string.small":238,"./modules/es6.string.starts-with":239,"./modules/es6.string.strike":240,"./modules/es6.string.sub":241,"./modules/es6.string.sup":242,"./modules/es6.string.trim":243,"./modules/es6.symbol":244,"./modules/es6.typed.array-buffer":245,"./modules/es6.typed.data-view":246,"./modules/es6.typed.float32-array":247,"./modules/es6.typed.float64-array":248,"./modules/es6.typed.int16-array":249,"./modules/es6.typed.int32-array":250,"./modules/es6.typed.int8-array":251,"./modules/es6.typed.uint16-array":252,"./modules/es6.typed.uint32-array":253,"./modules/es6.typed.uint8-array":254,"./modules/es6.typed.uint8-clamped-array":255,"./modules/es6.weak-map":256,"./modules/es6.weak-set":257,"./modules/es7.array.includes":258,"./modules/es7.asap":259,"./modules/es7.error.is-error":260,"./modules/es7.map.to-json":261,"./modules/es7.math.iaddh":262,"./modules/es7.math.imulh":263,"./modules/es7.math.isubh":264,"./modules/es7.math.umulh":265,"./modules/es7.object.define-getter":266,"./modules/es7.object.define-setter":267,"./modules/es7.object.entries":268,"./modules/es7.object.get-own-property-descriptors":269,"./modules/es7.object.lookup-getter":270,"./modules/es7.object.lookup-setter":271,"./modules/es7.object.values":272,"./modules/es7.observable":273,"./modules/es7.reflect.define-metadata":274,"./modules/es7.reflect.delete-metadata":275,"./modules/es7.reflect.get-metadata":277,"./modules/es7.reflect.get-metadata-keys":276,"./modules/es7.reflect.get-own-metadata":279,"./modules/es7.reflect.get-own-metadata-keys":278,"./modules/es7.reflect.has-metadata":280,"./modules/es7.reflect.has-own-metadata":281,"./modules/es7.reflect.metadata":282,"./modules/es7.set.to-json":283,"./modules/es7.string.at":284,"./modules/es7.string.match-all":285,"./modules/es7.string.pad-end":286,"./modules/es7.string.pad-start":287,"./modules/es7.string.trim-left":288,"./modules/es7.string.trim-right":289,"./modules/es7.symbol.async-iterator":290,"./modules/es7.symbol.observable":291,"./modules/es7.system.global":292,"./modules/web.dom.iterable":293,"./modules/web.immediate":294,"./modules/web.timers":295}],297:[function(e,t,n){(function(e,n){!function(n){"use strict";function r(e,t,n,r){var i=Object.create((t||o).prototype),a=new p(r||[]);return i._invoke=d(e,n,a),i}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function o(){}function a(){}function s(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){this.arg=e}function l(t){function n(e,r,o,a){var s=i(t[e],t,r);if("throw"!==s.type){var u=s.arg,l=u.value;return l instanceof c?Promise.resolve(l.arg).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function r(e,t){function r(){return new Promise(function(r,i){n(e,t,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof e&&e.domain&&(n=e.domain.bind(n));var o;this._invoke=r}function d(e,t,n){var r=E;return function(o,a){if(r===j)throw new Error("Generator is already running");if(r===C){if("throw"===o)throw a;return g()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===_){n.delegate=null;var u=s.iterator["return"];if(u){var c=i(u,s.iterator,a);if("throw"===c.type){o="throw",a=c.arg;continue}}if("return"===o)continue}var c=i(s.iterator[o],s.iterator,a);if("throw"===c.type){n.delegate=null,o="throw",a=c.arg;continue}o="next",a=_;var l=c.arg;if(!l.done)return r=M,l;n[s.resultName]=l.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)n.sent=n._sent=a;else if("throw"===o){if(r===E)throw r=C,a;n.dispatchException(a)&&(o="next",a=_)}else"return"===o&&n.abrupt("return",a);r=j;var c=i(e,t,n);if("normal"===c.type){r=n.done?C:M;var l={value:c.arg,done:n.done};if(c.arg!==k)return l;n.delegate&&"next"===o&&(a=_)}else"throw"===c.type&&(r=C,o="throw",a=c.arg)}}}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(v.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=_,i.done=!0,i};return r.next=r}}return{next:g}}function g(){return{value:_,done:!0}}var _,v=Object.prototype.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",w=y.toStringTag||"@@toStringTag",x="object"==typeof t,S=n.regeneratorRuntime;if(S)return void(x&&(t.exports=S));S=n.regeneratorRuntime=x?t.exports:{},S.wrap=r;var E="suspendedStart",M="suspendedYield",j="executing",C="completed",k={},L=s.prototype=o.prototype;a.prototype=L.constructor=s,s.constructor=a,s[w]=a.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===a||"GeneratorFunction"===(t.displayName||t.name):!1},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(L),e},S.awrap=function(e){return new c(e)},u(l.prototype),S.async=function(e,t,n,i){var o=new l(r(e,t,n,i));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},u(L),L[b]=function(){return this},L[w]="Generator",L.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},S.values=m,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=_)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=v.call(i,"catchLoc"),s=v.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&v.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?this.next=i.finallyLoc:this.complete(o),k},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),k}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:m(e),resultName:t,nextLoc:n},k}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:304}],298:[function(e,t,n){!function(e){function n(e){function t(e,t){var i=t.length;r.push(function(){return"seq"==e?t[0].apply(this,n(arguments)):e+"("+(1==i&&"function"==typeof t[0]?t[0].apply(this,n(arguments)):t)+")"})}function n(e){return Array.prototype.slice.call(e)}var r=[];void 0!==e&&r.push(e);var i=function(){var e=this,t=n(arguments);return r.map(function(n){return n.apply(e,t)}).join(" ")};return["translate","rotate","scale","matrix","skewX","skewY","seq"].forEach(function(e){i[e]=function(){return t(e,n(arguments)),i}}),i}"undefined"!=typeof d3&&d3.svg&&(d3.svg.transform=n),"undefined"!=typeof t&&t.exports?t.exports=n:e.d3Transform=n}(this)},{}],299:[function(e,t,n){!function(){function e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function n(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function r(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function i(e){return null===e?NaN:+e}function o(e){return!isNaN(e)}function a(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function s(e){return e.length}function u(e){for(var t=1;e*t%1;)t*=10;return t}function c(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function l(){this._=Object.create(null)}function d(e){return(e+="")===xa||e[0]===Sa?Sa+e:e}function f(e){return(e+="")[0]===Sa?e.slice(1):e}function h(e){return d(e)in this._}function p(e){return(e=d(e))in this._&&delete this._[e]}function m(){var e=[];for(var t in this._)e.push(f(t));return e}function g(){var e=0;for(var t in this._)++e;return e}function _(){for(var e in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(e){return e}function b(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function w(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Ea.length;r>n;++n){var i=Ea[n]+t;if(i in e)return i}}function x(){}function S(){}function E(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new l;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function M(){ca.event.preventDefault()}function j(){for(var e,t=ca.event;e=t.sourceEvent;)t=e;return t}function C(e){for(var t=new S,n=0,r=arguments.length;++n<r;)t[arguments[n]]=E(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=ca.event;i.target=e,ca.event=i,t[i.type].apply(n,r)}finally{ca.event=o}}},t}function k(e){return ja(e,Aa),e}function L(e){return"function"==typeof e?e:function(){return Ca(e,this)}}function A(e){return"function"==typeof e?e:function(){return ka(e,this)}}function T(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=ca.ns.qualify(e),
null==t?e.local?r:n:"function"==typeof t?e.local?s:a:e.local?o:i}function I(e){return e.trim().replace(/\s+/g," ")}function O(e){return new RegExp("(?:^|\\s+)"+ca.requote(e)+"(?:\\s+|$)","g")}function N(e){return(e+"").trim().split(/^|\s+/)}function P(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=N(e).map(D);var i=e.length;return"function"==typeof t?r:n}function D(e){var t=O(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",I(i+" "+e))):n.setAttribute("class",I(i.replace(t," ")))}}function R(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?o:i}function H(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function q(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ta&&t.documentElement.namespaceURI===Ta?t.createElement(e):t.createElementNS(n,e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=ca.ns.qualify(e)).local?n:t}function U(){var e=this.parentNode;e&&e.removeChild(this)}function F(e){return{__data__:e}}function z(e){return function(){return La(this,e)}}function B(e){return arguments.length||(e=r),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function G(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,o=e[n],a=0,s=o.length;s>a;a++)(i=o[a])&&t(i,a,n);return e}function W(e){return ja(e,Oa),e}function V(e){var t,n;return function(r,i,o){var a,s=e[o].update,u=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<u;);return a}}function X(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){var i=u(t,da(arguments));r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+ca.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),u=Y;s>0&&(e=e.slice(0,s));var c=Na.get(e);return c&&(e=c,u=$),s?t?i:r:t?x:o}function Y(e,t){return function(n){var r=ca.event;ca.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{ca.event=r}}}function $(e,t){var n=Y(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function Z(t){var r=".dragsuppress-"+ ++Da,i="click"+r,o=ca.select(n(t)).on("touchmove"+r,M).on("dragstart"+r,M).on("selectstart"+r,M);if(null==Pa&&(Pa="onselectstart"in t?!1:w(t.style,"userSelect")),Pa){var a=e(t).style,s=a[Pa];a[Pa]="none"}return function(e){if(o.on(r,null),Pa&&(a[Pa]=s),e){var t=function(){o.on(i,null)};o.on(i,function(){M(),t()},!0),setTimeout(t,0)}}}function K(e,t){t.changedTouches&&(t=t.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>Ra){var o=n(e);if(o.scrollX||o.scrollY){r=ca.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Ra=!(a.f||a.e),r.remove()}}return Ra?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function J(){return ca.event.changedTouches[0].identifier}function Q(e){return e>0?1:0>e?-1:0}function ee(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function te(e){return e>1?0:-1>e?Ua:Math.acos(e)}function ne(e){return e>1?Ba:-1>e?-Ba:Math.asin(e)}function re(e){return((e=Math.exp(e))-1/e)/2}function ie(e){return((e=Math.exp(e))+1/e)/2}function oe(e){return((e=Math.exp(2*e))-1)/(e+1)}function ae(e){return(e=Math.sin(e/2))*e}function se(){}function ue(e,t,n){return this instanceof ue?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof ue?new ue(e.h,e.s,e.l):xe(""+e,Se,ue):new ue(e,t,n)}function ce(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?o+(a-o)*e/60:180>e?a:240>e?o+(a-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+t):n+t-n*t,o=2*n-a,new ve(i(e+120),i(e),i(e-120))}function le(e,t,n){return this instanceof le?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof le?new le(e.h,e.c,e.l):e instanceof fe?pe(e.l,e.a,e.b):pe((e=Ee((e=ca.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new le(e,t,n)}function de(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new fe(n,Math.cos(e*=Ga)*t,Math.sin(e)*t)}function fe(e,t,n){return this instanceof fe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof fe?new fe(e.l,e.a,e.b):e instanceof le?de(e.h,e.c,e.l):Ee((e=ve(e)).r,e.g,e.b):new fe(e,t,n)}function he(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=me(i)*ts,r=me(r)*ns,o=me(o)*rs,new ve(_e(3.2404542*i-1.5371385*r-.4985314*o),_e(-.969266*i+1.8760108*r+.041556*o),_e(.0556434*i-.2040259*r+1.0572252*o))}function pe(e,t,n){return e>0?new le(Math.atan2(n,t)*Wa,Math.sqrt(t*t+n*n),e):new le(NaN,NaN,e)}function me(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ge(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function _e(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ve(e,t,n){return this instanceof ve?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ve?new ve(e.r,e.g,e.b):xe(""+e,ve,ce):new ve(e,t,n)}function ye(e){return new ve(e>>16,e>>8&255,255&e)}function be(e){return ye(e)+""}function we(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function xe(e,t,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(je(i[0]),je(i[1]),je(i[2]))}return(o=as.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),t(a,s,u))}function Se(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=u>0&&1>u?0:r),new ue(r,i,u)}function Ee(e,t,n){e=Me(e),t=Me(t),n=Me(n);var r=ge((.4124564*e+.3575761*t+.1804375*n)/ts),i=ge((.2126729*e+.7151522*t+.072175*n)/ns),o=ge((.0193339*e+.119192*t+.9503041*n)/rs);return fe(116*i-16,500*(r-i),200*(i-o))}function Me(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function je(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ce(e){return"function"==typeof e?e:function(){return e}}function ke(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Le(t,n,e,r)}}function Le(e,t,n,r){function i(){var e,t=u.status;if(!t&&Te(u)||t>=200&&300>t||304===t){try{e=n.call(o,u)}catch(r){return void a.error.call(o,r)}a.load.call(o,e)}else a.error.call(o,u)}var o={},a=ca.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(e){var t=ca.event;ca.event=e;try{a.progress.call(o,u)}finally{ca.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(c=e,o):c},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(da(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),u.setRequestHeader)for(var l in s)u.setRequestHeader(l,s[l]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=c&&(u.responseType=c),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},ca.rebind(o,a,"on"),null==r?o:o.get(Ae(r))}function Ae(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Te(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Ie(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,o={c:e,t:i,n:null};return us?us.n=o:ss=o,us=o,cs||(ls=clearTimeout(ls),cs=1,ds(Oe)),o}function Oe(){var e=Ne(),t=Pe()-e;t>24?(isFinite(t)&&(clearTimeout(ls),ls=setTimeout(Oe,t)),cs=0):(cs=1,ds(Oe))}function Ne(){for(var e=Date.now(),t=ss;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Pe(){for(var e,t=ss,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:ss=t.n;return us=e,n}function De(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Re(e,t){var n=Math.pow(10,3*wa(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function He(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>t));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:y;return function(e){var n=hs.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",c=n[5],l=+n[6],d=n[7],f=n[8],h=n[9],p=1,m="",g="",_=!1,v=!0;switch(f&&(f=+f.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),h){case"n":d=!0,h="g";break;case"%":p=100,g="%",h="f";break;case"p":p=100,g="%",h="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+h.toLowerCase());case"c":v=!1;case"d":_=!0,f=0;break;case"s":p=-1,h="r"}"$"===u&&(m=i[0],g=i[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):"e"!=h&&"f"!=h||(f=Math.max(0,Math.min(20,f)))),h=ps.get(h)||qe;var y=c&&d;return function(e){var n=g;if(_&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>p){var u=ca.formatPrefix(e,f);e=u.scale(e),n=u.symbol+g}else e*=p;e=h(e,f);var b,w,x=e.lastIndexOf(".");if(0>x){var S=v?e.lastIndexOf("e"):-1;0>S?(b=e,w=""):(b=e.substring(0,S),w=e.substring(S))}else b=e.substring(0,x),w=t+e.substring(x+1);!c&&d&&(b=o(b,1/0));var E=m.length+b.length+w.length+(y?0:i.length),M=l>E?new Array(E=l-E+1).join(r):"";return y&&(b=o(M+b,M.length?l-w.length:1/0)),i+=m,e=b+w,("<"===a?i+e+M:">"===a?M+i+e:"^"===a?M.substring(0,E>>=1)+i+e+M.substring(E):i+(y?e:M+e))+n}}}function qe(e){return e+""}function Ue(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Fe(e,t,n){function r(t){var n=e(t),r=o(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new gs(n-1)),1),n}function o(e,n){return t(e=new gs(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;r>a;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{gs=Ue;var r=new Ue;return r._=e,a(r,t,n)}finally{gs=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var u=e.utc=ze(e);return u.floor=u,u.round=ze(r),u.ceil=ze(i),u.offset=ze(o),u.range=s,e}function ze(e){return function(t,n){try{gs=Ue;var r=new Ue;return r._=t,e(r,n)._}finally{gs=Date}}}function Be(e){function t(e){function t(t){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=vs[n=e.charAt(++s)])&&(n=e.charAt(++s)),(o=k[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(e.slice(u,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&gs!==Ue,a=new(o?Ue:gs);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,s=0,u=t.length,c=n.length;u>s;){if(r>=c)return-1;if(i=t.charCodeAt(s++),37===i){if(a=t.charAt(s++),o=L[a in vs?t.charAt(s++):a],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.w=S.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){j.lastIndex=0;var r=j.exec(t.slice(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){E.lastIndex=0;var r=E.exec(t.slice(n));return r?(e.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,k.c.toString(),t,r)}function u(e,t,r){return n(e,k.x.toString(),t,r)}function c(e,t,r){return n(e,k.X.toString(),t,r)}function l(e,t,n){var r=y.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var d=e.dateTime,f=e.date,h=e.time,p=e.periods,m=e.days,g=e.shortDays,_=e.months,v=e.shortMonths;t.utc=function(e){function n(e){try{gs=Ue;var t=new gs;return t._=e,r(t)}finally{gs=Date}}var r=t(e);return n.parse=function(e){try{gs=Ue;var t=r.parse(e);return t&&t._}finally{gs=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ct;var y=ca.map(),b=We(m),w=Ve(m),x=We(g),S=Ve(g),E=We(_),M=Ve(_),j=We(v),C=Ve(v);p.forEach(function(e,t){y.set(e.toLowerCase(),t)});var k={a:function(e){return g[e.getDay()]},A:function(e){return m[e.getDay()]},b:function(e){return v[e.getMonth()]},B:function(e){return _[e.getMonth()]},c:t(d),d:function(e,t){return Ge(e.getDate(),t,2)},e:function(e,t){return Ge(e.getDate(),t,2)},H:function(e,t){return Ge(e.getHours(),t,2)},I:function(e,t){return Ge(e.getHours()%12||12,t,2)},j:function(e,t){return Ge(1+ms.dayOfYear(e),t,3)},L:function(e,t){return Ge(e.getMilliseconds(),t,3)},m:function(e,t){return Ge(e.getMonth()+1,t,2)},M:function(e,t){return Ge(e.getMinutes(),t,2)},p:function(e){return p[+(e.getHours()>=12)]},S:function(e,t){return Ge(e.getSeconds(),t,2)},U:function(e,t){return Ge(ms.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ge(ms.mondayOfYear(e),t,2)},x:t(f),X:t(h),y:function(e,t){return Ge(e.getFullYear()%100,t,2)},Y:function(e,t){return Ge(e.getFullYear()%1e4,t,4)},Z:st,"%":function(){return"%"}},L={a:r,A:i,b:o,B:a,c:s,d:tt,e:tt,H:rt,I:rt,j:nt,L:at,m:et,M:it,p:l,S:ot,U:Ye,w:Xe,W:$e,x:u,X:c,y:Ke,Y:Ze,Z:Je,"%":ut};return t}function Ge(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function We(e){return new RegExp("^(?:"+e.map(ca.requote).join("|")+")","i")}function Ve(e){for(var t=new l,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Xe(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ye(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function $e(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Ze(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ke(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+2));return r?(e.y=Qe(+r[0]),n+r[0].length):-1}function Je(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Qe(e){return e+(e>68?1900:2e3)}function et(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tt(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function nt(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function rt(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function it(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ot(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function at(e,t,n){ys.lastIndex=0;var r=ys.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function st(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=wa(t)/60|0,i=wa(t)%60;return n+Ge(r,"0",2)+Ge(i,"0",2)}function ut(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ct(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function lt(){}function dt(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function ft(e,t){e&&Es.hasOwnProperty(e.type)&&Es[e.type](e,t)}function ht(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function pt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ht(e[n],t,1);t.polygonEnd()}function mt(){function e(e,t){e*=Ga,t=t*Ga/2+Ua/4;var n=e-r,a=n>=0?1:-1,s=a*n,u=Math.cos(t),c=Math.sin(t),l=o*c,d=i*u+l*Math.cos(s),f=l*a*Math.sin(s);js.add(Math.atan2(f,d)),r=e,i=u,o=c}var t,n,r,i,o;Cs.point=function(a,s){Cs.point=e,r=(t=a)*Ga,i=Math.cos(s=(n=s)*Ga/2+Ua/4),o=Math.sin(s)},Cs.lineEnd=function(){e(t,n)}}function gt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function _t(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function bt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function wt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function xt(e){return[Math.atan2(e[1],e[0]),ne(e[2])]}function St(e,t){return wa(e[0]-t[0])<Ha&&wa(e[1]-t[1])<Ha}function Et(e,t){e*=Ga;var n=Math.cos(t*=Ga);Mt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Mt(e,t,n){++ks,As+=(e-As)/ks,Ts+=(t-Ts)/ks,Is+=(n-Is)/ks}function jt(){function e(e,i){e*=Ga;var o=Math.cos(i*=Ga),a=o*Math.cos(e),s=o*Math.sin(e),u=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*u-r*s)*c+(c=r*a-t*u)*c+(c=t*s-n*a)*c),t*a+n*s+r*u);Ls+=c,Os+=c*(t+(t=a)),Ns+=c*(n+(n=s)),Ps+=c*(r+(r=u)),Mt(t,n,r)}var t,n,r;qs.point=function(i,o){i*=Ga;var a=Math.cos(o*=Ga);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),qs.point=e,Mt(t,n,r)}}function Ct(){qs.point=Et}function kt(){function e(e,t){e*=Ga;var n=Math.cos(t*=Ga),a=n*Math.cos(e),s=n*Math.sin(e),u=Math.sin(t),c=i*u-o*s,l=o*a-r*u,d=r*s-i*a,f=Math.sqrt(c*c+l*l+d*d),h=r*a+i*s+o*u,p=f&&-te(h)/f,m=Math.atan2(f,h);Ds+=p*c,Rs+=p*l,Hs+=p*d,Ls+=m,Os+=m*(r+(r=a)),Ns+=m*(i+(i=s)),Ps+=m*(o+(o=u)),Mt(r,i,o)}var t,n,r,i,o;qs.point=function(a,s){t=a,n=s,qs.point=e,a*=Ga;var u=Math.cos(s*=Ga);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),Mt(r,i,o)},qs.lineEnd=function(){e(t,n),qs.lineEnd=Ct,qs.point=Et}}function Lt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function At(){return!0}function Tt(e,t,n,r,i){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(St(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var u=new Ot(n,e,null,!0),c=new Ot(n,null,u,!1);u.o=c,o.push(u),a.push(c),u=new Ot(r,e,null,!1),c=new Ot(r,null,u,!0),u.o=c,o.push(u),a.push(c)}}),a.sort(t),It(o),It(a),o.length){for(var s=0,u=n,c=a.length;c>s;++s)a[s].e=u=!u;for(var l,d,f=o[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var s=0,c=l.length;c>s;++s)i.point((d=l[s])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p){l=h.p.z;for(var s=l.length-1;s>=0;--s)i.point((d=l[s])[0],d[1])}else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,l=h.z,p=!p}while(!h.v);i.lineEnd()}}}function It(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Ot(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Nt(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function s(e,t){var n=i(e,t);g.point(n[0],n[1])}function u(){v.point=s,g.lineStart()}function c(){v.point=a,g.lineEnd()}function l(e,t){m.push([e,t]);var n=i(e,t);b.point(n[0],n[1])}function d(){b.lineStart(),m=[]}function f(){l(m[0][0],m[0][1]),b.lineEnd();var e,t=b.clean(),n=y.buffer(),r=n.length;if(m.pop(),p.push(m),m=null,r)if(1&t){e=n[0];var i,r=e.length-1,a=-1;if(r>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Pt))}var h,p,m,g=t(o),_=i.invert(r[0],r[1]),v={point:a,lineStart:u,lineEnd:c,polygonStart:function(){v.point=l,v.lineStart=d,v.lineEnd=f,h=[],p=[]},polygonEnd:function(){v.point=a,v.lineStart=u,v.lineEnd=c,h=ca.merge(h);var e=Ft(_,p);h.length?(w||(o.polygonStart(),w=!0),Tt(h,Rt,e,n,o)):e&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),h=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},y=Dt(),b=t(y),w=!1;return v}}function Pt(e){return e.length>1}function Dt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:x,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Rt(e,t){return((e=e.x)[0]<0?e[1]-Ba-Ha:Ba-e[1])-((t=t.x)[0]<0?t[1]-Ba-Ha:Ba-t[1])}function Ht(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Ua:-Ua,u=wa(o-n);wa(u-Ua)<Ha?(e.point(n,r=(r+a)/2>0?Ba:-Ba),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=Ua&&(wa(n-i)<Ha&&(n-=i*Ha),wa(o-s)<Ha&&(o-=s*Ha),r=qt(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function qt(e,t,n,r){var i,o,a=Math.sin(e-n);return wa(a)>Ha?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function Ut(e,t,n,r){var i;if(null==e)i=n*Ba,r.point(-Ua,i),r.point(0,i),r.point(Ua,i),r.point(Ua,0),r.point(Ua,-i),r.point(0,-i),r.point(-Ua,-i),r.point(-Ua,0),r.point(-Ua,i);else if(wa(e[0]-t[0])>Ha){var o=e[0]<t[0]?Ua:-Ua;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Ft(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;js.reset();for(var s=0,u=t.length;u>s;++s){var c=t[s],l=c.length;if(l)for(var d=c[0],f=d[0],h=d[1]/2+Ua/4,p=Math.sin(h),m=Math.cos(h),g=1;;){g===l&&(g=0),e=c[g];var _=e[0],v=e[1]/2+Ua/4,y=Math.sin(v),b=Math.cos(v),w=_-f,x=w>=0?1:-1,S=x*w,E=S>Ua,M=p*y;if(js.add(Math.atan2(M*x*Math.sin(S),m*b+M*Math.cos(S))),o+=E?w+x*Fa:w,E^f>=n^_>=n){var j=vt(gt(d),gt(e));wt(j);var C=vt(i,j);wt(C);var k=(E^w>=0?-1:1)*ne(C[2]);(r>k||r===k&&(j[0]||j[1]))&&(a+=E^w>=0?1:-1)}if(!g++)break;f=_,p=y,m=b,d=e}}return(-Ha>o||Ha>o&&0>js)^1&a}function zt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(d,f){var h,p=[d,f],m=t(d,f),g=a?m?0:i(d,f):m?i(d+(0>d?Ua:-Ua),f):0;if(!n&&(c=u=m)&&e.lineStart(),m!==u&&(h=r(n,p),(St(n,h)||St(p,h))&&(p[0]+=Ha,p[1]+=Ha,m=t(p[0],p[1]))),m!==u)l=0,m?(e.lineStart(),h=r(p,n),e.point(h[0],h[1])):(h=r(n,p),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(s&&n&&a^m){var _;g&o||!(_=r(p,n,!0))||(l=0,a?(e.lineStart(),e.point(_[0][0],_[0][1]),e.point(_[1][0],_[1][1]),e.lineEnd()):(e.point(_[1][0],_[1][1]),e.lineEnd(),e.lineStart(),e.point(_[0][0],_[0][1])))}!m||n&&St(n,p)||e.point(p[0],p[1]),n=p,u=m,o=g},lineEnd:function(){u&&e.lineEnd(),n=null},clean:function(){return l|(c&&u)<<1}}}function r(e,t,n){var r=gt(e),i=gt(t),a=[1,0,0],s=vt(r,i),u=_t(s,s),c=s[0],l=u-c*c;if(!l)return!n&&e;var d=o*u/l,f=-o*c/l,h=vt(a,s),p=bt(a,d),m=bt(s,f);yt(p,m);var g=h,_=_t(p,g),v=_t(g,g),y=_*_-v*(_t(p,p)-1);if(!(0>y)){var b=Math.sqrt(y),w=bt(g,(-_-b)/v);if(yt(w,p),w=xt(w),!n)return w;var x,S=e[0],E=t[0],M=e[1],j=t[1];S>E&&(x=S,S=E,E=x);var C=E-S,k=wa(C-Ua)<Ha,L=k||Ha>C;if(!k&&M>j&&(x=M,M=j,j=x),L?k?M+j>0^w[1]<(wa(w[0]-S)<Ha?M:j):M<=w[1]&&w[1]<=j:C>Ua^(S<=w[0]&&w[0]<=E)){var A=bt(g,(-_+b)/v);return yt(A,p),[w,xt(A)]}}}function i(t,n){var r=a?e:Ua-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(e),a=o>0,s=wa(o)>Ha,u=gn(e,6*Ga);return Nt(t,n,u,a?[0,-e]:[-Ua,e-Ua])}function Bt(e,t,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,c=a.y,l=s.x,d=s.y,f=0,h=1,p=l-u,m=d-c;if(o=e-u,p||!(o>0)){if(o/=p,0>p){if(f>o)return;h>o&&(h=o)}else if(p>0){if(o>h)return;o>f&&(f=o)}if(o=n-u,p||!(0>o)){if(o/=p,0>p){if(o>h)return;o>f&&(f=o)}else if(p>0){if(f>o)return;h>o&&(h=o)}if(o=t-c,m||!(o>0)){if(o/=m,0>m){if(f>o)return;h>o&&(h=o)}else if(m>0){if(o>h)return;o>f&&(f=o)}if(o=r-c,m||!(0>o)){if(o/=m,0>m){if(o>h)return;o>f&&(f=o)}else if(m>0){if(f>o)return;h>o&&(h=o)}return f>0&&(i.a={x:u+f*p,y:c+f*m}),1>h&&(i.b={x:u+h*p,y:c+h*m}),i}}}}}}function Gt(e,t,n,r){function i(r,i){return wa(r[0]-e)<Ha?i>0?0:3:wa(r[0]-n)<Ha?i>0?2:1:wa(r[1]-t)<Ha?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function u(e){for(var t=0,n=g.length,r=e[1],i=0;n>i;++i)for(var o,a=1,s=g[i],u=s.length,c=s[0];u>a;++a)o=s[a],c[1]<=r?o[1]>r&&ee(c,o,e)>0&&++t:o[1]<=r&&ee(c,o,e)<0&&--t,c=o;return 0!==t}function c(o,s,u,c){var l=0,d=0;if(null==o||(l=i(o,u))!==(d=i(s,u))||a(o,s)<0^u>0){do c.point(0===l||3===l?e:n,l>1?r:t);while((l=(l+u+4)%4)!==d)}else c.point(s[0],s[1])}function l(i,o){return i>=e&&n>=i&&o>=t&&r>=o}function d(e,t){l(e,t)&&s.point(e,t)}function f(){L.point=p,g&&g.push(_=[]),E=!0,S=!1,w=x=NaN}function h(){m&&(p(v,y),b&&S&&C.rejoin(),m.push(C.buffer())),L.point=d,S&&s.lineEnd()}function p(e,t){e=Math.max(-Fs,Math.min(Fs,e)),t=Math.max(-Fs,Math.min(Fs,t));var n=l(e,t);if(g&&_.push([e,t]),E)v=e,y=t,b=n,E=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&S)s.point(e,t);else{var r={a:{x:w,y:x},b:{x:e,y:t}};k(r)?(S||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),M=!1):n&&(s.lineStart(),s.point(e,t),M=!1)}w=e,x=t,S=n}var m,g,_,v,y,b,w,x,S,E,M,j=s,C=Dt(),k=Bt(e,t,n,r),L={point:d,lineStart:f,lineEnd:h,polygonStart:function(){s=C,m=[],g=[],M=!0},polygonEnd:function(){s=j,m=ca.merge(m);var t=u([e,r]),n=M&&t,i=m.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),i&&Tt(m,o,t,c,s),s.polygonEnd()),m=g=_=null}};return L}}function Wt(e){var t=0,n=Ua/3,r=un(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Ua/180,n=e[1]*Ua/180):[t/Ua*180,n/Ua*180]},i}function Vt(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,ne((o-(e*e+n*n)*i*i)/(2*i))]},n}function Xt(){function e(e,t){Bs+=i*e-r*t,r=e,i=t}var t,n,r,i;Ys.point=function(o,a){Ys.point=e,t=r=o,n=i=a},Ys.lineEnd=function(){e(t,n)}}function Yt(e,t){Gs>e&&(Gs=e),e>Vs&&(Vs=e),Ws>t&&(Ws=t),t>Xs&&(Xs=t)}function $t(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function i(){a.push("Z")}var o=Zt(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return o=Zt(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function Zt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Kt(e,t){As+=e,Ts+=t,++Is}function Jt(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);Os+=a*(t+e)/2,Ns+=a*(n+r)/2,Ps+=a,Kt(t=e,n=r)}var t,n;Zs.point=function(r,i){Zs.point=e,Kt(t=r,n=i)}}function Qt(){Zs.point=Kt}function en(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);Os+=a*(r+e)/2,Ns+=a*(i+t)/2,Ps+=a,a=i*e-r*t,Ds+=a*(r+e),Rs+=a*(i+t),Hs+=3*a,Kt(r=e,i=t)}var t,n,r,i;Zs.point=function(o,a){Zs.point=e,Kt(t=r=o,n=i=a)},Zs.lineEnd=function(){e(t,n)}}function tn(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,Fa)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function o(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return a=e,s},result:x};return s}function nn(e){function t(e){return(s?r:n)(e)}function n(t){return an(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){y=NaN,E.point=o,t.lineStart()}function o(n,r){var o=gt([n,r]),a=e(n,r);i(y,b,v,w,x,S,y=a[0],b=a[1],v=n,w=o[0],x=o[1],S=o[2],s,t),t.point(y,b)}function a(){E.point=n,t.lineEnd()}function u(){r(),E.point=c,E.lineEnd=l}function c(e,t){o(d=e,f=t),h=y,p=b,m=w,g=x,_=S,E.point=o}function l(){i(y,b,v,w,x,S,h,p,d,m,g,_,s,t),E.lineEnd=a,a()}var d,f,h,p,m,g,_,v,y,b,w,x,S,E={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),E.lineStart=u},polygonEnd:function(){t.polygonEnd(),E.lineStart=r}};return E}function i(t,n,r,s,u,c,l,d,f,h,p,m,g,_){var v=l-t,y=d-n,b=v*v+y*y;if(b>4*o&&g--){var w=s+h,x=u+p,S=c+m,E=Math.sqrt(w*w+x*x+S*S),M=Math.asin(S/=E),j=wa(wa(S)-1)<Ha||wa(r-f)<Ha?(r+f)/2:Math.atan2(x,w),C=e(j,M),k=C[0],L=C[1],A=k-t,T=L-n,I=y*A-v*T;(I*I/b>o||wa((v*A+y*T)/b-.5)>.3||a>s*h+u*p+c*m)&&(i(t,n,r,s,u,c,k,L,j,w/=E,x/=E,S,g,_),_.point(k,L),i(k,L,j,w,x,S,l,d,f,h,p,m,g,_))}}var o=.5,a=Math.cos(30*Ga),s=16;return t.precision=function(e){return arguments.length?(s=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function rn(e){var t=nn(function(t,n){return e([t*Wa,n*Wa])});return function(e){return cn(t(e))}}function on(e){this.stream=e}function an(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function sn(e){return un(function(){return e})()}function un(e){function t(e){return e=s(e[0]*Ga,e[1]*Ga),[e[0]*f+u,c-e[1]*f]}function n(e){return e=s.invert((e[0]-u)/f,(c-e[1])/f),e&&[e[0]*Wa,e[1]*Wa]}function r(){s=Lt(a=fn(_,v,b),o);var e=o(m,g);return u=h-e[0]*f,c=p+e[1]*f,i()}function i(){return l&&(l.valid=!1,l=null),t}var o,a,s,u,c,l,d=nn(function(e,t){return e=o(e,t),[e[0]*f+u,c-e[1]*f]}),f=150,h=480,p=250,m=0,g=0,_=0,v=0,b=0,w=Us,x=y,S=null,E=null;return t.stream=function(e){return l&&(l.valid=!1),l=cn(w(a,d(x(e)))),l.valid=!0,l},t.clipAngle=function(e){return arguments.length?(w=null==e?(S=e,Us):zt((S=+e)*Ga),i()):S},t.clipExtent=function(e){return arguments.length?(E=e,x=e?Gt(e[0][0],e[0][1],e[1][0],e[1][1]):y,i()):E},t.scale=function(e){return arguments.length?(f=+e,r()):f},t.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],r()):[h,p]},t.center=function(e){return arguments.length?(m=e[0]%360*Ga,g=e[1]%360*Ga,r()):[m*Wa,g*Wa]},t.rotate=function(e){return arguments.length?(_=e[0]%360*Ga,v=e[1]%360*Ga,b=e.length>2?e[2]%360*Ga:0,r()):[_*Wa,v*Wa,b*Wa]},ca.rebind(t,d,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function cn(e){return an(e,function(t,n){e.point(t*Ga,n*Ga)})}function ln(e,t){return[e,t]}function dn(e,t){return[e>Ua?e-Fa:-Ua>e?e+Fa:e,t]}function fn(e,t,n){return e?t||n?Lt(pn(e),mn(t,n)):pn(e):t||n?mn(t,n):dn}function hn(e){return function(t,n){return t+=e,[t>Ua?t-Fa:-Ua>t?t+Fa:t,n]}}function pn(e){var t=hn(e);return t.invert=hn(-e),t}function mn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,c=Math.sin(t),l=c*r+s*i;
return[Math.atan2(u*o-l*a,s*r-c*i),ne(l*o+u*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,c=Math.sin(t),l=c*o-u*a;return[Math.atan2(u*o+c*a,s*r+l*i),ne(l*r-s*i)]},n}function gn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var u=a*t;null!=i?(i=_n(n,i),o=_n(n,o),(a>0?o>i:i>o)&&(i+=a*Fa)):(i=e+a*Fa,o=e-.5*u);for(var c,l=i;a>0?l>o:o>l;l-=u)s.point((c=xt([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],c[1])}}function _n(e,t){var n=gt(t);n[0]-=e,wt(n);var r=te(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ha)%(2*Math.PI)}function vn(e,t,n){var r=ca.range(e,t-Ha,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function yn(e,t,n){var r=ca.range(e,t-Ha,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function bn(e){return e.source}function wn(e){return e.target}function xn(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),c=i*Math.sin(e),l=a*Math.cos(n),d=a*Math.sin(n),f=2*Math.asin(Math.sqrt(ae(r-t)+i*a*ae(n-e))),h=1/Math.sin(f),p=f?function(e){var t=Math.sin(e*=f)*h,n=Math.sin(f-e)*h,r=n*u+t*l,i=n*c+t*d,a=n*o+t*s;return[Math.atan2(i,r)*Wa,Math.atan2(a,Math.sqrt(r*r+i*i))*Wa]}:function(){return[e*Wa,t*Wa]};return p.distance=f,p}function Sn(){function e(e,i){var o=Math.sin(i*=Ga),a=Math.cos(i),s=wa((e*=Ga)-t),u=Math.cos(s);Ks+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),t=e,n=o,r=a}var t,n,r;Js.point=function(i,o){t=i*Ga,n=Math.sin(o*=Ga),r=Math.cos(o),Js.point=e},Js.lineEnd=function(){Js.point=Js.lineEnd=x}}function En(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function Mn(e,t){function n(e,t){a>0?-Ba+Ha>t&&(t=-Ba+Ha):t>Ba-Ha&&(t=Ba-Ha);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Ua/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=Q(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ba]},n):Cn}function jn(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return wa(i)<Ha?ln:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-Q(i)*Math.sqrt(e*e+n*n)]},n)}function Cn(e,t){return[e,Math.log(Math.tan(Ua/4+t/2))]}function kn(e){var t,n=sn(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Ua*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function Ln(e,t){return[Math.log(Math.tan(Ua/4+t/2)),-e]}function An(e){return e[0]}function Tn(e){return e[1]}function In(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&ee(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function On(e,t){return e[0]-t[0]||e[1]-t[1]}function Nn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Pn(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,u=e[1],c=n[1],l=t[1]-u,d=r[1]-c,f=(s*(u-c)-d*(i-o))/(d*a-s*l);return[i+f*a,u+f*l]}function Dn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Rn(){ir(this),this.edge=this.site=this.circle=null}function Hn(e){var t=lu.pop()||new Rn;return t.site=e,t}function qn(e){$n(e),su.remove(e),lu.push(e),ir(e)}function Un(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];qn(e);for(var u=o;u.circle&&wa(n-u.circle.x)<Ha&&wa(r-u.circle.cy)<Ha;)o=u.P,s.unshift(u),qn(u),u=o;s.unshift(u),$n(u);for(var c=a;c.circle&&wa(n-c.circle.x)<Ha&&wa(r-c.circle.cy)<Ha;)a=c.N,s.push(c),qn(c),c=a;s.push(c),$n(c);var l,d=s.length;for(l=1;d>l;++l)c=s[l],u=s[l-1],tr(c.edge,u.site,c.site,i);u=s[0],c=s[d-1],c.edge=Qn(u.site,c.site,null,i),Yn(u),Yn(c)}function Fn(e){for(var t,n,r,i,o=e.x,a=e.y,s=su._;s;)if(r=zn(s,a)-o,r>Ha)s=s.L;else{if(i=o-Bn(s,a),!(i>Ha)){r>-Ha?(t=s.P,n=s):i>-Ha?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=Hn(e);if(su.insert(t,u),t||n){if(t===n)return $n(t),n=Hn(t.site),su.insert(u,n),u.edge=n.edge=Qn(t.site,u.site),Yn(t),void Yn(n);if(!n)return void(u.edge=Qn(t.site,u.site));$n(t),$n(n);var c=t.site,l=c.x,d=c.y,f=e.x-l,h=e.y-d,p=n.site,m=p.x-l,g=p.y-d,_=2*(f*g-h*m),v=f*f+h*h,y=m*m+g*g,b={x:(g*v-h*y)/_+l,y:(f*y-m*v)/_+d};tr(n.edge,c,p,b),u.edge=Qn(c,e,null,b),n.edge=Qn(e,p,null,b),Yn(t),Yn(n)}}function zn(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,c=u-t;if(!c)return s;var l=s-r,d=1/o-1/c,f=l/c;return d?(-f+Math.sqrt(f*f-2*d*(l*l/(-2*c)-u+c/2+i-o/2)))/d+r:(r+s)/2}function Bn(e,t){var n=e.N;if(n)return zn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Gn(e){this.site=e,this.edges=[]}function Wn(e){for(var t,n,r,i,o,a,s,u,c,l,d=e[0][0],f=e[1][0],h=e[0][1],p=e[1][1],m=au,g=m.length;g--;)if(o=m[g],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)l=s[a].end(),r=l.x,i=l.y,c=s[++a%u].start(),t=c.x,n=c.y,(wa(r-t)>Ha||wa(i-n)>Ha)&&(s.splice(a,0,new nr(er(o.site,l,wa(r-d)<Ha&&p-i>Ha?{x:d,y:wa(t-d)<Ha?n:p}:wa(i-p)<Ha&&f-r>Ha?{x:wa(n-p)<Ha?t:f,y:p}:wa(r-f)<Ha&&i-h>Ha?{x:f,y:wa(t-f)<Ha?n:h}:wa(i-h)<Ha&&r-d>Ha?{x:wa(n-h)<Ha?t:d,y:h}:null),o.site,null)),++u)}function Vn(e,t){return t.angle-e.angle}function Xn(){ir(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,c=r.y-s,l=o.x-a,d=o.y-s,f=2*(u*d-c*l);if(!(f>=-qa)){var h=u*u+c*c,p=l*l+d*d,m=(d*h-c*p)/f,g=(u*p-l*h)/f,d=g+s,_=du.pop()||new Xn;_.arc=e,_.site=i,_.x=m+a,_.y=d+Math.sqrt(m*m+g*g),_.cy=d,e.circle=_;for(var v=null,y=cu._;y;)if(_.y<y.y||_.y===y.y&&_.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}cu.insert(v,_),v||(uu=_)}}}}function $n(e){var t=e.circle;t&&(t.P||(uu=t.N),cu.remove(t),du.push(t),ir(t),e.circle=null)}function Zn(e){for(var t,n=ou,r=Bt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Kn(t,e)||!r(t)||wa(t.a.x-t.b.x)<Ha&&wa(t.a.y-t.b.y)<Ha)&&(t.a=t.b=null,n.splice(i,1))}function Kn(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],u=t[0][1],c=t[1][1],l=e.l,d=e.r,f=l.x,h=l.y,p=d.x,m=d.y,g=(f+p)/2,_=(h+m)/2;if(m===h){if(a>g||g>=s)return;if(f>p){if(o){if(o.y>=c)return}else o={x:g,y:u};n={x:g,y:c}}else{if(o){if(o.y<u)return}else o={x:g,y:c};n={x:g,y:u}}}else if(r=(f-p)/(m-h),i=_-r*g,-1>r||r>1)if(f>p){if(o){if(o.y>=c)return}else o={x:(u-i)/r,y:u};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<u)return}else o={x:(c-i)/r,y:c};n={x:(u-i)/r,y:u}}else if(m>h){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function Jn(e,t){this.l=e,this.r=t,this.a=this.b=null}function Qn(e,t,n,r){var i=new Jn(e,t);return ou.push(i),n&&tr(i,e,t,n),r&&tr(i,t,e,r),au[e.i].edges.push(new nr(i,e,t)),au[t.i].edges.push(new nr(i,t,e)),i}function er(e,t,n){var r=new Jn(e,null);return r.a=t,r.b=n,ou.push(r),r}function tr(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function nr(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function rr(){this._=null}function ir(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function or(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ar(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function sr(e){for(;e.L;)e=e.L;return e}function ur(e,t){var n,r,i,o=e.sort(cr).pop();for(ou=[],au=new Array(e.length),su=new rr,cu=new rr;;)if(i=uu,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(au[o.i]=new Gn(o),Fn(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;Un(i.arc)}t&&(Zn(t),Wn(t));var a={cells:au,edges:ou};return su=cu=ou=au=null,a}function cr(e,t){return t.y-e.y||t.x-e.x}function lr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function dr(e){return e.x}function fr(e){return e.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pr(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=t.nodes;u[0]&&pr(e,u[0],n,r,a,s),u[1]&&pr(e,u[1],a,r,i,s),u[2]&&pr(e,u[2],n,s,a,o),u[3]&&pr(e,u[3],a,s,i,o)}}function mr(e,t,n,r,i,o,a){var s,u=1/0;return function c(e,l,d,f,h){if(!(l>o||d>a||r>f||i>h)){if(p=e.point){var p,m=t-e.x,g=n-e.y,_=m*m+g*g;if(u>_){var v=Math.sqrt(u=_);r=t-v,i=n-v,o=t+v,a=n+v,s=p}}for(var y=e.nodes,b=.5*(l+f),w=.5*(d+h),x=t>=b,S=n>=w,E=S<<1|x,M=E+4;M>E;++E)if(e=y[3&E])switch(3&E){case 0:c(e,l,d,b,w);break;case 1:c(e,b,d,f,w);break;case 2:c(e,l,w,b,h);break;case 3:c(e,b,w,f,h)}}}(e,r,i,o,a),s}function gr(e,t){e=ca.rgb(e),t=ca.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,s=t.b-i;return function(e){return"#"+we(Math.round(n+o*e))+we(Math.round(r+a*e))+we(Math.round(i+s*e))}}function _r(e,t){var n,r={},i={};for(n in e)n in t?r[n]=br(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function vr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yr(e,t){var n,r,i,o=hu.lastIndex=pu.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=hu.exec(e))&&(r=pu.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:vr(n,r)})),o=pu.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;t>r;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function br(e,t){for(var n,r=ca.interpolators.length;--r>=0&&!(n=ca.interpolators[r](e,t)););return n}function wr(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(br(e[n],t[n]));for(;o>n;++n)i[n]=e[n];for(;a>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function xr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Sr(e){return function(t){return 1-e(1-t)}}function Er(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Mr(e){return e*e}function jr(e){return e*e*e}function Cr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function kr(e){return function(t){return Math.pow(t,e)}}function Lr(e){return 1-Math.cos(e*Ba)}function Ar(e){return Math.pow(2,10*(e-1))}function Tr(e){return 1-Math.sqrt(1-e*e)}function Ir(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Fa*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Fa/t)}}function Or(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Nr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Pr(e,t){e=ca.hcl(e),t=ca.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return de(n+o*e,r+a*e,i+s*e)+""}}function Dr(e,t){e=ca.hsl(e),t=ca.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return ce(n+o*e,r+a*e,i+s*e)+""}}function Rr(e,t){e=ca.lab(e),t=ca.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,s=t.b-i;return function(e){return he(n+o*e,r+a*e,i+s*e)+""}}function Hr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function qr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Fr(t),i=Ur(t,n),o=Fr(zr(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Wa,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Wa:0}function Ur(e,t){return e[0]*t[0]+e[1]*t[1]}function Fr(e){var t=Math.sqrt(Ur(e,e));return t&&(e[0]/=t,e[1]/=t),t}function zr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Br(e){return e.length?e.pop()+",":""}function Gr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:vr(e[0],t[0])},{i:i-2,x:vr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function Wr(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Br(n)+"rotate(",null,")")-2,x:vr(e,t)})):t&&n.push(Br(n)+"rotate("+t+")")}function Vr(e,t,n,r){e!==t?r.push({i:n.push(Br(n)+"skewX(",null,")")-2,x:vr(e,t)}):t&&n.push(Br(n)+"skewX("+t+")")}function Xr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Br(n)+"scale(",null,",",null,")");r.push({i:i-4,x:vr(e[0],t[0])},{i:i-2,x:vr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Br(n)+"scale("+t+")")}function Yr(e,t){var n=[],r=[];return e=ca.transform(e),t=ca.transform(t),Gr(e.translate,t.translate,n,r),Wr(e.rotate,t.rotate,n,r),Vr(e.skew,t.skew,n,r),Xr(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,i=-1,o=r.length;++i<o;)n[(t=r[i]).i]=t.x(e);return n.join("")}}function $r(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Zr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Kr(e){for(var t=e.source,n=e.target,r=Qr(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Jr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Qr(e,t){if(e===t)return e;for(var n=Jr(e),r=Jr(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function ei(e){e.fixed|=2}function ti(e){e.fixed&=-7}function ni(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ri(e){e.fixed&=-5}function ii(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(ii(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,i+=c*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function oi(e,t){return ca.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=di,e}function ai(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function si(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function ui(e){return e.children}function ci(e){return e.value}function li(e,t){return t.value-e.value}function di(e){return ca.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function fi(e){return e.x}function hi(e){return e.y}function pi(e,t,n){e.y0=t,e.y=n}function mi(e){return ca.range(e.length)}function gi(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function _i(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function vi(e){return e.reduce(yi,0)}function yi(e,t){return e+t[1]}function bi(e,t){return wi(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function wi(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function xi(e){return[ca.min(e),ca.max(e)]}function Si(e,t){return e.value-t.value}function Ei(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Mi(e,t){e._pack_next=t,t._pack_prev=e}function ji(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Ci(e){function t(e){l=Math.min(e.x-e.r,l),d=Math.max(e.x+e.r,d),f=Math.min(e.y-e.r,f),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(c=n.length)){var n,r,i,o,a,s,u,c,l=1/0,d=-(1/0),f=1/0,h=-(1/0);if(n.forEach(ki),r=n[0],r.x=-r.r,r.y=0,t(r),c>1&&(i=n[1],i.x=i.r,i.y=0,t(i),c>2))for(o=n[2],Ti(r,i,o),t(o),Ei(r,o),r._pack_prev=o,Ei(o,i),i=r._pack_next,a=3;c>a;a++){Ti(r,i,o=n[a]);var p=0,m=1,g=1;for(s=i._pack_next;s!==i;s=s._pack_next,m++)if(ji(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!ji(u,o);u=u._pack_prev,g++);p?(g>m||m==g&&i.r<r.r?Mi(r,i=s):Mi(r=u,i),a--):(Ei(r,o),i=o,t(o))}var _=(l+d)/2,v=(f+h)/2,y=0;for(a=0;c>a;a++)o=n[a],o.x-=_,o.y-=v,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=y,n.forEach(Li)}}function ki(e){e._pack_next=e._pack_prev=e}function Li(e){delete e._pack_next,delete e._pack_prev}function Ai(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ai(i[o],t,n,r)}function Ti(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+u*i+c*o,n.y=e.y+u*o-c*i}else n.x=e.x+r,n.y=e.y}function Ii(e,t){return e.parent==t.parent?1:2}function Oi(e){var t=e.children;return t.length?t[0]:e.t}function Ni(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Pi(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Di(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Ri(e,t,n){return e.a.parent===t.parent?e.a:n}function Hi(e){return 1+ca.max(e,function(e){return e.y})}function qi(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ui(e){var t=e.children;return t&&t.length?Ui(t[0]):e}function Fi(e){var t,n=e.children;return n&&(t=n.length)?Fi(n[t-1]):e}function zi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Bi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Gi(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Wi(e){return e.rangeExtent?e.rangeExtent():Gi(e.range())}function Vi(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function Xi(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Yi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Mu}function $i(e,t,n,r){var i=[],o=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=ca.bisect(e,t,1,s)-1;return o[n](i[n](t))}}function Zi(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?$i:Vi,u=r?Zr:$r;return a=i(e,t,u,n),s=i(t,e,u,br),o}function o(e){return a(e)}var a,s;return o.invert=function(e){return s(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(Hr)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return eo(e,t)},o.tickFormat=function(t,n){return to(e,t,n)},o.nice=function(t){return Ji(e,t),i()},o.copy=function(){return Zi(e,t,n,r)},i()}function Ki(e,t){return ca.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ji(e,t){return Xi(e,Yi(Qi(e,t)[2])),Xi(e,Yi(Qi(e,t)[2])),e}function Qi(e,t){null==t&&(t=10);var n=Gi(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function eo(e,t){return ca.range.apply(ca,Qi(e,t))}function to(e,t,n){var r=Qi(e,t);if(n){var i=hs.exec(n);if(i.shift(),"s"===i[8]){var o=ca.formatPrefix(Math.max(wa(r[0]),wa(r[1])));return i[7]||(i[7]="."+no(o.scale(r[2]))),i[8]="f",n=ca.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+ro(i[8],r)),n=i.join("")}else n=",."+no(r[2])+"f";return ca.format(n)}function no(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ro(e,t){var n=no(t[2]);return e in ju?Math.abs(n-no(Math.max(wa(t[0]),wa(t[1]))))+ +("e"!==e):n-2*("%"===e)}function io(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),a):t},a.nice=function(){var t=Xi(r.map(i),n?Math:ku);return e.domain(t),r=t.map(o),a},a.ticks=function(){var e=Gi(r),a=[],s=e[0],u=e[1],c=Math.floor(i(s)),l=Math.ceil(i(u)),d=t%1?2:t;if(isFinite(l-c)){if(n){for(;l>c;c++)for(var f=1;d>f;f++)a.push(o(c)*f);a.push(o(c))}else for(a.push(o(c));c++<l;)for(var f=d-1;f>0;f--)a.push(o(c)*f);for(c=0;a[c]<s;c++);for(l=a.length;a[l-1]>u;l--);a=a.slice(c,l)}return a},a.tickFormat=function(e,n){if(!arguments.length)return Cu;arguments.length<2?n=Cu:"function"!=typeof n&&(n=ca.format(n));var r=Math.max(1,t*e/a.ticks().length);return function(e){var a=e/o(Math.round(i(e)));return t-.5>a*t&&(a*=t),r>=a?n(e):""}},a.copy=function(){return io(e.copy(),t,n,r)},Ki(a,e)}function oo(e,t,n){function r(t){return e(i(t))}var i=ao(t),o=ao(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return eo(n,e)},r.tickFormat=function(e,t){return to(n,e,t)},r.nice=function(e){return r.domain(Ji(n,e))},r.exponent=function(a){return arguments.length?(i=ao(t=a),o=ao(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return oo(e.copy(),t,n)},Ki(r,e)}function ao(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function so(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%o.length]}function r(t,n){return ca.range(e.length).map(function(e){return t+n*e})}var i,o,a;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new l;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,a=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],c=i[1],l=e.length<2?(u=(u+c)/2,0):(c-u)/(e.length-1+s);return o=r(u+l*s/2,l),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],c=i[1],l=e.length<2?(u=c=Math.round((u+c)/2),0):(c-u)/(e.length-1+s)|0;return o=r(u+Math.round(l*s/2+(c-u-(e.length-1+s)*l)/2),l),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=i[1]<i[0],l=i[c-0],d=i[1-c],f=(d-l)/(e.length-s+2*u);return o=r(l+f*u,f),c&&o.reverse(),a=f*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=i[1]<i[0],l=i[c-0],d=i[1-c],f=Math.floor((d-l)/(e.length-s+2*u));return o=r(l+Math.round((d-l-(e.length-s)*f)/2),f),c&&o.reverse(),a=Math.round(f*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Gi(t.a[0])},n.copy=function(){return so(e,t)},n.domain(e)}function uo(e,t){function n(){var n=0,r=t.length;for(s=[];++n<r;)s[n-1]=ca.quantile(e,n/r);return a}function a(e){return isNaN(e=+e)?void 0:t[ca.bisect(s,e)]}var s;return a.domain=function(t){return arguments.length?(e=t.map(i).filter(o).sort(r),n()):e},a.range=function(e){return arguments.length?(t=e,n()):t},a.quantiles=function(){return s},a.invertExtent=function(n){return n=t.indexOf(n),0>n?[NaN,NaN]:[n>0?s[n-1]:e[0],n<s.length?s[n]:e[e.length-1]]},a.copy=function(){return uo(e,t)},n()}function co(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?NaN:t/o+e,[t,t+1/o]},r.copy=function(){return co(e,t,n)},i()}function lo(e,t){function n(n){return n>=n?t[ca.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return lo(e,t)},n}function fo(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return eo(e,t)},t.tickFormat=function(t,n){return to(e,t,n)},t.copy=function(){return fo(e)},t}function ho(){return 0}function po(e){return e.innerRadius}function mo(e){return e.outerRadius}function go(e){return e.startAngle}function _o(e){return e.endAngle}function vo(e){return e&&e.padAngle}function yo(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function bo(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,c=-s*o,l=e[0]+u,d=e[1]+c,f=t[0]+u,h=t[1]+c,p=(l+f)/2,m=(d+h)/2,g=f-l,_=h-d,v=g*g+_*_,y=n-r,b=l*h-f*d,w=(0>_?-1:1)*Math.sqrt(Math.max(0,y*y*v-b*b)),x=(b*_-g*w)/v,S=(-b*g-_*w)/v,E=(b*_+g*w)/v,M=(-b*g+_*w)/v,j=x-p,C=S-m,k=E-p,L=M-m;return j*j+C*C>k*k+L*L&&(x=E,S=M),[[x-u,S-c],[x*n/y,S*n/y]]}function wo(e){function t(t){function a(){c.push("M",o(e(l),s))}for(var u,c=[],l=[],d=-1,f=t.length,h=Ce(n),p=Ce(r);++d<f;)i.call(this,u=t[d],d)?l.push([+h.call(this,u,d),+p.call(this,u,d)]):l.length&&(a(),l=[]);return l.length&&a(),c.length?c.join(""):null}var n=An,r=Tn,i=At,o=xo,a=o.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=Nu.get(e)||xo).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function xo(e){return e.length>1?e.join("L"):e+"Z"}function So(e){return e.join("L")+"Z"}function Eo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Mo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function jo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Co(e,t){return e.length<4?xo(e):e[1]+Ao(e.slice(1,-1),To(e,t))}function ko(e,t){return e.length<3?So(e):e[0]+Ao((e.push(e[0]),e),To([e[e.length-2]].concat(e,[e[1]]),t))}function Lo(e,t){return e.length<3?xo(e):e[0]+Ao(e,To(e,t))}function Ao(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return xo(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],u=2),t.length>1){s=t[1],o=e[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,u++)o=e[u],s=t[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var l=e[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+l[0]+","+l[1]}return r}function To(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,u=e.length;++s<u;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Io(e){if(e.length<3)return xo(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Do(Ru,a),",",Do(Ru,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ro(u,a,s);return e.pop(),u.push("L",r),u.join("")}function Oo(e){if(e.length<4)return xo(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(Do(Ru,o)+","+Do(Ru,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Ro(n,o,a);return n.join("")}function No(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[Do(Ru,a),",",Do(Ru,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ro(t,a,s);return t.join("")}function Po(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,u=e[n][1]-a,c=-1;++c<=n;)r=e[c],i=c/n,r[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*u);return Io(e)}function Do(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Ro(e,t,n){e.push("C",Do(Pu,t),",",Do(Pu,n),",",Do(Du,t),",",Do(Du,n),",",Do(Ru,t),",",Do(Ru,n))}function Ho(e,t){return(t[1]-e[1])/(t[0]-e[0])}function qo(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=Ho(i,o);++t<n;)r[t]=(a+(a=Ho(i=o,o=e[t+1])))/2;return r[t]=a,r}function Uo(e){for(var t,n,r,i,o=[],a=qo(e),s=-1,u=e.length-1;++s<u;)t=Ho(e[s],e[s+1]),wa(t)<Ha?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Fo(e){return e.length<3?xo(e):e[0]+Ao(e,Uo(e))}function zo(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]-Ba,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Bo(e){function t(t){function u(){m.push("M",s(e(_),d),l,c(e(g.reverse()),d),"Z")}for(var f,h,p,m=[],g=[],_=[],v=-1,y=t.length,b=Ce(n),w=Ce(i),x=n===r?function(){return h}:Ce(r),S=i===o?function(){return p}:Ce(o);++v<y;)a.call(this,f=t[v],v)?(g.push([h=+b.call(this,f,v),p=+w.call(this,f,v)]),_.push([+x.call(this,f,v),+S.call(this,f,v)])):g.length&&(u(),g=[],_=[]);return g.length&&u(),m.length?m.join(""):null}var n=An,r=An,i=0,o=Tn,a=At,s=xo,u=s.key,c=s,l="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(u="function"==typeof e?s=e:(s=Nu.get(e)||xo).key,c=s.reverse||s,l=s.closed?"M":"L",t):u},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Go(e){return e.radius}function Wo(e){return[e.x,e.y]}function Vo(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Ba;return[n*Math.cos(r),n*Math.sin(r)]}}function Xo(){return 64}function Yo(){return"circle"}function $o(e){var t=Math.sqrt(e/Ua);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Zo(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ko(e,t,n){return ja(e,Gu),e.namespace=t,e.id=n,e}function Jo(e,t,n,r){var i=e.id,o=e.namespace;return G(e,"function"==typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function Qo(e){return null==e&&(e=""),function(){this.textContent=e}}function ea(e){return null==e?"__transition__":"__transition_"+e+"__"}function ta(e,t,n,r,i){function o(e){var t=m.delay;return c.t=t+u,e>=t?a(e-t):void(c.c=a)}function a(n){var i=p.active,o=p[i];o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[i],o.event&&o.event.interrupt.call(e,e.__data__,o.index));for(var a in p)if(r>+a){var l=p[a];l.timer.c=null,l.timer.t=NaN,--p.count,delete p[a]}c.c=s,Ie(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,u),p.active=r,m.event&&m.event.start.call(e,e.__data__,t),h=[],m.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&h.push(r)}),f=m.ease,d=m.duration}function s(i){for(var o=i/d,a=f(o),s=h.length;s>0;)h[--s].call(e,a);return o>=1?(m.event&&m.event.end.call(e,e.__data__,t),--p.count?delete p[r]:delete e[n],1):void 0}var u,c,d,f,h,p=e[n]||(e[n]={active:0,count:0}),m=p[r];m||(u=i.time,c=Ie(o,0,u),m=p[r]={tween:new l,time:u,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++p.count)}function na(e,t,n){e.attr("transform",function(e){
var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function ra(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function ia(e){return e.toISOString()}function oa(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,o=ca.bisect(Qu,i);return o==Qu.length?[t.year,Qi(e.map(function(e){return e/31536e6}),n)[2]]:o?t[i/Qu[o-1]<Qu[o]/i?o-1:o]:[nc,Qi(e,n)[2]]}return r.invert=function(t){return aa(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(aa)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,aa(+n+1),t).length}var o=r.domain(),a=Gi(o),s=null==e?i(a,10):"number"==typeof e&&i(a,e);return s&&(e=s[0],t=s[1]),r.domain(Xi(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=aa(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=aa(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Gi(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],aa(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return oa(e.copy(),t,n)},Ki(r,e)}function aa(e){return new Date(e)}function sa(e){return JSON.parse(e.responseText)}function ua(e){var t=fa.createRange();return t.selectNode(fa.body),t.createContextualFragment(e.responseText)}var ca={version:"3.5.16"},la=[].slice,da=function(e){return la.call(e)},fa=this.document;if(fa)try{da(fa.documentElement.childNodes)[0].nodeType}catch(ha){da=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),fa)try{fa.createElement("DIV").style.setProperty("opacity",0,"")}catch(pa){var ma=this.Element.prototype,ga=ma.setAttribute,_a=ma.setAttributeNS,va=this.CSSStyleDeclaration.prototype,ya=va.setProperty;ma.setAttribute=function(e,t){ga.call(this,e,t+"")},ma.setAttributeNS=function(e,t,n){_a.call(this,e,t,n+"")},va.setProperty=function(e,t,n){ya.call(this,e,t+"",n)}}ca.ascending=r,ca.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},ca.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},ca.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},ca.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},ca.sum=function(e,t){var n,r=0,i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)o(n=+e[a])&&(r+=n);else for(;++a<i;)o(n=+t.call(e,e[a],a))&&(r+=n);return r},ca.mean=function(e,t){var n,r=0,a=e.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)o(n=i(e[s]))?r+=n:--u;else for(;++s<a;)o(n=i(t.call(e,e[s],s)))?r+=n:--u;return u?r/u:void 0},ca.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},ca.median=function(e,t){var n,a=[],s=e.length,u=-1;if(1===arguments.length)for(;++u<s;)o(n=i(e[u]))&&a.push(n);else for(;++u<s;)o(n=i(t.call(e,e[u],u)))&&a.push(n);return a.length?ca.quantile(a.sort(r),.5):void 0},ca.variance=function(e,t){var n,r,a=e.length,s=0,u=0,c=-1,l=0;if(1===arguments.length)for(;++c<a;)o(n=i(e[c]))&&(r=n-s,s+=r/++l,u+=r*(n-s));else for(;++c<a;)o(n=i(t.call(e,e[c],c)))&&(r=n-s,s+=r/++l,u+=r*(n-s));return l>1?u/(l-1):void 0},ca.deviation=function(){var e=ca.variance.apply(this,arguments);return e?Math.sqrt(e):e};var ba=a(r);ca.bisectLeft=ba.left,ca.bisect=ca.bisectRight=ba.right,ca.bisector=function(e){return a(1===e.length?function(t,n){return r(e(t),n)}:e)},ca.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,2>o&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},ca.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},ca.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],o=new Array(0>r?0:r);r>n;)o[n]=[t=i,i=e[++n]];return o},ca.transpose=function(e){if(!(i=e.length))return[];for(var t=-1,n=ca.min(e,s),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r},ca.zip=function(){return ca.transpose(arguments)},ca.keys=function(e){var t=[];for(var n in e)t.push(n);return t},ca.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ca.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ca.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var wa=Math.abs;ca.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],o=u(wa(n)),a=-1;if(e*=o,t*=o,n*=o,0>n)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},ca.map=function(e,t){var n=new l;if(e instanceof l)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var xa="__proto__",Sa="\x00";c(l,{has:h,get:function(e){return this._[d(e)]},set:function(e,t){return this._[d(e)]=t},remove:p,keys:m,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:f(t),value:this._[t]});return e},size:g,empty:_,forEach:function(e){for(var t in this._)e.call(this,f(t),this._[t])}}),ca.nest=function(){function e(t,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,c,d,f,h=-1,p=a.length,m=o[s++],g=new l;++h<p;)(f=g.get(u=m(c=a[h])))?f.push(c):g.set(u,[c]);return t?(c=t(),d=function(n,r){c.set(n,e(t,r,s))}):(c={},d=function(n,r){c[n]=e(t,r,s)}),g.forEach(d),c}function t(e,n){if(n>=o.length)return e;var r=[],i=a[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(ca.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return a[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},ca.set=function(e){var t=new v;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},c(v,{has:h,add:function(e){return this._[d(e+="")]=!0,e},remove:p,values:m,size:g,empty:_,forEach:function(e){for(var t in this._)e.call(this,f(t))}}),ca.behavior={},ca.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=b(e,t,t[n]);return e};var Ea=["webkit","ms","moz","Moz","o","O"];ca.dispatch=function(){for(var e=new S,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=E(e);return e},S.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},ca.event=null,ca.requote=function(e){return e.replace(Ma,"\\$&")};var Ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ja={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Ca=function(e,t){return t.querySelector(e)},ka=function(e,t){return t.querySelectorAll(e)},La=function(e,t){var n=e.matches||e[w(e,"matchesSelector")];return(La=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(Ca=function(e,t){return Sizzle(e,t)[0]||null},ka=Sizzle,La=Sizzle.matchesSelector),ca.selection=function(){return ca.select(fa.documentElement)};var Aa=ca.selection.prototype=[];Aa.select=function(e){var t,n,r,i,o=[];e=L(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return k(o)},Aa.selectAll=function(e){var t,n,r=[];e=A(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(t=da(e.call(n,n.__data__,s,i))),t.parentNode=n);return k(r)};var Ta="http://www.w3.org/1999/xhtml",Ia={svg:"http://www.w3.org/2000/svg",xhtml:Ta,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ca.ns={prefix:Ia,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Ia.hasOwnProperty(n)?{space:Ia[n],local:e}:e}},Aa.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=ca.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(T(t,e[t]));return this}return this.each(T(e,t))},Aa.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=N(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!O(e[i]).test(t))return!1;return!0}for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},Aa.style=function(e,t,r){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t="");for(r in e)this.each(R(r,e[r],t));return this}if(2>i){var o=this.node();return n(o).getComputedStyle(o,null).getPropertyValue(e)}r=""}return this.each(R(e,t,r))},Aa.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(H(t,e[t]));return this}return this.each(H(e,t))},Aa.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Aa.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Aa.append=function(e){return e=q(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Aa.insert=function(e,t){return e=q(e),t=L(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(U)},Aa.data=function(e,t){function n(e,n){var r,i,o,a=e.length,d=n.length,f=Math.min(a,d),h=new Array(d),p=new Array(d),m=new Array(a);if(t){var g,_=new l,v=new Array(a);for(r=-1;++r<a;)(i=e[r])&&(_.has(g=t.call(i,i.__data__,r))?m[r]=i:_.set(g,i),v[r]=g);for(r=-1;++r<d;)(i=_.get(g=t.call(n,o=n[r],r)))?i!==!0&&(h[r]=i,i.__data__=o):p[r]=F(o),_.set(g,!0);for(r=-1;++r<a;)r in v&&_.get(v[r])!==!0&&(m[r]=e[r])}else{for(r=-1;++r<f;)i=e[r],o=n[r],i?(i.__data__=o,h[r]=i):p[r]=F(o);for(;d>r;++r)p[r]=F(n[r]);for(;a>r;++r)m[r]=e[r]}p.update=h,p.parentNode=h.parentNode=m.parentNode=e.parentNode,s.push(p),u.push(h),c.push(m)}var r,i,o=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(e[o]=i.__data__);return e}var s=W([]),u=k([]),c=k([]);if("function"==typeof e)for(;++o<a;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],e);return u.enter=function(){return s},u.exit=function(){return c},u},Aa.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Aa.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=z(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return k(i)},Aa.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Aa.sort=function(e){e=B.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Aa.each=function(e){return G(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Aa.call=function(e){var t=da(arguments);return e.apply(t[0]=this,t),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Aa.size=function(){var e=0;return G(this,function(){++e}),e};var Oa=[];ca.selection.enter=W,ca.selection.enter.prototype=Oa,Oa.append=Aa.append,Oa.empty=Aa.empty,Oa.node=Aa.node,Oa.call=Aa.call,Oa.size=Aa.size,Oa.select=function(e){for(var t,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(t.push(r[c]=n=e.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):t.push(null)}return k(a)},Oa.insert=function(e,t){return arguments.length<2&&(t=V(this)),Aa.insert.call(this,e,t)},ca.select=function(t){var n;return"string"==typeof t?(n=[Ca(t,fa)],n.parentNode=fa.documentElement):(n=[t],n.parentNode=e(t)),k([n])},ca.selectAll=function(e){var t;return"string"==typeof e?(t=da(ka(e,fa)),t.parentNode=fa.documentElement):(t=da(e),t.parentNode=null),k([t])},Aa.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(X(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(X(e,t,n))};var Na=ca.map({mouseenter:"mouseover",mouseleave:"mouseout"});fa&&Na.forEach(function(e){"on"+e in fa&&Na.remove(e)});var Pa,Da=0;ca.mouse=function(e){return K(e,j())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ca.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=j().changedTouches),t)for(var r,i=0,o=t.length;o>i;++i)if((r=t[i]).identifier===n)return K(e,r)},ca.behavior.drag=function(){function e(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function t(e,t,n,o,a){return function(){function s(){var e,n,r=t(f,m);r&&(e=r[0]-y[0],n=r[1]-y[1],p|=e|n,y=r,h({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function u(){t(f,m)&&(_.on(o+g,null).on(a+g,null),v(p),h({type:"dragend"}))}var c,l=this,d=ca.event.target.correspondingElement||ca.event.target,f=l.parentNode,h=r.of(l,arguments),p=0,m=e(),g=".drag"+(null==m?"":"-"+m),_=ca.select(n(d)).on(o+g,s).on(a+g,u),v=Z(d),y=t(f,m);i?(c=i.apply(l,arguments),c=[c.x-y[0],c.y-y[1]]):c=[0,0],h({type:"dragstart"})}}var r=C(e,"drag","dragstart","dragend"),i=null,o=t(x,ca.mouse,n,"mousemove","mouseup"),a=t(J,ca.touch,y,"touchmove","touchend");return e.origin=function(t){return arguments.length?(i=t,e):i},ca.rebind(e,r,"on")},ca.touches=function(e,t){return arguments.length<2&&(t=j().touches),t?da(t).map(function(t){var n=K(e,t);return n.identifier=t.identifier,n}):[]};var Ha=1e-6,qa=Ha*Ha,Ua=Math.PI,Fa=2*Ua,za=Fa-Ha,Ba=Ua/2,Ga=Ua/180,Wa=180/Ua,Va=Math.SQRT2,Xa=2,Ya=4;ca.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],u=t[1],c=t[2],l=s-i,d=u-o,f=l*l+d*d;if(qa>f)r=Math.log(c/a)/Va,n=function(e){return[i+e*l,o+e*d,a*Math.exp(Va*e*r)]};else{var h=Math.sqrt(f),p=(c*c-a*a+Ya*f)/(2*a*Xa*h),m=(c*c-a*a-Ya*f)/(2*c*Xa*h),g=Math.log(Math.sqrt(p*p+1)-p),_=Math.log(Math.sqrt(m*m+1)-m);r=(_-g)/Va,n=function(e){var t=e*r,n=ie(g),s=a/(Xa*h)*(n*oe(Va*t+g)-re(g));return[i+s*l,o+s*d,a*n/ie(Va*t+g)]}}return n.duration=1e3*r,n},ca.behavior.zoom=function(){function e(e){e.on(T,d).on(Za+".zoom",h).on("dblclick.zoom",p).on(N,f)}function t(e){return[(e[0]-E.x)/E.k,(e[1]-E.y)/E.k]}function r(e){return[e[0]*E.k+E.x,e[1]*E.k+E.y]}function i(e){E.k=Math.max(k[0],Math.min(k[1],e))}function o(e,t){t=r(t),E.x+=e[0]-t[0],E.y+=e[1]-t[1]}function a(t,n,r,a){t.__chart__={x:E.x,y:E.y,k:E.k},i(Math.pow(2,a)),o(g=n,r),t=ca.select(t),L>0&&(t=t.transition().duration(L)),t.call(e.event)}function s(){w&&w.domain(b.range().map(function(e){return(e-E.x)/E.k}).map(b.invert)),S&&S.domain(x.range().map(function(e){return(e-E.y)/E.k}).map(x.invert))}function u(e){A++||e({type:"zoomstart"})}function c(e){s(),e({type:"zoom",scale:E.k,translate:[E.x,E.y]})}function l(e){--A||(e({type:"zoomend"}),g=null)}function d(){function e(){s=1,o(ca.mouse(i),f),c(a)}function r(){d.on(I,null).on(O,null),h(s),l(a)}var i=this,a=P.of(i,arguments),s=0,d=ca.select(n(i)).on(I,e).on(O,r),f=t(ca.mouse(i)),h=Z(i);Bu.call(i),u(a)}function f(){function e(){var e=ca.touches(p);return h=E.k,e.forEach(function(e){e.identifier in g&&(g[e.identifier]=t(e))}),e}function n(){var t=ca.event.target;ca.select(t).on(b,r).on(w,s),x.push(t);for(var n=ca.event.changedTouches,i=0,o=n.length;o>i;++i)g[n[i].identifier]=null;var u=e(),c=Date.now();if(1===u.length){if(500>c-y){var l=u[0];a(p,l,g[l.identifier],Math.floor(Math.log(E.k)/Math.LN2)+1),M()}y=c}else if(u.length>1){var l=u[0],d=u[1],f=l[0]-d[0],h=l[1]-d[1];_=f*f+h*h}}function r(){var e,t,n,r,a=ca.touches(p);Bu.call(p);for(var s=0,u=a.length;u>s;++s,r=null)if(n=a[s],r=g[n.identifier]){if(t)break;e=n,t=r}if(r){var l=(l=n[0]-e[0])*l+(l=n[1]-e[1])*l,d=_&&Math.sqrt(l/_);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(d*h)}y=null,o(e,t),c(m)}function s(){if(ca.event.touches.length){for(var t=ca.event.changedTouches,n=0,r=t.length;r>n;++n)delete g[t[n].identifier];for(var i in g)return void e()}ca.selectAll(x).on(v,null),S.on(T,d).on(N,f),j(),l(m)}var h,p=this,m=P.of(p,arguments),g={},_=0,v=".zoom-"+ca.event.changedTouches[0].identifier,b="touchmove"+v,w="touchend"+v,x=[],S=ca.select(p),j=Z(p);n(),u(m),S.on(T,null).on(N,n)}function h(){var e=P.of(this,arguments);v?clearTimeout(v):(Bu.call(this),m=t(g=_||ca.mouse(this)),u(e)),v=setTimeout(function(){v=null,l(e)},50),M(),i(Math.pow(2,.002*$a())*E.k),o(g,m),c(e)}function p(){var e=ca.mouse(this),n=Math.log(E.k)/Math.LN2;a(this,e,t(e),ca.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var m,g,_,v,y,b,w,x,S,E={x:0,y:0,k:1},j=[960,500],k=Ka,L=250,A=0,T="mousedown.zoom",I="mousemove.zoom",O="mouseup.zoom",N="touchstart.zoom",P=C(e,"zoomstart","zoom","zoomend");return Za||(Za="onwheel"in fa?($a=function(){return-ca.event.deltaY*(ca.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fa?($a=function(){return ca.event.wheelDelta},"mousewheel"):($a=function(){return-ca.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=P.of(this,arguments),t=E;Fu?ca.select(this).transition().each("start.zoom",function(){E=this.__chart__||{x:0,y:0,k:1},u(e)}).tween("zoom:zoom",function(){var n=j[0],r=j[1],i=g?g[0]:n/2,o=g?g[1]:r/2,a=ca.interpolateZoom([(i-E.x)/E.k,(o-E.y)/E.k,n/E.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),s=n/r[2];this.__chart__=E={x:i-r[0]*s,y:o-r[1]*s,k:s},c(e)}}).each("interrupt.zoom",function(){l(e)}).each("end.zoom",function(){l(e)}):(this.__chart__=E,u(e),c(e),l(e))})},e.translate=function(t){return arguments.length?(E={x:+t[0],y:+t[1],k:E.k},s(),e):[E.x,E.y]},e.scale=function(t){return arguments.length?(E={x:E.x,y:E.y,k:null},i(+t),s(),e):E.k},e.scaleExtent=function(t){return arguments.length?(k=null==t?Ka:[+t[0],+t[1]],e):k},e.center=function(t){return arguments.length?(_=t&&[+t[0],+t[1]],e):_},e.size=function(t){return arguments.length?(j=t&&[+t[0],+t[1]],e):j},e.duration=function(t){return arguments.length?(L=+t,e):L},e.x=function(t){return arguments.length?(w=t,b=t.copy(),E={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(S=t,x=t.copy(),E={x:0,y:0,k:1},e):S},ca.rebind(e,P,"on")};var $a,Za,Ka=[0,1/0];ca.color=se,se.prototype.toString=function(){return this.rgb()+""},ca.hsl=ue;var Ja=ue.prototype=new se;Ja.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new ue(this.h,this.s,this.l/e)},Ja.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ue(this.h,this.s,e*this.l)},Ja.rgb=function(){return ce(this.h,this.s,this.l)},ca.hcl=le;var Qa=le.prototype=new se;Qa.brighter=function(e){return new le(this.h,this.c,Math.min(100,this.l+es*(arguments.length?e:1)))},Qa.darker=function(e){return new le(this.h,this.c,Math.max(0,this.l-es*(arguments.length?e:1)))},Qa.rgb=function(){return de(this.h,this.c,this.l).rgb()},ca.lab=fe;var es=18,ts=.95047,ns=1,rs=1.08883,is=fe.prototype=new se;is.brighter=function(e){return new fe(Math.min(100,this.l+es*(arguments.length?e:1)),this.a,this.b)},is.darker=function(e){return new fe(Math.max(0,this.l-es*(arguments.length?e:1)),this.a,this.b)},is.rgb=function(){return he(this.l,this.a,this.b)},ca.rgb=ve;var os=ve.prototype=new se;os.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new ve(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ve(i,i,i)},os.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ve(e*this.r,e*this.g,e*this.b)},os.hsl=function(){return Se(this.r,this.g,this.b)},os.toString=function(){return"#"+we(this.r)+we(this.g)+we(this.b)};var as=ca.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});as.forEach(function(e,t){as.set(e,ye(t))}),ca.functor=Ce,ca.xhr=ke(y),ca.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=Le(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(l>=c)return a;if(i)return i=!1,o;var t=l;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}l=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++l):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c>l;){var r=e.charCodeAt(l++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(l)&&(++l,++s);else if(r!==u)continue;return e.slice(t,l-s)}return e.slice(t)}for(var r,i,o={},a={},s=[],c=e.length,l=0,d=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();t&&null==(f=t(f,d++))||s.push(f)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new v,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(a).join(e)].concat(t.map(function(t){return i.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},ca.csv=ca.dsv(",","text/csv"),ca.tsv=ca.dsv("	","text/tab-separated-values");var ss,us,cs,ls,ds=this[w(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};ca.timer=function(){Ie.apply(this,arguments)},ca.timer.flush=function(){Ne(),Pe()},ca.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var fs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Re);ca.formatPrefix=function(e,t){var n=0;return(e=+e)&&(0>e&&(e*=-1),t&&(e=ca.round(e,De(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),fs[8+n/3]};var hs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ps=ca.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=ca.round(e,De(e,t))).toFixed(Math.max(0,Math.min(20,De(e*(1+1e-15),t))))}}),ms=ca.time={},gs=Date;Ue.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){_s.setUTCDate.apply(this._,arguments)},setDay:function(){_s.setUTCDay.apply(this._,arguments)},setFullYear:function(){_s.setUTCFullYear.apply(this._,arguments)},setHours:function(){_s.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){_s.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){_s.setUTCMinutes.apply(this._,arguments)},setMonth:function(){_s.setUTCMonth.apply(this._,arguments)},setSeconds:function(){_s.setUTCSeconds.apply(this._,arguments)},setTime:function(){_s.setTime.apply(this._,arguments)}};var _s=Date.prototype;ms.year=Fe(function(e){return e=ms.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ms.years=ms.year.range,ms.years.utc=ms.year.utc.range,ms.day=Fe(function(e){var t=new gs(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ms.days=ms.day.range,ms.days.utc=ms.day.utc.range,ms.dayOfYear=function(e){var t=ms.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=ms[e]=Fe(function(e){return(e=ms.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=ms.year(e).getDay();return Math.floor((ms.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});ms[e+"s"]=n.range,ms[e+"s"].utc=n.utc.range,ms[e+"OfYear"]=function(e){var n=ms.year(e).getDay();return Math.floor((ms.dayOfYear(e)+(n+t)%7)/7)}}),ms.week=ms.sunday,ms.weeks=ms.sunday.range,ms.weeks.utc=ms.sunday.utc.range,ms.weekOfYear=ms.sundayOfYear;var vs={"-":"",_:" ",0:"0"},ys=/^\s*\d+/,bs=/^%/;ca.locale=function(e){return{numberFormat:He(e),timeFormat:Be(e)}};var ws=ca.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ca.format=ws.numberFormat,ca.geo={},lt.prototype={s:0,t:0,add:function(e){dt(e,this.t,xs),dt(xs.s,this.s,this),this.s?this.t+=xs.t:this.s=xs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xs=new lt;ca.geo.stream=function(e,t){e&&Ss.hasOwnProperty(e.type)?Ss[e.type](e,t):ft(e,t)};var Ss={Feature:function(e,t){ft(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ft(n[r].geometry,t)}},Es={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ht(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ht(n[r],t,0)},Polygon:function(e,t){pt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ft(n[r],t)}};ca.geo.area=function(e){return Ms=0,ca.geo.stream(e,Cs),Ms};var Ms,js=new lt,Cs={sphere:function(){Ms+=4*Ua},point:x,lineStart:x,lineEnd:x,polygonStart:function(){js.reset(),Cs.lineStart=mt},polygonEnd:function(){var e=2*js;Ms+=0>e?4*Ua+e:e,Cs.lineStart=Cs.lineEnd=Cs.point=x}};ca.geo.bounds=function(){function e(e,t){y.push(b=[l=e,f=e]),d>t&&(d=t),t>h&&(h=t)}function t(t,n){var r=gt([t*Ga,n*Ga]);if(_){var i=vt(_,r),o=[i[1],-i[0],0],a=vt(o,i);wt(a),a=xt(a);var u=t-p,c=u>0?1:-1,m=a[0]*Wa*c,g=wa(u)>180;if(g^(m>c*p&&c*t>m)){var v=a[1]*Wa;v>h&&(h=v)}else if(m=(m+360)%360-180,g^(m>c*p&&c*t>m)){var v=-a[1]*Wa;d>v&&(d=v)}else d>n&&(d=n),n>h&&(h=n);g?p>t?s(l,t)>s(l,f)&&(f=t):s(t,f)>s(l,f)&&(l=t):f>=l?(l>t&&(l=t),t>f&&(f=t)):t>p?s(l,t)>s(l,f)&&(f=t):s(t,f)>s(l,f)&&(l=t)}else e(t,n);_=r,p=t}function n(){w.point=t}function r(){b[0]=l,b[1]=f,w.point=e,_=null}function i(e,n){if(_){var r=e-p;v+=wa(r)>180?r+(r>0?360:-360):r}else m=e,g=n;Cs.point(e,n),t(e,n)}function o(){Cs.lineStart()}function a(){i(m,g),Cs.lineEnd(),wa(v)>Ha&&(l=-(f=180)),b[0]=l,b[1]=f,_=null}function s(e,t){return(t-=e)<0?t+360:t}function u(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var l,d,f,h,p,m,g,_,v,y,b,w={point:e,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=a,v=0,Cs.polygonStart()},polygonEnd:function(){Cs.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=r,0>js?(l=-(f=180),
d=-(h=90)):v>Ha?h=90:-Ha>v&&(d=-90),b[0]=l,b[1]=f}};return function(e){h=f=-(l=d=1/0),y=[],ca.geo.stream(e,w);var t=y.length;if(t){y.sort(u);for(var n,r=1,i=y[0],o=[i];t>r;++r)n=y[r],c(n[0],i)||c(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-(1/0),t=o.length-1,r=0,i=o[t];t>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,l=n[0],f=i[1])}return y=b=null,l===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,d],[f,h]]}}(),ca.geo.centroid=function(e){ks=Ls=As=Ts=Is=Os=Ns=Ps=Ds=Rs=Hs=0,ca.geo.stream(e,qs);var t=Ds,n=Rs,r=Hs,i=t*t+n*n+r*r;return qa>i&&(t=Os,n=Ns,r=Ps,Ha>Ls&&(t=As,n=Ts,r=Is),i=t*t+n*n+r*r,qa>i)?[NaN,NaN]:[Math.atan2(n,t)*Wa,ne(r/Math.sqrt(i))*Wa]};var ks,Ls,As,Ts,Is,Os,Ns,Ps,Ds,Rs,Hs,qs={sphere:x,point:Et,lineStart:jt,lineEnd:Ct,polygonStart:function(){qs.lineStart=kt},polygonEnd:function(){qs.lineStart=jt}},Us=Nt(At,Ht,Ut,[-Ua,-Ua/2]),Fs=1e9;ca.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(s){return arguments.length?(o=Gt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(ca.geo.conicEqualArea=function(){return Wt(Vt)}).raw=Vt,ca.geo.albers=function(){return ca.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ca.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=ca.geo.albers(),a=ca.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ca.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var c=o.scale(),l=+t[0],d=+t[1];return n=o.translate(t).clipExtent([[l-.455*c,d-.238*c],[l+.455*c,d+.238*c]]).stream(u).point,r=a.translate([l-.307*c,d+.201*c]).clipExtent([[l-.425*c+Ha,d+.12*c+Ha],[l-.214*c-Ha,d+.234*c-Ha]]).stream(u).point,i=s.translate([l-.205*c,d+.212*c]).clipExtent([[l-.214*c+Ha,d+.166*c+Ha],[l-.115*c-Ha,d+.234*c-Ha]]).stream(u).point,e},e.scale(1070)};var zs,Bs,Gs,Ws,Vs,Xs,Ys={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Bs=0,Ys.lineStart=Xt},polygonEnd:function(){Ys.lineStart=Ys.lineEnd=Ys.point=x,zs+=wa(Bs/2)}},$s={point:Yt,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Zs={point:Kt,lineStart:Jt,lineEnd:Qt,polygonStart:function(){Zs.lineStart=en},polygonEnd:function(){Zs.point=Kt,Zs.lineStart=Jt,Zs.lineEnd=Qt}};ca.geo.path=function(){function e(e){return e&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),ca.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,s=4.5;return e.area=function(e){return zs=0,ca.geo.stream(e,i(Ys)),zs},e.centroid=function(e){return As=Ts=Is=Os=Ns=Ps=Ds=Rs=Hs=0,ca.geo.stream(e,i(Zs)),Hs?[Ds/Hs,Rs/Hs]:Ps?[Os/Ps,Ns/Ps]:Is?[As/Is,Ts/Is]:[NaN,NaN]},e.bounds=function(e){return Vs=Xs=-(Gs=Ws=1/0),ca.geo.stream(e,i($s)),[[Gs,Ws],[Vs,Xs]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||rn(e):y,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new $t:new tn(e),"function"!=typeof s&&o.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(o.pointRadius(+t),+t),e):s},e.projection(ca.geo.albersUsa()).context(null)},ca.geo.transform=function(e){return{stream:function(t){var n=new on(t);for(var r in e)n[r]=e[r];return n}}},on.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ca.geo.projection=sn,ca.geo.projectionMutator=un,(ca.geo.equirectangular=function(){return sn(ln)}).raw=ln.invert=ln,ca.geo.rotation=function(e){function t(t){return t=e(t[0]*Ga,t[1]*Ga),t[0]*=Wa,t[1]*=Wa,t}return e=fn(e[0]%360*Ga,e[1]*Ga,e.length>2?e[2]*Ga:0),t.invert=function(t){return t=e.invert(t[0]*Ga,t[1]*Ga),t[0]*=Wa,t[1]*=Wa,t},t},dn.invert=ln,ca.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=fn(-e[0]*Ga,-e[1]*Ga,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Wa,e[1]*=Wa}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=gn((t=+r)*Ga,i*Ga),e):t},e.precision=function(r){return arguments.length?(n=gn(t*Ga,(i=+r)*Ga),e):i},e.angle(90)},ca.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ga,i=e[1]*Ga,o=t[1]*Ga,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),c=Math.cos(i),l=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*l-u*d*s)*n),u*l+c*d*s)},ca.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ca.range(Math.ceil(o/g)*g,i,g).map(f).concat(ca.range(Math.ceil(c/_)*_,u,_).map(h)).concat(ca.range(Math.ceil(r/p)*p,n,p).filter(function(e){return wa(e%g)>Ha}).map(l)).concat(ca.range(Math.ceil(s/m)*m,a,m).filter(function(e){return wa(e%_)>Ha}).map(d))}var n,r,i,o,a,s,u,c,l,d,f,h,p=10,m=p,g=90,_=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(h(u).slice(1),f(i).reverse().slice(1),h(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],c=+t[0][1],u=+t[1][1],o>i&&(t=o,o=i,i=t),c>u&&(t=c,c=u,u=t),e.precision(v)):[[o,c],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(v)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],_=+t[1],e):[g,_]},e.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],e):[p,m]},e.precision=function(t){return arguments.length?(v=+t,l=vn(s,a,90),d=yn(r,n,v),f=vn(c,u,90),h=yn(o,i,v),e):v},e.majorExtent([[-180,-90+Ha],[180,90-Ha]]).minorExtent([[-180,-80-Ha],[180,80+Ha]])},ca.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=bn,i=wn;return e.distance=function(){return ca.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},ca.geo.interpolate=function(e,t){return xn(e[0]*Ga,e[1]*Ga,t[0]*Ga,t[1]*Ga)},ca.geo.length=function(e){return Ks=0,ca.geo.stream(e,Js),Ks};var Ks,Js={sphere:x,point:x,lineStart:Sn,lineEnd:x,polygonStart:x,polygonEnd:x},Qs=En(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(ca.geo.azimuthalEqualArea=function(){return sn(Qs)}).raw=Qs;var eu=En(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},y);(ca.geo.azimuthalEquidistant=function(){return sn(eu)}).raw=eu,(ca.geo.conicConformal=function(){return Wt(Mn)}).raw=Mn,(ca.geo.conicEquidistant=function(){return Wt(jn)}).raw=jn;var tu=En(function(e){return 1/e},Math.atan);(ca.geo.gnomonic=function(){return sn(tu)}).raw=tu,Cn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ba]},(ca.geo.mercator=function(){return kn(Cn)}).raw=Cn;var nu=En(function(){return 1},Math.asin);(ca.geo.orthographic=function(){return sn(nu)}).raw=nu;var ru=En(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(ca.geo.stereographic=function(){return sn(ru)}).raw=ru,Ln.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Ba]},(ca.geo.transverseMercator=function(){var e=kn(Ln),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Ln,ca.geom={},ca.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Ce(n),o=Ce(r),a=e.length,s=[],u=[];for(t=0;a>t;t++)s.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(s.sort(On),t=0;a>t;t++)u.push([s[t][0],-s[t][1]]);var c=In(s),l=In(u),d=l[0]===c[0],f=l[l.length-1]===c[c.length-1],h=[];for(t=c.length-1;t>=0;--t)h.push(e[s[c[t]][2]]);for(t=+d;t<l.length-f;++t)h.push(e[s[l[t]][2]]);return h}var n=An,r=Tn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},ca.geom.polygon=function(e){return ja(e,iu),e};var iu=ca.geom.polygon.prototype=[];iu.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},iu.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},iu.clip=function(e){for(var t,n,r,i,o,a,s=Dn(e),u=-1,c=this.length-Dn(this),l=this[c-1];++u<c;){for(t=e.slice(),e.length=0,i=this[u],o=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],Nn(a,l,i)?(Nn(o,l,i)||e.push(Pn(o,a,l,i)),e.push(a)):Nn(o,l,i)&&e.push(Pn(o,a,l,i)),o=a;s&&e.push(e[0]),l=i}return e};var ou,au,su,uu,cu,lu=[],du=[];Gn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Vn),t.length},nr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},rr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=sr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(or(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ar(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ar(this,n),e=n,n=e.U),n.C=!1,r.C=!0,or(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?sr(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,or(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ar(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,or(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ar(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,or(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ar(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},ca.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return ur(n(e),s).cells.forEach(function(n,s){var u=n.edges,c=n.site,l=t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];l.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/Ha)*Ha,y:Math.round(a(e,t)/Ha)*Ha,i:t}})}var r=An,i=Tn,o=r,a=i,s=fu;return e?t(e):(t.links=function(e){return ur(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return ur(n(e)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Vn),u=-1,c=s.length,l=s[c-1].edge,d=l.l===a?l.r:l.l;++u<c;)i=l,o=d,l=s[u].edge,d=l.l===a?l.r:l.l,r<o.i&&r<d.i&&lr(a,o,d)<0&&t.push([e[r],e[o.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(o=Ce(r=e),t):r},t.y=function(e){return arguments.length?(a=Ce(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?fu:e,t):s===fu?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===fu?null:s&&s[1]},t)};var fu=[[-1e6,-1e6],[1e6,1e6]];ca.geom.delaunay=function(e){return ca.geom.voronoi().triangles(e)},ca.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,l=e.y;if(null!=u)if(wa(u-n)+wa(l-r)<.01)c(e,t,n,r,i,o,a,s);else{var d=e.point;e.x=e.y=e.point=null,c(e,d,u,l,i,o,a,s),c(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,i,o,a,s)}function c(e,t,n,r,i,a,s,u){var c=.5*(i+s),l=.5*(a+u),d=n>=c,f=r>=l,h=f<<1|d;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=hr()),d?i=c:s=c,f?a=l:u=l,o(e,t,n,r,i,a,s,u)}var l,d,f,h,p,m,g,_,v,y=Ce(s),b=Ce(u);if(null!=t)m=t,g=n,_=r,v=i;else if(_=v=-(m=g=1/0),d=[],f=[],p=e.length,a)for(h=0;p>h;++h)l=e[h],l.x<m&&(m=l.x),l.y<g&&(g=l.y),l.x>_&&(_=l.x),l.y>v&&(v=l.y),d.push(l.x),f.push(l.y);else for(h=0;p>h;++h){var w=+y(l=e[h],h),x=+b(l,h);m>w&&(m=w),g>x&&(g=x),w>_&&(_=w),x>v&&(v=x),d.push(w),f.push(x)}var S=_-m,E=v-g;S>E?v=g+S:_=m+E;var M=hr();if(M.add=function(e){o(M,e,+y(e,++h),+b(e,h),m,g,_,v)},M.visit=function(e){pr(e,M,m,g,_,v)},M.find=function(e){return mr(M,e[0],e[1],m,g,_,v)},h=-1,null==t){for(;++h<p;)o(M,e[h],d[h],f[h],m,g,_,v);--h}else e.forEach(M.add);return d=f=e=l=null,M}var a,s=An,u=Tn;return(a=arguments.length)?(s=dr,u=fr,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(s=e,o):s},o.y=function(e){return arguments.length?(u=e,o):u},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},ca.interpolateRgb=gr,ca.interpolateObject=_r,ca.interpolateNumber=vr,ca.interpolateString=yr;var hu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pu=new RegExp(hu.source,"g");ca.interpolate=br,ca.interpolators=[function(e,t){var n=typeof t;return("string"===n?as.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?gr:yr:t instanceof se?gr:Array.isArray(t)?wr:"object"===n&&isNaN(t)?_r:vr)(e,t)}],ca.interpolateArray=wr;var mu=function(){return y},gu=ca.map({linear:mu,poly:kr,quad:function(){return Mr},cubic:function(){return jr},sin:function(){return Lr},exp:function(){return Ar},circle:function(){return Tr},elastic:Ir,back:Or,bounce:function(){return Nr}}),_u=ca.map({"in":y,out:Sr,"in-out":Er,"out-in":function(e){return Er(Sr(e))}});ca.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=gu.get(n)||mu,r=_u.get(r)||y,xr(r(n.apply(null,la.call(arguments,1))))},ca.interpolateHcl=Pr,ca.interpolateHsl=Dr,ca.interpolateLab=Rr,ca.interpolateRound=Hr,ca.transform=function(e){var t=fa.createElementNS(ca.ns.prefix.svg,"g");return(ca.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new qr(n?n.matrix:vu)})(e)},qr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vu={a:1,b:0,c:0,d:1,e:0,f:0};ca.interpolateTransform=Yr,ca.layout={},ca.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Kr(e[n]));return t}},ca.layout.chord=function(){function e(){var e,c,d,f,h,p={},m=[],g=ca.range(o),_=[];for(n=[],r=[],e=0,f=-1;++f<o;){for(c=0,h=-1;++h<o;)c+=i[f][h];m.push(c),_.push(ca.range(o)),e+=c}for(a&&g.sort(function(e,t){return a(m[e],m[t])}),s&&_.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(Fa-l*o)/e,c=0,f=-1;++f<o;){for(d=c,h=-1;++h<o;){var v=g[f],y=_[v][h],b=i[v][y],w=c,x=c+=b*e;p[v+"-"+y]={index:v,subindex:y,startAngle:w,endAngle:x,value:b}}r[v]={index:v,startAngle:d,endAngle:c,value:m[v]},c+=l}for(f=-1;++f<o;)for(h=f-1;++h<o;){var S=p[f+"-"+h],E=p[h+"-"+f];(S.value||E.value)&&n.push(S.value<E.value?{source:E,target:S}:{source:S,target:E})}u&&t()}function t(){n.sort(function(e,t){return u((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,a,s,u,c={},l=0;return c.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,c):i},c.padding=function(e){return arguments.length?(l=e,n=r=null,c):l},c.sortGroups=function(e){return arguments.length?(a=e,n=r=null,c):a},c.sortSubgroups=function(e){return arguments.length?(s=e,n=null,c):s},c.sortChords=function(e){return arguments.length?(u=e,n&&t(),c):u},c.chords=function(){return n||e(),n},c.groups=function(){return r||e(),r},c},ca.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,u=o*o+a*a;if(u>s*s/_){if(m>u){var c=t.charge/u;e.px-=o*c,e.py-=a*c}return!0}if(t.point&&u&&m>u){var c=t.pointCharge/u;e.px-=o*c,e.py-=a*c}}return!t.charge}}function t(e){e.px=ca.event.x,e.py=ca.event.y,u.resume()}var n,r,i,o,a,s,u={},c=ca.dispatch("start","tick","end"),l=[1,1],d=.9,f=yu,h=bu,p=-30,m=wu,g=.1,_=.64,v=[],b=[];return u.tick=function(){if((i*=.99)<.005)return n=null,c.end({type:"end",alpha:i=0}),!0;var t,r,u,f,h,m,_,y,w,x=v.length,S=b.length;for(r=0;S>r;++r)u=b[r],f=u.source,h=u.target,y=h.x-f.x,w=h.y-f.y,(m=y*y+w*w)&&(m=i*a[r]*((m=Math.sqrt(m))-o[r])/m,y*=m,w*=m,h.x-=y*(_=f.weight+h.weight?f.weight/(f.weight+h.weight):.5),h.y-=w*_,f.x+=y*(_=1-_),f.y+=w*_);if((_=i*g)&&(y=l[0]/2,w=l[1]/2,r=-1,_))for(;++r<x;)u=v[r],u.x+=(y-u.x)*_,u.y+=(w-u.y)*_;if(p)for(ii(t=ca.geom.quadtree(v),i,s),r=-1;++r<x;)(u=v[r]).fixed||t.visit(e(u));for(r=-1;++r<x;)u=v[r],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*d,u.y-=(u.py-(u.py=u.y))*d);c.tick({type:"tick",alpha:i})},u.nodes=function(e){return arguments.length?(v=e,u):v},u.links=function(e){return arguments.length?(b=e,u):b},u.size=function(e){return arguments.length?(l=e,u):l},u.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,u):f},u.distance=u.linkDistance,u.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,u):h},u.friction=function(e){return arguments.length?(d=+e,u):d},u.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,u):p},u.chargeDistance=function(e){return arguments.length?(m=e*e,u):Math.sqrt(m)},u.gravity=function(e){return arguments.length?(g=+e,u):g},u.theta=function(e){return arguments.length?(_=e*e,u):Math.sqrt(_)},u.alpha=function(e){return arguments.length?(e=+e,i?e>0?i=e:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:i=0})):e>0&&(c.start({type:"start",alpha:i=e}),n=Ie(u.tick)),u):i},u.start=function(){function e(e,r){if(!n){for(n=new Array(i),u=0;i>u;++u)n[u]=[];for(u=0;c>u;++u){var o=b[u];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[t],u=-1,l=s.length;++u<l;)if(!isNaN(a=s[u][e]))return a;return Math.random()*r}var t,n,r,i=v.length,c=b.length,d=l[0],m=l[1];for(t=0;i>t;++t)(r=v[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=b[t],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;i>t;++t)r=v[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof f)for(t=0;c>t;++t)o[t]=+f.call(this,b[t],t);else for(t=0;c>t;++t)o[t]=f;if(a=[],"function"==typeof h)for(t=0;c>t;++t)a[t]=+h.call(this,b[t],t);else for(t=0;c>t;++t)a[t]=h;if(s=[],"function"==typeof p)for(t=0;i>t;++t)s[t]=+p.call(this,v[t],t);else for(t=0;i>t;++t)s[t]=p;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return r||(r=ca.behavior.drag().origin(y).on("dragstart.force",ei).on("drag.force",t).on("dragend.force",ti)),arguments.length?void this.on("mouseover.force",ni).on("mouseout.force",ri).call(r):r},ca.rebind(u,c,"on")};var yu=20,bu=1,wu=1/0;ca.layout.hierarchy=function(){function e(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(c=n.call(e,o,o.depth))&&(u=c.length)){for(var u,c,l;--u>=0;)a.push(l=c[u]),l.parent=o,l.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return si(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=li,n=ui,r=ci;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(ai(t,function(e){e.children&&(e.value=0)}),si(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},ca.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,s,u,c=-1;for(r=t.value?r/t.value:0;++c<a;)e(s=o[c],n,u=s.value*r,i),n+=u}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=ca.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},oi(n,r)},ca.layout.pie=function(){function e(a){var s,u=a.length,c=a.map(function(n,r){return+t.call(e,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-l,f=Math.min(Math.abs(d)/u,+("function"==typeof o?o.apply(this,arguments):o)),h=f*(0>d?-1:1),p=ca.sum(c),m=p?(d-u*h)/p:0,g=ca.range(u),_=[];return null!=n&&g.sort(n===xu?function(e,t){return c[t]-c[e]}:function(e,t){return n(a[e],a[t])}),g.forEach(function(e){_[e]={data:a[e],value:s=c[e],startAngle:l,endAngle:l+=s*m+h,padAngle:f}}),_}var t=Number,n=xu,r=0,i=Fa,o=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(o=t,e):o},e};var xu={};ca.layout.stack=function(){function e(s,u){if(!(f=s.length))return s;var c=s.map(function(n,r){return t.call(e,n,r)}),l=c.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),d=n.call(e,l,u);c=ca.permute(c,d),l=ca.permute(l,d);var f,h,p,m,g=r.call(e,l,u),_=c[0].length;for(p=0;_>p;++p)for(i.call(e,c[0][p],m=g[p],l[0][p][1]),h=1;f>h;++h)i.call(e,c[h][p],m+=l[h-1][p][1],l[h][p][1]);return s}var t=y,n=mi,r=gi,i=pi,o=fi,a=hi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:Su.get(t)||mi,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Eu.get(t)||gi,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var Su=ca.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(_i),o=e.map(vi),a=ca.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,u=0,c=[],l=[];for(t=0;r>t;++t)n=a[t],u>s?(s+=o[n],c.push(n)):(u+=o[n],l.push(n));return l.reverse().concat(c)},reverse:function(e){return ca.range(e.length).reverse()},"default":mi}),Eu=ca.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(e){var t,n,r,i,o,a,s,u,c,l=e.length,d=e[0],f=d.length,h=[];for(h[0]=u=c=0,n=1;f>n;++n){for(t=0,i=0;l>t;++t)i+=e[t][n][1];for(t=0,o=0,s=d[n][0]-d[n-1][0];l>t;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}h[n]=u-=i?o/i*s:0,c>u&&(c=u)}for(n=0;f>n;++n)h[n]-=c;return h},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:gi});ca.layout.histogram=function(){function e(e,o){for(var a,s,u=[],c=e.map(n,this),l=r.call(this,c,o),d=i.call(this,l,c,o),o=-1,f=c.length,h=d.length-1,p=t?1:1/f;++o<h;)a=u[o]=[],a.dx=d[o+1]-(a.x=d[o]),a.y=0;if(h>0)for(o=-1;++o<f;)s=c[o],s>=l[0]&&s<=l[1]&&(a=u[ca.bisect(d,s,1,h)-1],a.y+=p,a.push(e[o]));return u}var t=!0,n=Number,r=xi,i=bi;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Ce(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return wi(e,t)}:Ce(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},ca.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),s=a[0],u=i[0],c=i[1],l=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,si(s,function(e){e.r=+l(e.value)}),si(s,Ci),r){var d=r*(t?1:Math.max(2*s.r/u,2*s.r/c))/2;si(s,function(e){e.r+=d}),si(s,Ci),si(s,function(e){e.r-=d})}return Ai(s,u/2,c/2,t?1:1/Math.max(2*s.r/u,2*s.r/c)),a}var t,n=ca.layout.hierarchy().sort(Si),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},oi(e,n)},ca.layout.tree=function(){function e(e,i){var l=a.call(this,e,i),d=l[0],f=t(d);if(si(f,n),f.parent.m=-f.z,ai(f,r),c)ai(d,o);else{var h=d,p=d,m=d;ai(d,function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>m.depth&&(m=e)});var g=s(h,p)/2-h.x,_=u[0]/(p.x+s(p,h)/2+g),v=u[1]/(m.depth||1);ai(d,function(e){e.x=(e.x+g)*_,e.y=e.depth*v})}return l}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Di(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,a=t,u=i.parent.children[0],c=i.m,l=o.m,d=a.m,f=u.m;a=Ni(a),i=Oi(i),a&&i;)u=Oi(u),o=Ni(o),o.a=e,r=a.z+d-i.z-c+s(a._,i._),r>0&&(Pi(Ri(a,e,n),e,r),c+=r,l+=r),d+=a.m,c+=i.m,f+=u.m,l+=o.m;a&&!Ni(o)&&(o.t=a,o.m+=d-l),i&&!Oi(u)&&(u.t=i,u.m+=c-f,n=e)}return n}function o(e){e.x*=u[0],e.y=e.depth*u[1]}var a=ca.layout.hierarchy().sort(null).value(null),s=Ii,u=[1,1],c=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=null==(u=t)?o:null,e):c?null:u},e.nodeSize=function(t){return arguments.length?(c=null==(u=t)?null:o,e):c?u:null},oi(e,a)},ca.layout.cluster=function(){function e(e,o){var a,s=t.call(this,e,o),u=s[0],c=0;si(u,function(e){var t=e.children;t&&t.length?(e.x=qi(t),e.y=Hi(t)):(e.x=a?c+=n(e,a):0,e.y=0,a=e)});var l=Ui(u),d=Fi(u),f=l.x-n(l,d)/2,h=d.x+n(d,l)/2;return si(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-f)/(h-f)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}var t=ca.layout.hierarchy().sort(null).value(null),n=Ii,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},oi(e,t)},ca.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var o=n.children;if(o&&o.length){var a,s,u,c=d(n),l=[],f=o.slice(),p=1/0,m="slice"===h?c.dx:"dice"===h?c.dy:"slice-dice"===h?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(f,c.dx*c.dy/n.value),l.area=0;(u=f.length)>0;)l.push(a=f[u-1]),l.area+=a.area,"squarify"!==h||(s=r(l,m))<=p?(f.pop(),p=s):(l.area-=l.pop().area,i(l,m,c,!1),m=Math.min(c.dx,c.dy),l.length=l.area=0,p=1/0);l.length&&(i(l,m,c,!0),l.length=l.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=d(t),s=r.slice(),u=[];for(e(s,a.dx*a.dy/t.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*p/r,r/(t*o*p)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,s=n.x,c=n.y,l=t?u(e.area/t):0;if(t==n.dx){for((r||l>n.dy)&&(l=n.dy);++o<a;)i=e[o],i.x=s,i.y=c,i.dy=l,s+=i.dx=Math.min(n.x+n.dx-s,l?u(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++o<a;)i=e[o],i.x=s,i.y=c,i.dx=l,c+=i.dy=Math.min(n.y+n.dy-c,l?u(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=l,n.dx-=l}}function o(r){var i=a||s(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=c[0],o.dy=c[1]):o.dx=o.dy=0,a&&s.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),f&&(a=i),i}var a,s=ca.layout.hierarchy(),u=Math.round,c=[1,1],l=null,d=zi,f=!1,h="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(c=e,o):c},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?zi(t):Bi(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Bi(t,e)}if(!arguments.length)return l;var r;return d=null==(l=e)?zi:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(u=e?Math.round:Number,o):u!=Number},o.sticky=function(e){return arguments.length?(f=e,a=null,o):f},o.ratio=function(e){return arguments.length?(p=e,o):p},o.mode=function(e){return arguments.length?(h=e+"",o):h},oi(o,s)},ca.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=ca.random.normal.apply(ca,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=ca.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},ca.scale={};var Mu={floor:y,ceil:y};ca.scale.linear=function(){return Zi([0,1],[0,1],br,!1)};var ju={s:1,g:1,p:1,r:1,e:1};ca.scale.log=function(){return io(ca.scale.linear().domain([0,1]),10,!0,[1,10])};var Cu=ca.format(".0e"),ku={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};ca.scale.pow=function(){return oo(ca.scale.linear(),1,[0,1])},ca.scale.sqrt=function(){return ca.scale.pow().exponent(.5)},ca.scale.ordinal=function(){return so([],{t:"range",a:[[]]})},ca.scale.category10=function(){return ca.scale.ordinal().range(Lu)},ca.scale.category20=function(){return ca.scale.ordinal().range(Au)},ca.scale.category20b=function(){return ca.scale.ordinal().range(Tu)},ca.scale.category20c=function(){return ca.scale.ordinal().range(Iu)};var Lu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),Au=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),Tu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),Iu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);
ca.scale.quantile=function(){return uo([],[])},ca.scale.quantize=function(){return co(0,1,[0,1])},ca.scale.threshold=function(){return lo([.5],[0,1])},ca.scale.identity=function(){return fo([0,1])},ca.svg={},ca.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),l=a.apply(this,arguments)-Ba,d=s.apply(this,arguments)-Ba,f=Math.abs(d-l),h=l>d?0:1;if(e>c&&(p=c,c=e,e=p),f>=za)return t(c,h)+(e?t(e,1-h):"")+"Z";var p,m,g,_,v,y,b,w,x,S,E,M,j=0,C=0,k=[];if((_=(+u.apply(this,arguments)||0)/2)&&(g=o===Ou?Math.sqrt(e*e+c*c):+o.apply(this,arguments),h||(C*=-1),c&&(C=ne(g/c*Math.sin(_))),e&&(j=ne(g/e*Math.sin(_)))),c){v=c*Math.cos(l+C),y=c*Math.sin(l+C),b=c*Math.cos(d-C),w=c*Math.sin(d-C);var L=Math.abs(d-l-2*C)<=Ua?0:1;if(C&&yo(v,y,b,w)===h^L){var A=(l+d)/2;v=c*Math.cos(A),y=c*Math.sin(A),b=w=null}}else v=y=0;if(e){x=e*Math.cos(d-j),S=e*Math.sin(d-j),E=e*Math.cos(l+j),M=e*Math.sin(l+j);var T=Math.abs(l-d+2*j)<=Ua?0:1;if(j&&yo(x,S,E,M)===1-h^T){var I=(l+d)/2;x=e*Math.cos(I),S=e*Math.sin(I),E=M=null}}else x=S=0;if(f>Ha&&(p=Math.min(Math.abs(c-e)/2,+i.apply(this,arguments)))>.001){m=c>e^h?0:1;var O=p,N=p;if(Ua>f){var P=null==E?[x,S]:null==b?[v,y]:Pn([v,y],[E,M],[b,w],[x,S]),D=v-P[0],R=y-P[1],H=b-P[0],q=w-P[1],U=1/Math.sin(Math.acos((D*H+R*q)/(Math.sqrt(D*D+R*R)*Math.sqrt(H*H+q*q)))/2),F=Math.sqrt(P[0]*P[0]+P[1]*P[1]);N=Math.min(p,(e-F)/(U-1)),O=Math.min(p,(c-F)/(U+1))}if(null!=b){var z=bo(null==E?[x,S]:[E,M],[v,y],c,O,h),B=bo([b,w],[x,S],c,O,h);p===O?k.push("M",z[0],"A",O,",",O," 0 0,",m," ",z[1],"A",c,",",c," 0 ",1-h^yo(z[1][0],z[1][1],B[1][0],B[1][1]),",",h," ",B[1],"A",O,",",O," 0 0,",m," ",B[0]):k.push("M",z[0],"A",O,",",O," 0 1,",m," ",B[0])}else k.push("M",v,",",y);if(null!=E){var G=bo([v,y],[E,M],e,-N,h),W=bo([x,S],null==b?[v,y]:[b,w],e,-N,h);p===N?k.push("L",W[0],"A",N,",",N," 0 0,",m," ",W[1],"A",e,",",e," 0 ",h^yo(W[1][0],W[1][1],G[1][0],G[1][1]),",",1-h," ",G[1],"A",N,",",N," 0 0,",m," ",G[0]):k.push("L",W[0],"A",N,",",N," 0 0,",m," ",G[0])}else k.push("L",x,",",S)}else k.push("M",v,",",y),null!=b&&k.push("A",c,",",c," 0 ",L,",",h," ",b,",",w),k.push("L",x,",",S),null!=E&&k.push("A",e,",",e," 0 ",T,",",1-h," ",E,",",M);return k.push("Z"),k.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=po,r=mo,i=ho,o=Ou,a=go,s=_o,u=vo;return e.innerRadius=function(t){return arguments.length?(n=Ce(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Ce(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Ce(t),e):i},e.padRadius=function(t){return arguments.length?(o=t==Ou?Ou:Ce(t),e):o},e.startAngle=function(t){return arguments.length?(a=Ce(t),e):a},e.endAngle=function(t){return arguments.length?(s=Ce(t),e):s},e.padAngle=function(t){return arguments.length?(u=Ce(t),e):u},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ba;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Ou="auto";ca.svg.line=function(){return wo(y)};var Nu=ca.map({linear:xo,"linear-closed":So,step:Eo,"step-before":Mo,"step-after":jo,basis:Io,"basis-open":Oo,"basis-closed":No,bundle:Po,cardinal:Lo,"cardinal-open":Co,"cardinal-closed":ko,monotone:Fo});Nu.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Pu=[0,2/3,1/3,0],Du=[0,1/3,2/3,0],Ru=[0,1/6,2/3,1/6];ca.svg.line.radial=function(){var e=wo(zo);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Mo.reverse=jo,jo.reverse=Mo,ca.svg.area=function(){return Bo(y)},ca.svg.area.radial=function(){var e=Bo(zo);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},ca.svg.chord=function(){function e(e,s){var u=t(this,o,e,s),c=t(this,a,e,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,c)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,u.r,u.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=s.call(e,i,r),a=u.call(e,i,r)-Ba,l=c.call(e,i,r)-Ba;return{r:o,a0:a,a1:l,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(l),o*Math.sin(l)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ua)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var o=bn,a=wn,s=Go,u=go,c=_o;return e.radius=function(t){return arguments.length?(s=Ce(t),e):s},e.source=function(t){return arguments.length?(o=Ce(t),e):o},e.target=function(t){return arguments.length?(a=Ce(t),e):a},e.startAngle=function(t){return arguments.length?(u=Ce(t),e):u},e.endAngle=function(t){return arguments.length?(c=Ce(t),e):c},e},ca.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var t=bn,n=wn,r=Wo;return e.source=function(n){return arguments.length?(t=Ce(n),e):t},e.target=function(t){return arguments.length?(n=Ce(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},ca.svg.diagonal.radial=function(){var e=ca.svg.diagonal(),t=Wo,n=e.projection;return e.projection=function(e){return arguments.length?n(Vo(t=e)):t},e},ca.svg.symbol=function(){function e(e,r){return(Hu.get(t.call(this,e,r))||$o)(n.call(this,e,r))}var t=Yo,n=Xo;return e.type=function(n){return arguments.length?(t=Ce(n),e):t},e.size=function(t){return arguments.length?(n=Ce(t),e):n},e};var Hu=ca.map({circle:$o,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Uu)),n=t*Uu;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/qu),n=t*qu/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/qu),n=t*qu/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});ca.svg.symbolTypes=Hu.keys();var qu=Math.sqrt(3),Uu=Math.tan(30*Ga);Aa.transition=function(e){for(var t,n,r=Fu||++Wu,i=ea(e),o=[],a=zu||{time:Date.now(),ease:Cr,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(t=[]);for(var c=this[s],l=-1,d=c.length;++l<d;)(n=c[l])&&ta(n,l,i,r,a),t.push(n)}return Ko(o,i,r)},Aa.interrupt=function(e){return this.each(null==e?Bu:Zo(ea(e)))};var Fu,zu,Bu=Zo(ea()),Gu=[],Wu=0;Gu.call=Aa.call,Gu.empty=Aa.empty,Gu.node=Aa.node,Gu.size=Aa.size,ca.transition=function(e,t){return e&&e.transition?Fu?e.transition(t):e:ca.selection().transition(e)},ca.transition.prototype=Gu,Gu.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=L(e);for(var s=-1,u=this.length;++s<u;){a.push(t=[]);for(var c=this[s],l=-1,d=c.length;++l<d;)(r=c[l])&&(n=e.call(r,r.__data__,l,s))?("__data__"in r&&(n.__data__=r.__data__),ta(n,l,o,i,r[o][i]),t.push(n)):t.push(null)}return Ko(a,o,i)},Gu.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,u=[];e=A(e);for(var c=-1,l=this.length;++c<l;)for(var d=this[c],f=-1,h=d.length;++f<h;)if(r=d[f]){o=r[s][a],n=e.call(r,r.__data__,f,c),u.push(t=[]);for(var p=-1,m=n.length;++p<m;)(i=n[p])&&ta(i,p,s,a,o),t.push(i)}return Ko(u,s,a)},Gu.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=z(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return Ko(i,this.namespace,this.id)},Gu.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):G(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Gu.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?Yr:br,s=ca.ns.qualify(e);return Jo(this,"attr."+e,t,s.local?o:i)},Gu.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=ca.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Gu.style=function(e,t,r){function i(){this.style.removeProperty(e)}function o(t){return null==t?i:(t+="",function(){var i,o=n(this).getComputedStyle(this,null).getPropertyValue(e);return o!==t&&(i=br(o,t),function(t){this.style.setProperty(e,i(t),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(t="");for(r in e)this.style(r,e[r],t);return this}r=""}return Jo(this,"style."+e,t,o)},Gu.styleTween=function(e,t,r){function i(i,o){var a=t.call(this,i,o,n(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+e,i)},Gu.text=function(e){return Jo(this,"text",e,Qo)},Gu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Gu.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=ca.ease.apply(ca,arguments)),G(this,function(r){r[n][t].ease=e}))},Gu.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:G(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Gu.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:G(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Gu.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=zu,o=Fu;try{Fu=n,G(this,function(t,i,o){zu=t[r][n],e.call(t,t.__data__,i,o)})}finally{zu=i,Fu=o}}else G(this,function(i){var o=i[r][n];(o.event||(o.event=ca.dispatch("start","end","interrupt"))).on(e,t)});return this},Gu.transition=function(){for(var e,t,n,r,i=this.id,o=++Wu,a=this.namespace,s=[],u=0,c=this.length;c>u;u++){s.push(e=[]);for(var t=this[u],l=0,d=t.length;d>l;l++)(n=t[l])&&(r=n[a][i],ta(n,l,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return Ko(s,a,o)},ca.svg.axis=function(){function e(e){e.each(function(){var e,c=ca.select(this),l=this.__chart__||n,d=this.__chart__=n.copy(),f=null==u?d.ticks?d.ticks.apply(d,s):d.domain():u,h=null==t?d.tickFormat?d.tickFormat.apply(d,s):y:t,p=c.selectAll(".tick").data(f,d),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ha),g=ca.transition(p.exit()).style("opacity",Ha).remove(),_=ca.transition(p.order()).style("opacity",1),v=Math.max(i,0)+a,b=Wi(d),w=c.selectAll(".domain").data([0]),x=(w.enter().append("path").attr("class","domain"),ca.transition(w));m.append("line"),m.append("text");var S,E,M,j,C=m.select("line"),k=_.select("line"),L=p.select("text").text(h),A=m.select("text"),T=_.select("text"),I="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=na,S="x",M="y",E="x2",j="y2",L.attr("dy",0>I?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+I*o+"V0H"+b[1]+"V"+I*o)):(e=ra,S="y",M="x",E="y2",j="x2",L.attr("dy",".32em").style("text-anchor",0>I?"end":"start"),x.attr("d","M"+I*o+","+b[0]+"H0V"+b[1]+"H"+I*o)),C.attr(j,I*i),A.attr(M,I*v),k.attr(E,0).attr(j,I*i),T.attr(S,0).attr(M,I*v),d.rangeBand){var O=d,N=O.rangeBand()/2;l=d=function(e){return O(e)+N}}else l.rangeBand?l=d:g.call(e,d,l);m.call(e,l,d),_.call(e,d,d)})}var t,n=ca.scale.linear(),r=Vu,i=6,o=6,a=3,s=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Xu?t+"":Vu,e):r},e.ticks=function(){return arguments.length?(s=da(arguments),e):s},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Vu="bottom",Xu={top:1,right:1,bottom:1,left:1};ca.svg.brush=function(){function e(n){n.each(function(){var n=ca.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=n.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=n.selectAll(".resize").data(m,y);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Yu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var u,d=ca.transition(n),f=ca.transition(a);c&&(u=Wi(c),f.attr("x",u[0]).attr("width",u[1]-u[0]),r(d)),l&&(u=Wi(l),f.attr("y",u[0]).attr("height",u[1]-u[0]),i(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)]+","+f[+/^s/.test(e)]+")"})}function r(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function i(e){e.select(".extent").attr("y",f[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function o(){function o(){32==ca.event.keyCode&&(L||(y=null,T[0]-=d[1],T[1]-=f[1],L=2),M())}function m(){32==ca.event.keyCode&&2==L&&(T[0]+=d[1],T[1]+=f[1],L=0,M())}function g(){var e=ca.mouse(w),n=!1;b&&(e[0]+=b[0],e[1]+=b[1]),L||(ca.event.altKey?(y||(y=[(d[0]+d[1])/2,(f[0]+f[1])/2]),T[0]=d[+(e[0]<y[0])],T[1]=f[+(e[1]<y[1])]):y=null),C&&_(e,c,0)&&(r(E),n=!0),k&&_(e,l,1)&&(i(E),n=!0),n&&(t(E),S({type:"brush",mode:L?"move":"resize"}))}function _(e,t,n){var r,i,o=Wi(t),u=o[0],c=o[1],l=T[n],m=n?f:d,g=m[1]-m[0];return L&&(u-=l,c-=g+l),r=(n?p:h)?Math.max(u,Math.min(c,e[n])):e[n],L?i=(r+=l)+g:(y&&(l=Math.max(u,Math.min(c,2*y[n]-r))),r>l?(i=r,r=l):i=l),m[0]!=r||m[1]!=i?(n?s=null:a=null,m[0]=r,m[1]=i,!0):void 0}function v(){g(),E.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),ca.select("body").style("cursor",null),I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),S({type:"brushend"})}var y,b,w=this,x=ca.select(ca.event.target),S=u.of(w,arguments),E=ca.select(w),j=x.datum(),C=!/^(n|s)$/.test(j)&&c,k=!/^(e|w)$/.test(j)&&l,L=x.classed("extent"),A=Z(w),T=ca.mouse(w),I=ca.select(n(w)).on("keydown.brush",o).on("keyup.brush",m);if(ca.event.changedTouches?I.on("touchmove.brush",g).on("touchend.brush",v):I.on("mousemove.brush",g).on("mouseup.brush",v),E.interrupt().selectAll("*").interrupt(),L)T[0]=d[0]-T[0],T[1]=f[0]-T[1];else if(j){var O=+/w$/.test(j),N=+/^n/.test(j);b=[d[1-O]-T[0],f[1-N]-T[1]],T[0]=d[O],T[1]=f[N]}else ca.event.altKey&&(y=T.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),ca.select("body").style("cursor",x.style("cursor")),S({type:"brushstart"}),g()}var a,s,u=C(e,"brushstart","brush","brushend"),c=null,l=null,d=[0,0],f=[0,0],h=!0,p=!0,m=$u[0];return e.event=function(e){e.each(function(){var e=u.of(this,arguments),t={x:d,y:f,i:a,j:s},n=this.__chart__||t;this.__chart__=t,Fu?ca.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,d=n.x,f=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=wr(d,t.x),r=wr(f,t.y);return a=s=null,function(i){d=t.x=n(i),f=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(c=t,m=$u[!c<<1|!l],e):c},e.y=function(t){return arguments.length?(l=t,m=$u[!c<<1|!l],e):l},e.clamp=function(t){return arguments.length?(c&&l?(h=!!t[0],p=!!t[1]):c?h=!!t:l&&(p=!!t),e):c&&l?[h,p]:c?h:l?p:null},e.extent=function(t){var n,r,i,o,u;return arguments.length?(c&&(n=t[0],r=t[1],l&&(n=n[0],r=r[0]),a=[n,r],c.invert&&(n=c(n),r=c(r)),n>r&&(u=n,n=r,r=u),n==d[0]&&r==d[1]||(d=[n,r])),l&&(i=t[0],o=t[1],c&&(i=i[1],o=o[1]),s=[i,o],l.invert&&(i=l(i),o=l(o)),i>o&&(u=i,i=o,o=u),i==f[0]&&o==f[1]||(f=[i,o])),e):(c&&(a?(n=a[0],r=a[1]):(n=d[0],r=d[1],c.invert&&(n=c.invert(n),r=c.invert(r)),n>r&&(u=n,n=r,r=u))),l&&(s?(i=s[0],o=s[1]):(i=f[0],o=f[1],l.invert&&(i=l.invert(i),o=l.invert(o)),i>o&&(u=i,i=o,o=u))),c&&l?[[n,i],[r,o]]:c?[n,r]:l&&[i,o])},e.clear=function(){return e.empty()||(d=[0,0],f=[0,0],a=s=null),e},e.empty=function(){return!!c&&d[0]==d[1]||!!l&&f[0]==f[1]},ca.rebind(e,u,"on")};var Yu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$u=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Zu=ms.format=ws.timeFormat,Ku=Zu.utc,Ju=Ku("%Y-%m-%dT%H:%M:%S.%LZ");Zu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Ju,ia.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},ia.toString=Ju.toString,ms.second=Fe(function(e){return new gs(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),ms.seconds=ms.second.range,ms.seconds.utc=ms.second.utc.range,ms.minute=Fe(function(e){return new gs(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),ms.minutes=ms.minute.range,ms.minutes.utc=ms.minute.utc.range,ms.hour=Fe(function(e){var t=e.getTimezoneOffset()/60;return new gs(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),ms.hours=ms.hour.range,ms.hours.utc=ms.hour.utc.range,ms.month=Fe(function(e){return e=ms.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ms.months=ms.month.range,ms.months.utc=ms.month.utc.range;var Qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ec=[[ms.second,1],[ms.second,5],[ms.second,15],[ms.second,30],[ms.minute,1],[ms.minute,5],[ms.minute,15],[ms.minute,30],[ms.hour,1],[ms.hour,3],[ms.hour,6],[ms.hour,12],[ms.day,1],[ms.day,2],[ms.week,1],[ms.month,1],[ms.month,3],[ms.year,1]],tc=Zu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",At]]),nc={range:function(e,t,n){return ca.range(Math.ceil(e/n)*n,+t,n).map(aa)},floor:y,ceil:y};ec.year=ms.year,ms.scale=function(){return oa(ca.scale.linear(),ec,tc)};var rc=ec.map(function(e){return[e[0].utc,e[1]]}),ic=Ku.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",At]]);rc.year=ms.year.utc,ms.scale.utc=function(){return oa(ca.scale.linear(),rc,ic)},ca.text=ke(function(e){return e.responseText}),ca.json=function(e,t){return Le(e,"application/json",sa,t)},ca.html=function(e,t){return Le(e,"text/html",ua,t)},ca.xml=ke(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=ca,define(ca)):"object"==typeof t&&t.exports?t.exports=ca:this.d3=ca}()},{}],300:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],301:[function(e,t,n){e("whatwg-fetch"),t.exports=self.fetch.bind(self)},{"whatwg-fetch":302}],302:[function(e,t,n){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function u(e){var t=new FileReader;return t.readAsText(e),a(t)}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=o(this);return e?e:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(d.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function h(e){var t=new i,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function p(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this)},c.call(d.prototype),c.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];p.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=p,e.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=d.prototype.isPrototypeOf(e)&&!t?e:new d(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:h(a),url:i()},t="response"in a?a.response:a.responseText;n(new p(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&m.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],303:[function(e,t,n){(function(e){(function(){function r(e,t){if(e!==t){var n=null===e,r=e===M,i=e===e,o=null===t,a=t===M,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function i(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function o(e,t,n){if(t!==t)return g(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function a(e){return"function"==typeof e||!1}function s(e){return null==e?"":e+""}function u(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function c(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function l(e,t){return r(e.criteria,t.criteria)||e.index-t.index}function d(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c){if(i>=u)return c;var l=n[i];return c*("asc"===l||l===!0?1:-1)}}return e.index-t.index}function f(e){return Ge[e]}function h(e){return We[e]}function p(e,t,n){return t?e=Ye[e]:n&&(e=$e[e]),"\\"+e}function m(e){return"\\"+$e[e]}function g(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function _(e){return!!e&&"object"==typeof e}function v(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function y(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=G,o[++i]=n);
return o}function b(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}function w(e){for(var t=-1,n=e.length;++t<n&&v(e.charCodeAt(t)););return t}function x(e){for(var t=e.length;t--&&v(e.charCodeAt(t)););return t}function S(e){return Ve[e]}function E(e){function t(e){if(_(e)&&!Ls(e)&&!(e instanceof K)){if(e instanceof v)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return hr(e)}return new v(e)}function n(){}function v(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function K(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ka,this.__views__=[]}function te(){var e=new K(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function re(){if(this.__filtered__){var e=new K(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ge(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ls(e),r=0>t,i=n?e.length:0,o=Vn(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,h=Sa(u,this.__takeCount__);if(!n||U>i||i==u&&h==u)return nn(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;u--&&h>f;){c+=t;for(var m=-1,g=e[c];++m<d;){var _=l[m],v=_.iteratee,y=_.type,b=v(g);if(y==z)g=b;else if(!b){if(y==F)continue e;break e}}p[f++]=g}return p}function We(){this.__data__={}}function Ve(e){return this.has(e)&&delete this.__data__[e]}function Xe(e){return"__proto__"==e?M:this.__data__[e]}function Ye(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function $e(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ze(e){var t=e?e.length:0;for(this.data={hash:_a(null),set:new da};t--;)this.push(e[t])}function Ke(e,t){var n=e.data,r="string"==typeof t||Ni(t)?n.set.has(t):n.hash[t];return r?0:-1}function Je(e){var t=this.data;"string"==typeof e||Ni(e)?t.set.add(e):t.hash[e]=!0}function Qe(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Fo(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function et(e,t){var n=-1,r=e.length;for(t||(t=Fo(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var u=e[i],c=+t(u);n(c,a)&&(a=c,s=u)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function ut(e,t){for(var n=-1,r=e.length,i=Fo(r);++n<r;)i[n]=t(e[n],n,e);return i}function ct(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function lt(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function dt(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ft(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function pt(e,t){return e===M?t:e}function mt(e,t,n,r){return e!==M&&ta.call(r,n)?e:t}function gt(e,t,n){for(var r=-1,i=Us(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==M||a in e)||(e[a]=u)}return e}function _t(e,t){return null==t?e:yt(t,Us(t),e)}function vt(e,t){for(var n=-1,r=null==e,i=!r&&Kn(e),o=i?e.length:0,a=t.length,s=Fo(a);++n<a;){var u=t[n];i?s[n]=Jn(u,o)?e[u]:M:s[n]=r?M:e[u]}return s}function yt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function bt(e,t,n){var r=typeof e;return"function"==r?t===M?e:an(e,t,n):null==e?ko:"object"==r?qt(e):t===M?No(e):Ut(e,t)}function wt(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==M)return s;if(!Ni(e))return e;var u=Ls(e);if(u){if(s=Xn(e),!t)return et(e,s)}else{var c=ra.call(e),l=c==Z;if(c!=Q&&c!=W&&(!l||i))return Be[c]?$n(e,c,t):i?e:{};if(s=Yn(l?{}:e),!t)return _t(s,e)}o||(o=[]),a||(a=[]);for(var d=o.length;d--;)if(o[d]==e)return a[d];return o.push(e),a.push(s),(u?tt:Tt)(e,function(r,i){s[i]=wt(r,t,n,i,e,o,a)}),s}function xt(e,t,n){if("function"!=typeof e)throw new Zo(B);return fa(function(){e.apply(M,n)},t)}function St(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,a=Bn(),s=a==o,u=s&&t.length>=U?mn(t):null,c=t.length;u&&(a=Ke,s=!1,t=u);e:for(;++i<n;){var l=e[i];if(s&&l===l){for(var d=c;d--;)if(t[d]===l)continue e;r.push(l)}else a(t,l,0)<0&&r.push(l)}return r}function Et(e,t){var n=!0;return Da(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Mt(e,t,n,r){var i=r,o=i;return Da(e,function(e,a,s){var u=+t(e,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=e)}),o}function jt(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===M||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function Ct(e,t){var n=[];return Da(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function kt(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function Lt(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];_(a)&&Kn(a)&&(n||Ls(a)||Mi(a))?t?Lt(a,t,n,r):ct(r,a):n||(r[r.length]=a)}return r}function At(e,t){return Ha(e,t,eo)}function Tt(e,t){return Ha(e,t,Us)}function It(e,t){return qa(e,t,Us)}function Ot(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Oi(e[a])&&(o[++i]=a)}return o}function Nt(e,t,n){if(null!=e){n!==M&&n in dr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:M}}function Pt(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!Ni(e)&&!_(t)?e!==e&&t!==t:Dt(e,t,Pt,n,r,i,o)}function Dt(e,t,n,r,i,o,a){var s=Ls(e),u=Ls(t),c=V,l=V;s||(c=ra.call(e),c==W?c=Q:c!=Q&&(s=Bi(e))),u||(l=ra.call(t),l==W?l=Q:l!=Q&&(u=Bi(t)));var d=c==Q,f=l==Q,h=c==l;if(h&&!s&&!d)return qn(e,t,c);if(!i){var p=d&&ta.call(e,"__wrapped__"),m=f&&ta.call(t,"__wrapped__");if(p||m)return n(p?e.value():e,m?t.value():t,r,i,o,a)}if(!h)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==e)return a[g]==t;o.push(e),a.push(t);var _=(s?Hn:Un)(e,t,n,r,i,o,a);return o.pop(),a.pop(),_}function Rt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=dr(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],c=a[1];if(o&&a[2]){if(u===M&&!(s in e))return!1}else{var l=n?n(u,c,s):M;if(!(l===M?Pt(c,u,n,!0):l))return!1}}return!0}function Ht(e,t){var n=-1,r=Kn(e)?Fo(e.length):[];return Da(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function qt(e){var t=Gn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==M||n in dr(e))}}return function(e){return Rt(e,t)}}function Ut(e,t){var n=Ls(e),r=er(e)&&rr(t),i=e+"";return e=fr(e),function(o){if(null==o)return!1;var a=i;if(o=dr(o),(n||!r)&&!(a in o)){if(o=1==e.length?o:Nt(o,Yt(e,0,-1)),null==o)return!1;a=jr(e),o=dr(o)}return o[a]===t?t!==M||a in o:Pt(t,o[a],M,!0)}}function Ft(e,t,n,r,i){if(!Ni(e))return e;var o=Kn(t)&&(Ls(t)||Bi(t)),a=o?M:Us(t);return tt(a||t,function(s,u){if(a&&(u=s,s=t[u]),_(s))r||(r=[]),i||(i=[]),zt(e,t,u,Ft,n,r,i);else{var c=e[u],l=n?n(c,s,u,e,t):M,d=l===M;d&&(l=s),l===M&&(!o||u in e)||!d&&(l===l?l===c:c!==c)||(e[u]=l)}}),e}function zt(e,t,n,r,i,o,a){for(var s=o.length,u=t[n];s--;)if(o[s]==u)return void(e[n]=a[s]);var c=e[n],l=i?i(c,u,n,e,t):M,d=l===M;d&&(l=u,Kn(u)&&(Ls(u)||Bi(u))?l=Ls(c)?c:Kn(c)?et(c):[]:Ui(u)||Mi(u)?l=Mi(c)?Yi(c):Ui(c)?c:{}:d=!1),o.push(u),a.push(l),d?e[n]=r(l,u,i,o,a):(l===l?l!==c:c===c)&&(e[n]=l)}function Bt(e){return function(t){return null==t?M:t[e]}}function Gt(e){var t=e+"";return e=fr(e),function(n){return Nt(n,e,t)}}function Wt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Jn(r)){var i=r;ha.call(e,r,1)}}return e}function Vt(e,t){return e+va(ja()*(t-e+1))}function Xt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Yt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===M||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Fo(i);++r<i;)o[r]=e[r+t];return o}function $t(e,t){var n;return Da(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Zt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Kt(e,t,n){var r=Fn(),i=-1;t=ut(t,function(e){return r(e)});var o=Ht(e,function(e){var n=ut(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Zt(o,function(e,t){return d(e,t,n)})}function Jt(e,t){var n=0;return Da(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Qt(e,t){var n=-1,r=Bn(),i=e.length,a=r==o,s=a&&i>=U,u=s?mn():null,c=[];u?(r=Ke,a=!1):(s=!1,u=t?[]:c);e:for(;++n<i;){var l=e[n],d=t?t(l,n,e):l;if(a&&l===l){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),c.push(l)}else r(u,d,0)<0&&((t||s)&&u.push(d),c.push(l))}return c}function en(e,t){for(var n=-1,r=t.length,i=Fo(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Yt(e,r?0:o,r?o+1:i):Yt(e,r?o+1:0,r?i:o)}function nn(e,t){var n=e;n instanceof K&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,ct([n],o.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Ta>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return on(e,t,ko,n)}function on(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===M;o>i;){var c=va((i+o)/2),l=n(e[c]),d=l!==M,f=l===l;if(a)var h=f||r;else h=s?f&&d&&(r||null!=l):u?f&&(r||d):null==l?!1:r?t>=l:t>l;h?i=c+1:o=c}return Sa(o,Aa)}function an(e,t,n){if("function"!=typeof e)return ko;if(t===M)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new pa(t);return n.set(new pa(e)),t}function un(e,t,n){for(var r=n.length,i=-1,o=xa(e.length-r,0),a=-1,s=t.length,u=Fo(s+o);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function cn(e,t,n){for(var r=-1,i=n.length,o=-1,a=xa(e.length-i,0),s=-1,u=t.length,c=Fo(a+u);++o<a;)c[o]=e[o];for(var l=o;++s<u;)c[l+s]=t[s];for(;++r<i;)c[l+n[r]]=e[o++];return c}function ln(e,t){return function(n,r,i){var o=t?t():{};if(r=Fn(r,i,3),Ls(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,r(u,a,n),n)}else Da(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function dn(e){return _i(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:M,a=i>2?n[2]:M,s=i>1?n[i-1]:M;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:M,i-=o?1:0),a&&Qn(n[0],n[1],a)&&(o=3>i?M:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t})}function fn(e,t){return function(n,r){var i=n?za(n):0;if(!nr(i))return e(n,r);for(var o=t?i:-1,a=dr(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function hn(e){return function(t,n,r){for(var i=dr(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return t}}function pn(e,t){function n(){var i=this&&this!==nt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=_n(e);return n}function mn(e){return _a&&da?new Ze(e):null}function gn(e){return function(t){for(var n=-1,r=Mo(lo(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function _n(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pa(e.prototype),r=e.apply(n,t);return Ni(r)?r:n}}function vn(e){function t(n,r,i){i&&Qn(n,r,i)&&(r=M);var o=Rn(n,e,M,M,M,M,M,r);return o.placeholder=t.placeholder,o}return t}function yn(e,t){return _i(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(M,n))})}function bn(e,t){return function(n,r,i){if(i&&Qn(n,r,i)&&(r=M),r=Fn(r,i,3),1==r.length){n=Ls(n)?n:lr(n);var o=at(n,r,e,t);if(!n.length||o!==t)return o}return Mt(n,r,e,t)}}function wn(e,t){return function(n,r,o){if(r=Fn(r,o,3),Ls(n)){var a=i(n,r,t);return a>-1?n[a]:M}return kt(n,r,e)}}function xn(e){return function(t,n,r){return t&&t.length?(n=Fn(n,r,3),i(t,n,e)):-1}}function Sn(e){return function(t,n,r){return n=Fn(n,r,3),kt(t,n,e,!0)}}function En(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=Fo(n);e?r--:++r<n;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Zo(B);!t&&v.prototype.thru&&"wrapper"==zn(a)&&(t=new v([],!0))}for(r=t?-1:n;++r<n;){a=o[r];var s=zn(a),u="wrapper"==s?Fa(a):M;t=u&&tr(u[0])&&u[1]==(N|A|I|P)&&!u[4].length&&1==u[9]?t[zn(u[0])].apply(t,u[3]):1==a.length&&tr(a)?t[s]():t.thru(a)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ls(r)&&r.length>=U)return t.plant(r).value();for(var i=0,a=n?o[i].apply(this,e):r;++i<n;)a=o[i].call(this,a);return a}}}function Mn(e,t){return function(n,r,i){return"function"==typeof r&&i===M&&Ls(n)?e(n,r):t(n,an(r,i,3))}}function jn(e){return function(t,n,r){return"function"==typeof n&&r===M||(n=an(n,r,3)),e(t,n,eo)}}function Cn(e){return function(t,n,r){return"function"==typeof n&&r===M||(n=an(n,r,3)),e(t,n)}}function kn(e){return function(t,n,r){var i={};return n=Fn(n,r,3),Tt(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Ln(e){return function(t,n,r){return t=s(t),(e?t:"")+On(t,n,r)+(e?"":t)}}function An(e){var t=_i(function(n,r){var i=y(r,t.placeholder);return Rn(n,e,M,r,i)});return t}function Tn(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===M&&Ls(n)?e(n,r,i,a):Xt(n,Fn(r,o,4),i,a,t)}}function In(e,t,n,r,i,o,a,s,u,c){function l(){for(var v=arguments.length,b=v,w=Fo(v);b--;)w[b]=arguments[b];if(r&&(w=un(w,r,i)),o&&(w=cn(w,o,a)),p||g){var x=l.placeholder,S=y(w,x);if(v-=S.length,c>v){var E=s?et(s):M,j=xa(c-v,0),L=p?S:M,A=p?M:S,T=p?w:M,N=p?M:w;t|=p?I:O,t&=~(p?O:I),m||(t&=~(C|k));var P=[e,t,n,T,L,N,A,E,u,j],D=In.apply(M,P);return tr(e)&&Ba(D,P),D.placeholder=x,D}}var R=f?n:this,H=h?R[e]:e;return s&&(w=ur(w,s)),d&&u<w.length&&(w.length=u),this&&this!==nt&&this instanceof l&&(H=_||_n(e)),H.apply(R,w)}var d=t&N,f=t&C,h=t&k,p=t&A,m=t&L,g=t&T,_=h?M:_n(e);return l}function On(e,t,n){var r=e.length;if(t=+t,r>=t||!ba(t))return"";var i=t-r;return n=null==n?" ":n+"",_o(n,ga(i/n.length)).slice(0,i)}function Nn(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,c=r.length,l=Fo(c+s);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++t];var d=this&&this!==nt&&this instanceof i?a:e;return d.apply(o?n:this,l)}var o=t&C,a=_n(e);return i}function Pn(e){var t=Wo[e];return function(e,n){return n=n===M?0:+n||0,n?(n=ca(10,n),t(e*n)/n):t(e)}}function Dn(e){return function(t,n,r,i){var o=Fn(r);return null==r&&o===bt?rn(t,n,e):on(t,n,o(r,i,1),e)}}function Rn(e,t,n,r,i,o,a,s){var u=t&k;if(!u&&"function"!=typeof e)throw new Zo(B);var c=r?r.length:0;if(c||(t&=~(I|O),r=i=M),c-=i?i.length:0,t&O){var l=r,d=i;r=i=M}var f=u?M:Fa(e),h=[e,t,n,r,i,l,d,o,a,s];if(f&&(ir(h,f),t=h[1],s=h[9]),h[9]=null==s?u?0:e.length:xa(s-c,0)||0,t==C)var p=pn(h[0],h[2]);else p=t!=I&&t!=(C|I)||h[4].length?In.apply(M,h):Nn.apply(M,h);var m=f?Ua:Ba;return m(p,h)}function Hn(e,t,n,r,i,o,a){var s=-1,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;for(;++s<u;){var l=e[s],d=t[s],f=r?r(i?d:l,i?l:d,s):M;if(f!==M){if(f)continue;return!1}if(i){if(!ft(t,function(e){return l===e||n(l,e,r,i,o,a)}))return!1}else if(l!==d&&!n(l,d,r,i,o,a))return!1}return!0}function qn(e,t,n){switch(n){case X:case Y:return+e==+t;case $:return e.name==t.name&&e.message==t.message;case J:return e!=+e?t!=+t:e==+t;case ee:case ne:return e==t+""}return!1}function Un(e,t,n,r,i,o,a){var s=Us(e),u=s.length,c=Us(t),l=c.length;if(u!=l&&!i)return!1;for(var d=u;d--;){var f=s[d];if(!(i?f in t:ta.call(t,f)))return!1}for(var h=i;++d<u;){f=s[d];var p=e[f],m=t[f],g=r?r(i?m:p,i?p:m,f):M;if(!(g===M?n(p,m,r,i,o,a):g))return!1;h||(h="constructor"==f)}if(!h){var _=e.constructor,v=t.constructor;if(_!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v))return!1}return!0}function Fn(e,n,r){var i=t.callback||jo;return i=i===jo?bt:i,r?i(e,n,r):i}function zn(e){for(var t=e.name,n=Na[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Bn(e,n,r){var i=t.indexOf||Er;return i=i===Er?o:i,e?i(e,n,r):i}function Gn(e){for(var t=to(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Wn(e,t){var n=null==e?M:e[t];return Ri(n)?n:M}function Vn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Sa(t,e+a);break;case"takeRight":e=xa(e,t-a)}}return{start:e,end:t}}function Xn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Yn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Xo),new t}function $n(e,t,n){var r=e.constructor;switch(t){case ie:return sn(e);case X:case Y:return new r(+e);case oe:case ae:case se:case ue:case ce:case le:case de:case fe:case he:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case J:case ne:return new r(e);case ee:var o=new r(e.source,Ie.exec(e));o.lastIndex=e.lastIndex}return o}function Zn(e,t,n){null==e||er(t,e)||(t=fr(t),e=1==t.length?e:Nt(e,Yt(t,0,-1)),t=jr(t));var r=null==e?e:e[t];return null==r?M:r.apply(e,n)}function Kn(e){return null!=e&&nr(za(e))}function Jn(e,t){return e="number"==typeof e||Pe.test(e)?+e:-1,t=null==t?Ia:t,e>-1&&e%1==0&&t>e}function Qn(e,t,n){if(!Ni(n))return!1;var r=typeof t;if("number"==r?Kn(n)&&Jn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&Me.test(e)||"number"==n)return!0;if(Ls(e))return!1;var r=!Ee.test(e);return r||null!=t&&e in dr(t)}function tr(e){var n=zn(e);if(!(n in K.prototype))return!1;var r=t[n];if(e===r)return!0;var i=Fa(r);return!!i&&e===i[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Ia>=e}function rr(e){return e===e&&!Ni(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,o=N>i,a=r==N&&n==A||r==N&&n==P&&e[7].length<=t[8]||r==(N|P)&&n==A;if(!o&&!a)return e;r&C&&(e[2]=t[2],i|=n&C?0:L);var s=t[3];if(s){var u=e[3];e[3]=u?un(u,s,t[4]):et(s),e[4]=u?y(e[3],G):et(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?cn(u,s,t[6]):et(s),e[6]=u?y(e[5],G):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&N&&(e[8]=null==e[8]?t[8]:Sa(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function or(e,t){return e===M?t:As(e,t,or)}function ar(e,t){e=dr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function sr(e,t){var n={};return At(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ur(e,t){for(var n=e.length,r=Sa(t.length,n),i=et(e);r--;){var o=t[r];e[r]=Jn(o,n)?i[o]:M}return e}function cr(e){for(var t=eo(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Ls(e)||Mi(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Jn(s,r)||ta.call(e,s))&&a.push(s)}return a}function lr(e){return null==e?[]:Kn(e)?Ni(e)?e:Xo(e):oo(e)}function dr(e){return Ni(e)?e:Xo(e)}function fr(e){if(Ls(e))return e;var t=[];return s(e).replace(je,function(e,n,r,i){t.push(r?i.replace(Ae,"$1"):n||e)}),t}function hr(e){return e instanceof K?e.clone():new v(e.__wrapped__,e.__chain__,et(e.__actions__))}function pr(e,t,n){t=(n?Qn(e,t,n):null==t)?1:xa(va(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Fo(ga(i/t));i>r;)a[++o]=Yt(e,r,r+=t);return a}function mr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function gr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),Yt(e,0>t?0:t)):[]}function _r(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Yt(e,0,0>t?0:t)):[]}function vr(e,t,n){return e&&e.length?tn(e,Fn(t,n,3),!0,!0):[]}function yr(e,t,n){return e&&e.length?tn(e,Fn(t,n,3),!0):[]}function br(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Qn(e,t,n)&&(n=0,r=i),jt(e,t,n,r)):[]}function wr(e){return e?e[0]:M}function xr(e,t,n){var r=e?e.length:0;return n&&Qn(e,t,n)&&(t=!1),r?Lt(e,t):[]}function Sr(e){var t=e?e.length:0;return t?Lt(e,!0):[]}function Er(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?xa(r+n,0):n;else if(n){var i=rn(e,t);return r>i&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return o(e,t,n||0)}function Mr(e){return _r(e,1)}function jr(e){var t=e?e.length:0;return t?e[t-1]:M}function Cr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?xa(r+n,0):Sa(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return g(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function kr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Bn(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)ha.call(t,o,1);return t}function Lr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Fn(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Wt(e,o),r}function Ar(e){return gr(e,1)}function Tr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Qn(e,t,n)&&(t=0,n=r),Yt(e,t,n)):[]}function Ir(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),Yt(e,0,0>t?0:t)):[]}function Or(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Yt(e,0>t?0:t)):[]}function Nr(e,t,n){return e&&e.length?tn(e,Fn(t,n,3),!1,!0):[]}function Pr(e,t,n){return e&&e.length?tn(e,Fn(t,n,3)):[]}function Dr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Qn(e,t,r)?M:t,t=!1);var a=Fn();return null==n&&a===bt||(n=a(n,r,3)),t&&Bn()==o?b(e,n):Qt(e,n)}function Rr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Kn(e)?(n=xa(e.length,n),!0):void 0});for(var r=Fo(n);++t<n;)r[t]=ut(e,Bt(t));return r}function Hr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Rr(e);return null==t?i:(t=an(t,n,4),ut(i,function(e){return lt(e,t,M,!0)}))}function qr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Kn(n))var r=r?ct(St(r,n),St(n,r)):n}return r?Qt(r):[]}function Ur(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ls(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Fr(e){var n=t(e);return n.__chain__=!0,n}function zr(e,t,n){return t.call(n,e),e}function Br(e,t,n){return t.call(n,e)}function Gr(){return Fr(this)}function Wr(){return new v(this.value(),this.__chain__)}function Vr(e){for(var t,r=this;r instanceof n;){var i=hr(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function Xr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof K){var n=e;return this.__actions__.length&&(n=new K(this)),n=n.reverse(),n.__actions__.push({func:Br,args:[t],thisArg:M}),new v(n,this.__chain__)}return this.thru(t)}function Yr(){return this.value()+""}function $r(){return nn(this.__wrapped__,this.__actions__)}function Zr(e,t,n){var r=Ls(e)?ot:Et;return n&&Qn(e,t,n)&&(t=M),"function"==typeof t&&n===M||(t=Fn(t,n,3)),r(e,t)}function Kr(e,t,n){var r=Ls(e)?st:Ct;return t=Fn(t,n,3),r(e,t)}function Jr(e,t){return is(e,qt(t))}function Qr(e,t,n,r){var i=e?za(e):0;return nr(i)||(e=oo(e),i=e.length),n="number"!=typeof n||r&&Qn(t,n,r)?0:0>n?xa(i+n,0):n||0,"string"==typeof e||!Ls(e)&&zi(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&Bn(e,t,n)>-1}function ei(e,t,n){var r=Ls(e)?ut:Ht;return t=Fn(t,n,3),r(e,t)}function ti(e,t){return ei(e,No(t))}function ni(e,t,n){var r=Ls(e)?st:Ct;return t=Fn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Qn(e,t,n):null==t){e=lr(e);var r=e.length;return r>0?e[Vt(0,r-1)]:M}var i=-1,o=Xi(e),r=o.length,a=r-1;for(t=Sa(0>t?0:+t||0,r);++i<t;){var s=Vt(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=t,o}function ii(e){return ri(e,ka)}function oi(e){var t=e?za(e):0;return nr(t)?t:Us(e).length}function ai(e,t,n){var r=Ls(e)?ft:$t;return n&&Qn(e,t,n)&&(t=M),"function"==typeof t&&n===M||(t=Fn(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Qn(e,t,n)&&(t=M);var r=-1;t=Fn(t,n,3);var i=Ht(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Zt(i,l)}function ui(e,t,n,r){return null==e?[]:(r&&Qn(t,n,r)&&(n=M),Ls(t)||(t=null==t?[]:[t]),Ls(n)||(n=null==n?[]:[n]),Kt(e,t,n))}function ci(e,t){return Kr(e,qt(t))}function li(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Zo(B);var n=e;e=t,t=n}return e=ba(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function di(e,t,n){return n&&Qn(e,t,n)&&(t=M),t=e&&null==t?e.length:xa(+t||0,0),Rn(e,N,M,M,M,M,t)}function fi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Zo(B);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=M),n}}function hi(e,t,n){function r(){h&&sa(h),c&&sa(c),m=0,c=h=p=M}function i(t,n){n&&sa(n),c=h=p=M,t&&(m=ms(),l=e.apply(f,u),h||c||(u=f=M))}function o(){var e=t-(ms()-d);0>=e||e>t?i(p,c):h=fa(o,e)}function a(){i(_,h)}function s(){if(u=arguments,d=ms(),f=this,p=_&&(h||!v),g===!1)var n=v&&!h;else{c||v||(m=d);var r=g-(d-m),i=0>=r||r>g;i?(c&&(c=sa(c)),m=d,l=e.apply(f,u)):c||(c=fa(a,r))}return i&&h?h=sa(h):h||t===g||(h=fa(o,t)),n&&(i=!0,l=e.apply(f,u)),!i||h||c||(u=f=M),l}var u,c,l,d,f,h,p,m=0,g=!1,_=!0;if("function"!=typeof e)throw new Zo(B);if(t=0>t?0:+t||0,n===!0){var v=!0;_=!1}else Ni(n)&&(v=!!n.leading,g="maxWait"in n&&xa(+n.maxWait||0,t),_="trailing"in n?!!n.trailing:_);return s.cancel=r,s}function pi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Zo(B);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new pi.Cache,n}function mi(e){if("function"!=typeof e)throw new Zo(B);return function(){return!e.apply(this,arguments)}}function gi(e){return fi(2,e)}function _i(e,t){if("function"!=typeof e)throw new Zo(B);return t=xa(t===M?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=xa(n.length-t,0),o=Fo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Fo(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function vi(e){if("function"!=typeof e)throw new Zo(B);return function(t){return e.apply(this,t)}}function yi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Zo(B);return n===!1?r=!1:Ni(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hi(e,t,{leading:r,maxWait:+t,trailing:i})}function bi(e,t){return t=null==t?ko:t,Rn(t,I,M,[e],[])}function wi(e,t,n,r){return t&&"boolean"!=typeof t&&Qn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wt(e,t,an(n,r,1)):wt(e,t)}function xi(e,t,n){return"function"==typeof t?wt(e,!0,an(t,n,1)):wt(e,!0)}function Si(e,t){return e>t}function Ei(e,t){return e>=t}function Mi(e){return _(e)&&Kn(e)&&ta.call(e,"callee")&&!la.call(e,"callee")}function ji(e){return e===!0||e===!1||_(e)&&ra.call(e)==X}function Ci(e){return _(e)&&ra.call(e)==Y}function ki(e){return!!e&&1===e.nodeType&&_(e)&&!Ui(e)}function Li(e){return null==e?!0:Kn(e)&&(Ls(e)||zi(e)||Mi(e)||_(e)&&Oi(e.splice))?!e.length:!Us(e).length}function Ai(e,t,n,r){n="function"==typeof n?an(n,r,3):M;var i=n?n(e,t):M;return i===M?Pt(e,t,n):!!i}function Ti(e){return _(e)&&"string"==typeof e.message&&ra.call(e)==$}function Ii(e){return"number"==typeof e&&ba(e)}function Oi(e){return Ni(e)&&ra.call(e)==Z}function Ni(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Pi(e,t,n,r){return n="function"==typeof n?an(n,r,3):M,Rt(e,Gn(t),n)}function Di(e){return qi(e)&&e!=+e}function Ri(e){return null==e?!1:Oi(e)?oa.test(ea.call(e)):_(e)&&Ne.test(e)}function Hi(e){return null===e}function qi(e){return"number"==typeof e||_(e)&&ra.call(e)==J}function Ui(e){var t;if(!_(e)||ra.call(e)!=Q||Mi(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return At(e,function(e,t){n=t}),n===M||ta.call(e,n)}function Fi(e){return Ni(e)&&ra.call(e)==ee}function zi(e){return"string"==typeof e||_(e)&&ra.call(e)==ne}function Bi(e){return _(e)&&nr(e.length)&&!!ze[ra.call(e)]}function Gi(e){return e===M}function Wi(e,t){return t>e}function Vi(e,t){return t>=e}function Xi(e){var t=e?za(e):0;return nr(t)?t?et(e):[]:oo(e)}function Yi(e){return yt(e,eo(e))}function $i(e,t,n){var r=Pa(e);return n&&Qn(e,t,n)&&(t=M),t?_t(r,t):r}function Zi(e){return Ot(e,eo(e))}function Ki(e,t,n){var r=null==e?M:Nt(e,fr(t),t+"");return r===M?n:r}function Ji(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!er(t)){if(t=fr(t),e=1==t.length?e:Nt(e,Yt(t,0,-1)),null==e)return!1;t=jr(t),n=ta.call(e,t)}return n||nr(e.length)&&Jn(t,e.length)&&(Ls(e)||Mi(e))}function Qi(e,t,n){n&&Qn(e,t,n)&&(t=M);for(var r=-1,i=Us(e),o=i.length,a={};++r<o;){var s=i[r],u=e[s];t?ta.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function eo(e){if(null==e)return[];Ni(e)||(e=Xo(e));var t=e.length;t=t&&nr(t)&&(Ls(e)||Mi(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Fo(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Jn(s,t)||"constructor"==s&&(i||!ta.call(e,s))||o.push(s);return o}function to(e){e=dr(e);for(var t=-1,n=Us(e),r=n.length,i=Fo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function no(e,t,n){var r=null==e?M:e[t];return r===M&&(null==e||er(t,e)||(t=fr(t),e=1==t.length?e:Nt(e,Yt(t,0,-1)),r=null==e?M:e[jr(t)]),r=r===M?n:r),Oi(r)?r.call(e):r}function ro(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:fr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];Ni(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=Jn(t[i+1])?[]:{})),s=s[u]}return e}function io(e,t,n,r){var i=Ls(e)||Bi(e);if(t=Fn(t,r,4),null==n)if(i||Ni(e)){var o=e.constructor;n=i?Ls(e)?new o:[]:Pa(Oi(o)?o.prototype:M)}else n={};return(i?tt:Tt)(e,function(e,r,i){return t(n,e,r,i)}),n}function oo(e){return en(e,Us(e))}function ao(e){return en(e,eo(e))}function so(e,t,n){return t=+t||0,n===M?(n=t,t=0):n=+n||0,e>=Sa(t,n)&&e<xa(t,n)}function uo(e,t,n){n&&Qn(e,t,n)&&(t=n=M);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=ja();return Sa(e+o*(t-e+ua("1e-"+((o+"").length-1))),t)}return Vt(e,t)}function co(e){return e=s(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function lo(e){return e=s(e),e&&e.replace(De,f).replace(Le,"")}function fo(e,t,n){e=s(e),t+="";var r=e.length;return n=n===M?r:Sa(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function ho(e){return e=s(e),e&&be.test(e)?e.replace(ve,h):e}function po(e){return e=s(e),e&&ke.test(e)?e.replace(Ce,p):e||"(?:)"}function mo(e,t,n){e=s(e),t=+t;var r=e.length;if(r>=t||!ba(t))return e;var i=(t-r)/2,o=va(i),a=ga(i);return n=On("",a,n),n.slice(0,o)+e+n}function go(e,t,n){return(n?Qn(e,t,n):null==t)?t=0:t&&(t=+t),e=bo(e),Ma(e,t||(Oe.test(e)?16:10))}function _o(e,t){var n="";if(e=s(e),t=+t,1>t||!e||!ba(t))return n;do t%2&&(n+=e),t=va(t/2),e+=e;while(t);return n}function vo(e,t,n){return e=s(e),n=null==n?0:Sa(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function yo(e,n,r){var i=t.templateSettings;r&&Qn(e,n,r)&&(n=r=M),e=s(e),n=gt(_t({},r||n),i,mt);var o,a,u=gt(_t({},n.imports),i.imports,mt),c=Us(u),l=en(u,c),d=0,f=n.interpolate||Re,h="__p += '",p=Yo((n.escape||Re).source+"|"+f.source+"|"+(f===Se?Te:Re).source+"|"+(n.evaluate||Re).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(p,function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(d,u).replace(He,m),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=u+t.length,t}),h+="';\n";var _=n.variable;_||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(pe,""):h).replace(me,"$1").replace(ge,"$1;"),
h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Ks(function(){return Go(c,g+"return "+h).apply(M,l)});if(v.source=h,Ti(v))throw v;return v}function bo(e,t,n){var r=e;return(e=s(e))?(n?Qn(r,t,n):null==t)?e.slice(w(e),x(e)+1):(t+="",e.slice(u(e,t),c(e,t)+1)):e}function wo(e,t,n){var r=e;return e=s(e),e?(n?Qn(r,t,n):null==t)?e.slice(w(e)):e.slice(u(e,t+"")):e}function xo(e,t,n){var r=e;return e=s(e),e?(n?Qn(r,t,n):null==t)?e.slice(0,x(e)+1):e.slice(0,c(e,t+"")+1):e}function So(e,t,n){n&&Qn(e,t,n)&&(t=M);var r=D,i=R;if(null!=t)if(Ni(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?s(t.omission):i}else r=+t||0;if(e=s(e),r>=e.length)return e;var a=r-i.length;if(1>a)return i;var u=e.slice(0,a);if(null==o)return u+i;if(Fi(o)){if(e.slice(a).search(o)){var c,l,d=e.slice(0,a);for(o.global||(o=Yo(o.source,(Ie.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(d);)l=c.index;u=u.slice(0,null==l?a:l)}}else if(e.indexOf(o,a)!=a){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i}function Eo(e){return e=s(e),e&&ye.test(e)?e.replace(_e,S):e}function Mo(e,t,n){return n&&Qn(e,t,n)&&(t=M),e=s(e),e.match(t||qe)||[]}function jo(e,t,n){return n&&Qn(e,t,n)&&(t=M),_(e)?Lo(e):bt(e,t)}function Co(e){return function(){return e}}function ko(e){return e}function Lo(e){return qt(wt(e,!0))}function Ao(e,t){return Ut(e,wt(t,!0))}function To(e,t,n){if(null==n){var r=Ni(t),i=r?Us(t):M,o=i&&i.length?Ot(t,i):M;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Ot(t,Us(t)));var a=!0,s=-1,u=Oi(e),c=o.length;n===!1?a=!1:Ni(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=o[s],d=t[l];e[l]=d,u&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=et(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ct([this.value()],arguments))}}(d))}return e}function Io(){return nt._=ia,this}function Oo(){}function No(e){return er(e)?Bt(e):Gt(e)}function Po(e){return function(t){return Nt(e,fr(t),t+"")}}function Do(e,t,n){n&&Qn(e,t,n)&&(t=n=M),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=xa(ga((t-e)/(n||1)),0),o=Fo(i);++r<i;)o[r]=e,e+=n;return o}function Ro(e,t,n){if(e=va(e),1>e||!ba(e))return[];var r=-1,i=Fo(Sa(e,La));for(t=an(t,n,1);++r<e;)La>r?i[r]=t(r):t(r);return i}function Ho(e){var t=++na;return s(e)+t}function qo(e,t){return(+e||0)+(+t||0)}function Uo(e,t,n){return n&&Qn(e,t,n)&&(t=M),t=Fn(t,n,3),1==t.length?ht(Ls(e)?e:lr(e),t):Jt(e,t)}e=e?rt.defaults(nt.Object(),e,rt.pick(nt,Ue)):nt;var Fo=e.Array,zo=e.Date,Bo=e.Error,Go=e.Function,Wo=e.Math,Vo=e.Number,Xo=e.Object,Yo=e.RegExp,$o=e.String,Zo=e.TypeError,Ko=Fo.prototype,Jo=Xo.prototype,Qo=$o.prototype,ea=Go.prototype.toString,ta=Jo.hasOwnProperty,na=0,ra=Jo.toString,ia=nt._,oa=Yo("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=e.ArrayBuffer,sa=e.clearTimeout,ua=e.parseFloat,ca=Wo.pow,la=Jo.propertyIsEnumerable,da=Wn(e,"Set"),fa=e.setTimeout,ha=Ko.splice,pa=e.Uint8Array,ma=Wn(e,"WeakMap"),ga=Wo.ceil,_a=Wn(Xo,"create"),va=Wo.floor,ya=Wn(Fo,"isArray"),ba=e.isFinite,wa=Wn(Xo,"keys"),xa=Wo.max,Sa=Wo.min,Ea=Wn(zo,"now"),Ma=e.parseInt,ja=Wo.random,Ca=Vo.NEGATIVE_INFINITY,ka=Vo.POSITIVE_INFINITY,La=4294967295,Aa=La-1,Ta=La>>>1,Ia=9007199254740991,Oa=ma&&new ma,Na={};t.support={};t.templateSettings={escape:we,evaluate:xe,interpolate:Se,variable:"",imports:{_:t}};var Pa=function(){function e(){}return function(t){if(Ni(t)){e.prototype=t;var n=new e;e.prototype=M}return n||{}}}(),Da=fn(Tt),Ra=fn(It,!0),Ha=hn(),qa=hn(!0),Ua=Oa?function(e,t){return Oa.set(e,t),e}:ko,Fa=Oa?function(e){return Oa.get(e)}:Oo,za=Bt("length"),Ba=function(){var e=0,t=0;return function(n,r){var i=ms(),o=q-(i-t);if(t=i,o>0){if(++e>=H)return n}else e=0;return Ua(n,r)}}(),Ga=_i(function(e,t){return _(e)&&Kn(e)?St(e,Lt(t,!1,!0)):[]}),Wa=xn(),Va=xn(!0),Xa=_i(function(e){for(var t=e.length,n=t,r=Fo(d),i=Bn(),a=i==o,s=[];n--;){var u=e[n]=Kn(u=e[n])?u:[];r[n]=a&&u.length>=120?mn(n&&u):null}var c=e[0],l=-1,d=c?c.length:0,f=r[0];e:for(;++l<d;)if(u=c[l],(f?Ke(f,u):i(s,u,0))<0){for(var n=t;--n;){var h=r[n];if((h?Ke(h,u):i(e[n],u,0))<0)continue e}f&&f.push(u),s.push(u)}return s}),Ya=_i(function(e,t){t=Lt(t);var n=vt(e,t);return Wt(e,t.sort(r)),n}),$a=Dn(),Za=Dn(!0),Ka=_i(function(e){return Qt(Lt(e,!1,!0))}),Ja=_i(function(e,t){return Kn(e)?St(e,t):[]}),Qa=_i(Rr),es=_i(function(e){var t=e.length,n=t>2?e[t-2]:M,r=t>1?e[t-1]:M;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):M,r=M),e.length=t,Hr(e,n,r)}),ts=_i(function(e){return e=Lt(e),this.thru(function(t){return Qe(Ls(t)?t:[dr(t)],e)})}),ns=_i(function(e,t){return vt(e,Lt(t))}),rs=ln(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),is=wn(Da),os=wn(Ra,!0),as=Mn(tt,Da),ss=Mn(it,Ra),us=ln(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),cs=ln(function(e,t,n){e[n]=t}),ls=_i(function(e,t,n){var r=-1,i="function"==typeof t,o=er(t),a=Kn(e)?Fo(e.length):[];return Da(e,function(e){var s=i?t:o&&null!=e?e[t]:M;a[++r]=s?s.apply(e,n):Zn(e,t,n)}),a}),ds=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),fs=Tn(lt,Da),hs=Tn(dt,Ra),ps=_i(function(e,t){if(null==e)return[];var n=t[2];return n&&Qn(t[0],t[1],n)&&(t.length=1),Kt(e,Lt(t),[])}),ms=Ea||function(){return(new zo).getTime()},gs=_i(function(e,t,n){var r=C;if(n.length){var i=y(n,gs.placeholder);r|=I}return Rn(e,r,t,n,i)}),_s=_i(function(e,t){t=t.length?Lt(t):Zi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Rn(e[i],C,e)}return e}),vs=_i(function(e,t,n){var r=C|k;if(n.length){var i=y(n,vs.placeholder);r|=I}return Rn(t,r,e,n,i)}),ys=vn(A),bs=vn(T),ws=_i(function(e,t){return xt(e,1,t)}),xs=_i(function(e,t,n){return xt(e,t,n)}),Ss=En(),Es=En(!0),Ms=_i(function(e,t){if(t=Lt(t),"function"!=typeof e||!ot(t,a))throw new Zo(B);var n=t.length;return _i(function(r){for(var i=Sa(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),js=An(I),Cs=An(O),ks=_i(function(e,t){return Rn(e,P,M,M,M,Lt(t))}),Ls=ya||function(e){return _(e)&&nr(e.length)&&ra.call(e)==V},As=dn(Ft),Ts=dn(function(e,t,n){return n?gt(e,t,n):_t(e,t)}),Is=yn(Ts,pt),Os=yn(As,or),Ns=Sn(Tt),Ps=Sn(It),Ds=jn(Ha),Rs=jn(qa),Hs=Cn(Tt),qs=Cn(It),Us=wa?function(e){var t=null==e?M:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Kn(e)?cr(e):Ni(e)?wa(e):[]}:cr,Fs=kn(!0),zs=kn(),Bs=_i(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ut(Lt(t),$o);return ar(e,St(eo(e),t))}var n=an(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),Gs=_i(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,an(t[0],t[1],3)):ar(e,Lt(t))}),Ws=gn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Vs=gn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Xs=Ln(),Ys=Ln(!0),$s=gn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Zs=gn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ks=_i(function(e,t){try{return e.apply(M,t)}catch(n){return Ti(n)?n:new Bo(n)}}),Js=_i(function(e,t){return function(n){return Zn(n,e,t)}}),Qs=_i(function(e,t){return function(n){return Zn(e,n,t)}}),eu=Pn("ceil"),tu=Pn("floor"),nu=bn(Si,Ca),ru=bn(Wi,ka),iu=Pn("round");return t.prototype=n.prototype,v.prototype=Pa(n.prototype),v.prototype.constructor=v,K.prototype=Pa(n.prototype),K.prototype.constructor=K,We.prototype["delete"]=Ve,We.prototype.get=Xe,We.prototype.has=Ye,We.prototype.set=$e,Ze.prototype.push=Je,pi.Cache=We,t.after=li,t.ary=di,t.assign=Ts,t.at=ns,t.before=fi,t.bind=gs,t.bindAll=_s,t.bindKey=vs,t.callback=jo,t.chain=Fr,t.chunk=pr,t.compact=mr,t.constant=Co,t.countBy=rs,t.create=$i,t.curry=ys,t.curryRight=bs,t.debounce=hi,t.defaults=Is,t.defaultsDeep=Os,t.defer=ws,t.delay=xs,t.difference=Ga,t.drop=gr,t.dropRight=_r,t.dropRightWhile=vr,t.dropWhile=yr,t.fill=br,t.filter=Kr,t.flatten=xr,t.flattenDeep=Sr,t.flow=Ss,t.flowRight=Es,t.forEach=as,t.forEachRight=ss,t.forIn=Ds,t.forInRight=Rs,t.forOwn=Hs,t.forOwnRight=qs,t.functions=Zi,t.groupBy=us,t.indexBy=cs,t.initial=Mr,t.intersection=Xa,t.invert=Qi,t.invoke=ls,t.keys=Us,t.keysIn=eo,t.map=ei,t.mapKeys=Fs,t.mapValues=zs,t.matches=Lo,t.matchesProperty=Ao,t.memoize=pi,t.merge=As,t.method=Js,t.methodOf=Qs,t.mixin=To,t.modArgs=Ms,t.negate=mi,t.omit=Bs,t.once=gi,t.pairs=to,t.partial=js,t.partialRight=Cs,t.partition=ds,t.pick=Gs,t.pluck=ti,t.property=No,t.propertyOf=Po,t.pull=kr,t.pullAt=Ya,t.range=Do,t.rearg=ks,t.reject=ni,t.remove=Lr,t.rest=Ar,t.restParam=_i,t.set=ro,t.shuffle=ii,t.slice=Tr,t.sortBy=si,t.sortByAll=ps,t.sortByOrder=ui,t.spread=vi,t.take=Ir,t.takeRight=Or,t.takeRightWhile=Nr,t.takeWhile=Pr,t.tap=zr,t.throttle=yi,t.thru=Br,t.times=Ro,t.toArray=Xi,t.toPlainObject=Yi,t.transform=io,t.union=Ka,t.uniq=Dr,t.unzip=Rr,t.unzipWith=Hr,t.values=oo,t.valuesIn=ao,t.where=ci,t.without=Ja,t.wrap=bi,t.xor=qr,t.zip=Qa,t.zipObject=Ur,t.zipWith=es,t.backflow=Es,t.collect=ei,t.compose=Es,t.each=as,t.eachRight=ss,t.extend=Ts,t.iteratee=jo,t.methods=Zi,t.object=Ur,t.select=Kr,t.tail=Ar,t.unique=Dr,To(t,t),t.add=qo,t.attempt=Ks,t.camelCase=Ws,t.capitalize=co,t.ceil=eu,t.clone=wi,t.cloneDeep=xi,t.deburr=lo,t.endsWith=fo,t.escape=ho,t.escapeRegExp=po,t.every=Zr,t.find=is,t.findIndex=Wa,t.findKey=Ns,t.findLast=os,t.findLastIndex=Va,t.findLastKey=Ps,t.findWhere=Jr,t.first=wr,t.floor=tu,t.get=Ki,t.gt=Si,t.gte=Ei,t.has=Ji,t.identity=ko,t.includes=Qr,t.indexOf=Er,t.inRange=so,t.isArguments=Mi,t.isArray=Ls,t.isBoolean=ji,t.isDate=Ci,t.isElement=ki,t.isEmpty=Li,t.isEqual=Ai,t.isError=Ti,t.isFinite=Ii,t.isFunction=Oi,t.isMatch=Pi,t.isNaN=Di,t.isNative=Ri,t.isNull=Hi,t.isNumber=qi,t.isObject=Ni,t.isPlainObject=Ui,t.isRegExp=Fi,t.isString=zi,t.isTypedArray=Bi,t.isUndefined=Gi,t.kebabCase=Vs,t.last=jr,t.lastIndexOf=Cr,t.lt=Wi,t.lte=Vi,t.max=nu,t.min=ru,t.noConflict=Io,t.noop=Oo,t.now=ms,t.pad=mo,t.padLeft=Xs,t.padRight=Ys,t.parseInt=go,t.random=uo,t.reduce=fs,t.reduceRight=hs,t.repeat=_o,t.result=no,t.round=iu,t.runInContext=E,t.size=oi,t.snakeCase=$s,t.some=ai,t.sortedIndex=$a,t.sortedLastIndex=Za,t.startCase=Zs,t.startsWith=vo,t.sum=Uo,t.template=yo,t.trim=bo,t.trimLeft=wo,t.trimRight=xo,t.trunc=So,t.unescape=Eo,t.uniqueId=Ho,t.words=Mo,t.all=Zr,t.any=ai,t.contains=Qr,t.eq=Ai,t.detect=is,t.foldl=fs,t.foldr=hs,t.head=wr,t.include=Qr,t.inject=fs,To(t,function(){var e={};return Tt(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ri,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},t.VERSION=j,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){K.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new K(this);n=null==n?1:xa(va(n)||0,0);var i=this.clone();return r?i.__takeCount__=Sa(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},K.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=z;K.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Fn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");K.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");K.prototype[e]=function(){return this.__filtered__?new K(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?qt:No;K.prototype[e]=function(e){return this[n](r(e))}}),K.prototype.compact=function(){return this.filter(ko)},K.prototype.reject=function(e,t){return e=Fn(e,t,1),this.filter(function(t){return!e(t)})},K.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new K(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==M&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},K.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},K.prototype.toArray=function(){return this.take(ka)},Tt(K.prototype,function(e,n){var r=/^(?:filter|map|reject)|While$/.test(n),i=/^(?:first|last)$/.test(n),o=t[i?"take"+("last"==n?"Right":""):n];o&&(t.prototype[n]=function(){var t=i?[1]:arguments,n=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,u=a instanceof K,c=t[0],l=u||Ls(a);l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=function(e){return i&&n?o(e,1)[0]:o.apply(M,ct([e],t))},f={func:Br,args:[d],thisArg:M},h=u&&!s;if(i&&!n)return h?(a=a.clone(),a.__actions__.push(f),e.call(a)):o.call(M,this.value())[0];if(!i&&l){a=h?a:new K(this);var p=e.apply(a,t);return p.__actions__.push(f),new v(p,n)}return this.thru(d)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Qo:Ko)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Tt(K.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=Na[i]||(Na[i]=[]);o.push({name:n,func:r})}}),Na[In(M,k).name]=[{name:"wrapper",func:M}],K.prototype.clone=te,K.prototype.reverse=re,K.prototype.value=Ge,t.prototype.chain=Gr,t.prototype.commit=Wr,t.prototype.concat=ts,t.prototype.plant=Vr,t.prototype.reverse=Xr,t.prototype.toString=Yr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=$r,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var M,j="3.10.1",C=1,k=2,L=4,A=8,T=16,I=32,O=64,N=128,P=256,D=30,R="...",H=150,q=16,U=200,F=1,z=2,B="Expected a function",G="__lodash_placeholder__",W="[object Arguments]",V="[object Array]",X="[object Boolean]",Y="[object Date]",$="[object Error]",Z="[object Function]",K="[object Map]",J="[object Number]",Q="[object Object]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object WeakMap]",ie="[object ArrayBuffer]",oe="[object Float32Array]",ae="[object Float64Array]",se="[object Int8Array]",ue="[object Int16Array]",ce="[object Int32Array]",le="[object Uint8Array]",de="[object Uint8ClampedArray]",fe="[object Uint16Array]",he="[object Uint32Array]",pe=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_e=/&(?:amp|lt|gt|quot|#39|#96);/g,ve=/[&<>"'`]/g,ye=RegExp(_e.source),be=RegExp(ve.source),we=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Me=/^\w*$/,je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ce=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,ke=RegExp(Ce.source),Le=/[\u0300-\u036f\ufe20-\ufe23]/g,Ae=/\\(\\)?/g,Te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ie=/\w*$/,Oe=/^0[xX]/,Ne=/^\[object .+?Constructor\]$/,Pe=/^\d+$/,De=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Re=/($^)/,He=/['\n\r\u2028\u2029\\]/g,qe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ue=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Fe=-1,ze={};ze[oe]=ze[ae]=ze[se]=ze[ue]=ze[ce]=ze[le]=ze[de]=ze[fe]=ze[he]=!0,ze[W]=ze[V]=ze[ie]=ze[X]=ze[Y]=ze[$]=ze[Z]=ze[K]=ze[J]=ze[Q]=ze[ee]=ze[te]=ze[ne]=ze[re]=!1;var Be={};Be[W]=Be[V]=Be[ie]=Be[X]=Be[Y]=Be[oe]=Be[ae]=Be[se]=Be[ue]=Be[ce]=Be[J]=Be[Q]=Be[ee]=Be[ne]=Be[le]=Be[de]=Be[fe]=Be[he]=!0,Be[$]=Be[Z]=Be[K]=Be[te]=Be[re]=!1;var Ge={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},We={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ve={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Xe={"function":!0,object:!0},Ye={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},$e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=Xe[typeof n]&&n&&!n.nodeType&&n,Ke=Xe[typeof t]&&t&&!t.nodeType&&t,Je=Ze&&Ke&&"object"==typeof e&&e&&e.Object&&e,Qe=Xe[typeof self]&&self&&self.Object&&self,et=Xe[typeof window]&&window&&window.Object&&window,tt=Ke&&Ke.exports===Ze&&Ze,nt=Je||et!==(this&&this.window)&&et||Qe||this,rt=E();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nt._=rt,define(function(){return rt})):Ze&&Ke?tt?(Ke.exports=rt)._=rt:Ze._=rt:nt._=rt}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],304:[function(e,t,n){function r(){l=!1,s.length?c=s.concat(c):d=-1,c.length&&i()}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u=t.exports={},c=[],l=!1,d=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],305:[function(e,t,n){!function(e,r){"use strict";"function"==typeof define&&define.amd?define(r):"object"==typeof n&&"object"==typeof t?t.exports=r():e.smoothScroll=r()}(this,function(){"use strict";if("object"==typeof window&&void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var e=function(e,t){return t===window?"HTML"===e.nodeName?-window.pageYOffset:e.getBoundingClientRect().top+window.pageYOffset:e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop},t=function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},n=function(e,n,r,i){return r>i?n:e+(n-e)*t(r/i)},r=function(t,r,i,o){r=r||500,o=o||window;var a=o===window?window.pageYOffset:o.scrollTop;if("number"==typeof t)var s=t;else var s=e(t,o);var u=o===window?document.body:o;s=Math.min(s,u.scrollHeight-u.offsetHeight);var c=Date.now(),l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)},d=function(){var e=Date.now()-c;o!==window?o.scrollTop=n(a,s,e,r):window.scroll(0,n(a,s,e,r)),e>r?"function"==typeof i&&i(t):l(d)};d()};return r.attachToAllLinks=function(){var e=function(e){e.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash),r(document.getElementById(this.hash.substring(1)),500,function(e){location.replace("#"+e.id)})};document.addEventListener("DOMContentLoaded",function(){for(var t,n=document.querySelectorAll('a[href^="#"]:not([href="#"])'),r=n.length;t=n[--r];)t.addEventListener("click",e,!1)})},r}})},{}],306:[function(e,t,n){t.exports=e("./textures.js")},{"./textures.js":307}],307:[function(e,t,n){(function(){var e,r,i=[].slice;e=function(){return(Math.random().toString(36)+"00000000000000000").replace(/[^a-z]+/g,"").slice(0,5)},(r=function(e){return"object"==typeof n?t.exports=e():"function"==typeof define&&define.amd?define([],e):this.textures=e()})(function(){return{circles:function(){var t,n,r,i,o,a,s,u,c;return s=20,t="",a=2,r=!1,i="#343434",u="#343434",c=0,o=e(),n=function(){var e,n,l,d,f,h;if(n=this.append("defs").append("pattern").attr({id:o,patternUnits:"userSpaceOnUse",width:s,height:s}),t&&n.append("rect").attr({width:s,height:s,fill:t}),n.append("circle").attr({cx:s/2,cy:s/2,r:a,fill:i,stroke:u,"stroke-width":c}),r){for(f=[[0,0],[0,s],[s,0],[s,s]],h=[],l=0,d=f.length;d>l;l++)e=f[l],h.push(n.append("circle").attr({cx:e[0],cy:e[1],r:a,fill:i,stroke:u,"stroke-width":c}));return h}},n.heavier=function(e){return a=arguments.length&&e?2*a*e:2*a,n},n.lighter=function(e){return arguments.length?a=e?a/(2*e):a/2:a/=2,n},n.thinner=function(e){return s=arguments.length&&e?2*s*e:2*s,n},n.thicker=function(e){return arguments.length?s=e?s/(2*e):s/2:s/=2,n},n.background=function(e){return t=e,n},n.size=function(e){return s=e,n},n.complement=function(){return r=!0,n},n.radius=function(e){return a=e,n},n.fill=function(e){return i=e,n},n.stroke=function(e){return u=e,n},n.strokeWidth=function(e){return c=e,n},n.id=function(e){return arguments.length?(o=e,n):o},n.url=function(){return"url(#"+o+")"},n},lines:function(){var t,n,r,o,a,s,u,c,l;return u=20,l=2,c="#343434",n=e(),t="",o=["diagonal"],s="auto",a=function(e){switch(e){case"0/8":return function(e){return"M "+e/2+", 0 l 0, "+e}(u);case"vertical":return function(e){return"M "+e/2+", 0 l 0, "+e}(u);case"1/8":return function(e){return"M "+e/4+",0 l "+e/2+","+e+" M "+-e/4+",0 l "+e/2+","+e+"\nM "+3*e/4+",0 l "+e/2+","+e}(u);case"2/8":return function(e){return"M 0,"+e+" l "+e+","+-e+" M "+-e/4+","+e/4+" l "+e/2+","+-e/2+"\nM "+.75*e+","+5/4*e+" l "+e/2+","+-e/2}(u);case"diagonal":return function(e){return"M 0,"+e+" l "+e+","+-e+" M "+-e/4+","+e/4+" l "+e/2+","+-e/2+"\nM "+.75*e+","+5/4*e+" l "+e/2+","+-e/2}(u);case"3/8":return function(e){return"M 0,"+.75*e+" l "+e+","+-e/2+" M 0,"+e/4+" l "+e+","+-e/2+"\nM 0,"+5*e/4+" l "+e+","+-e/2}(u);case"4/8":return function(e){return"M 0,"+e/2+" l "+e+",0"}(u);case"horizontal":return function(e){return"M 0,"+e/2+" l "+e+",0"}(u);case"5/8":return function(e){return"M 0,"+-e/4+" l "+e+","+e/2+"M 0,"+e/4+" l "+e+","+e/2+"\nM 0,"+3*e/4+" l "+e+","+e/2}(u);case"6/8":return function(e){return"M 0,0 l "+e+","+e+" M "+-e/4+","+.75*e+" l "+e/2+","+e/2+"\nM "+3*e/4+","+-e/4+" l "+e/2+","+e/2}(u);case"7/8":return function(e){return"M "+-e/4+",0 l "+e/2+","+e+" M "+e/4+",0 l "+e/2+","+e+"\nM "+3*e/4+",0 l "+e/2+","+e}(u);default:return function(e){return"M "+e/2+", 0 l 0, "+e}(u)}},r=function(){var e,r,i,d,f;for(e=this.append("defs").append("pattern").attr({id:n,patternUnits:"userSpaceOnUse",width:u,height:u}),t&&e.append("rect").attr({width:u,height:u,fill:t}),f=[],r=0,i=o.length;i>r;r++)d=o[r],f.push(e.append("path").attr({d:a(d),"stroke-width":l,"shape-rendering":s,stroke:c,"stroke-linecap":"square"}));return f},r.background=function(e){return t=e,r},r.shapeRendering=function(e){return s=e,r},r.heavier=function(e){return l=arguments.length&&e?2*l*e:2*l,r},r.lighter=function(e){return arguments.length?l=e?l/(2*e):l/2:l/=2,r},r.thinner=function(e){return u=arguments.length&&e?2*u*e:2*u,r},r.thicker=function(e){return arguments.length?u=e?u/(2*e):u/2:u/=2,r},r.orientation=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],o=e,r},r.size=function(e){return u=e,r},r.stroke=function(e){return c=e,r},r.strokeWidth=function(e){return l=e,r},r.id=function(e){return arguments.length?(n=e,r):n},r.url=function(){return"url(#"+n+")"},r},paths:function(){var t,n,r,i,o,a,s,u,c,l,d,f;return u=20,i=1,f=1,l=2,c="#343434",t="",n="",s="auto",r="transparent",o=void 0,d=function(e){switch(e){case"squares":return function(e){return"M "+e/4+" "+e/4+" l "+e/2+" 0 l 0 "+e/2+" l "+-e/2+" 0 Z"}(u);case"nylon":return function(e){return"M 0 "+e/4+" l "+e/4+" 0 l 0 "+-e/4+" M "+3*e/4+" "+e+" l 0 "+-e/4+"\nl "+e/4+" 0 M "+e/4+" "+e/2+" l 0 "+e/4+" l "+e/4+" 0 M "+e/2+" "+e/4+"\nl "+e/4+" 0 l 0 "+e/4}(u);case"waves":return function(e){return"M 0 "+e/2+" c "+e/8+" "+-e/4+" , "+3*e/8+" "+-e/4+" , "+e/2+" 0\nc "+e/8+" "+e/4+" , "+3*e/8+" "+e/4+" , "+e/2+" 0 M "+-e/2+" "+e/2+"\nc "+e/8+" "+e/4+" , "+3*e/8+" "+e/4+" , "+e/2+" 0 M "+e+" "+e/2+"\nc "+e/8+" "+-e/4+" , "+3*e/8+" "+-e/4+" , "+e/2+" 0"}(u);case"woven":return function(e){return"M "+e/4+","+e/4+"l"+e/2+","+e/2+"M"+3*e/4+","+e/4+"l"+e/2+","+-e/2+"\nM"+e/4+","+3*e/4+"l"+-e/2+","+e/2+"M"+3*e/4+","+5*e/4+"l"+e/2+","+-e/2+"\nM"+-e/4+","+e/4+"l"+e/2+","+-e/2}(u);case"crosses":return function(e){return"M "+e/4+","+e/4+"l"+e/2+","+e/2+"M"+e/4+","+3*e/4+"l"+e/2+","+-e/2}(u);case"caps":return function(e){return"M "+e/4+","+3*e/4+"l"+e/4+","+-e/2+"l"+e/4+","+e/2}(u);case"hexagons":return function(e){return f=3,i=Math.sqrt(3),"M "+e+",0 l "+e+",0 l "+e/2+","+e*Math.sqrt(3)/2+"\nl "+-e/2+","+e*Math.sqrt(3)/2+" l "+-e+",0\nl "+-e/2+","+-e*Math.sqrt(3)/2+" Z M 0,"+e*Math.sqrt(3)/2+"\nl "+e/2+",0 M "+3*e+","+e*Math.sqrt(3)/2+" l "+-e/2+",0"}(u);default:return e(u)}},a=function(){var a,h;return h=d(n),o=e(),a=this.append("defs").append("pattern").attr({id:o,patternUnits:"userSpaceOnUse",width:u*f,height:u*i}),t&&a.append("rect").attr({width:u*f,height:u*i,fill:t}),a.append("path").attr({d:h,fill:r,"stroke-width":l,"shape-rendering":s,stroke:c,"stroke-linecap":"square"})},a.background=function(e){return t=e,a},a.shapeRendering=function(e){return s=e,a},a.heavier=function(e){return l=arguments.length&&e?2*l*e:2*l,a},a.lighter=function(e){return arguments.length?l=e?l/(2*e):l/2:l/=2,a},a.thinner=function(e){return u=arguments.length&&e?2*u*e:2*u,a},a.thicker=function(e){return arguments.length?u=e?u/(2*e):u/2:u/=2,a},a.d=function(e){return n=e,a},a.size=function(e){return u=e,a},a.stroke=function(e){return c=e,a},a.strokeWidth=function(e){return l=e,a},a.id=function(e){return arguments.length?(o=e,a):o},a.url=function(){return"url(#"+o+")"},a}}})}).call(this)},{}],308:[function(e,t,n){!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var e=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();window.performance.now=function(){return Date.now()-e}}}();var r=r||function(){var e=[];return{getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},update:function(t){if(0===e.length)return!1;var n=0;for(t=void 0!==t?t:window.performance.now();n<e.length;)e[n].update(t)?n++:e.splice(n,1);return!0}}}();r.Tween=function(e){var t=e,n={},i={},o={},a=1e3,s=0,u=!1,c=!1,l=!1,d=0,f=null,h=r.Easing.Linear.None,p=r.Interpolation.Linear,m=[],g=null,_=!1,v=null,y=null,b=null;for(var w in e)n[w]=parseFloat(e[w],10);this.to=function(e,t){return void 0!==t&&(a=t),i=e,this},this.start=function(e){r.add(this),c=!0,_=!1,f=void 0!==e?e:window.performance.now(),f+=d;for(var a in i){if(i[a]instanceof Array){if(0===i[a].length)continue;i[a]=[t[a]].concat(i[a])}void 0!==n[a]&&(n[a]=t[a],n[a]instanceof Array==!1&&(n[a]*=1),o[a]=n[a]||0)}return this},this.stop=function(){return c?(r.remove(this),c=!1,null!==b&&b.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=m.length;t>e;e++)m[e].stop()},this.delay=function(e){return d=e,this},this.repeat=function(e){return s=e,this},this.yoyo=function(e){return u=e,this},this.easing=function(e){return h=e,this},this.interpolation=function(e){return p=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return g=e,this},this.onUpdate=function(e){return v=e,this},this.onComplete=function(e){return y=e,this},this.onStop=function(e){return b=e,this},this.update=function(e){var r,c,b;if(f>e)return!0;_===!1&&(null!==g&&g.call(t),_=!0),c=(e-f)/a,c=c>1?1:c,b=h(c);for(r in i)if(void 0!==n[r]){var w=n[r]||0,x=i[r];x instanceof Array?t[r]=p(x,b):("string"==typeof x&&(x=x.startsWith("+")||x.startsWith("-")?w+parseFloat(x,10):parseFloat(x,10)),"number"==typeof x&&(t[r]=w+(x-w)*b))}if(null!==v&&v.call(t,b),1===c){if(s>0){isFinite(s)&&s--;for(r in o){if("string"==typeof i[r]&&(o[r]=o[r]+parseFloat(i[r],10)),u){var S=o[r];o[r]=i[r],i[r]=S}n[r]=o[r]}return u&&(l=!l),f=e+d,!0}null!==y&&y.call(t);for(var E=0,M=m.length;M>E;E++)m[E].start(f+a);return!1}return!0}},r.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)))},Out:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},InOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-r.Easing.Bounce.Out(1-e)},Out:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return.5>e?.5*r.Easing.Bounce.In(2*e):.5*r.Easing.Bounce.Out(2*e-1)+.5}}},r.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),a=r.Interpolation.Utils.Linear;return 0>t?a(e[0],e[1],i):t>1?a(e[n],e[n-1],n-i):a(e[o],e[o+1>n?n:o+1],i-o)},Bezier:function(e,t){for(var n=0,i=e.length-1,o=Math.pow,a=r.Interpolation.Utils.Bernstein,s=0;i>=s;s++)n+=o(1-t,i-s)*o(t,s)*e[s]*a(i,s);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),a=r.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(0>t&&(o=Math.floor(i=n*(1+t))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o)):0>t?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[o?o-1:0],e[o],e[o+1>n?n:o+1],e[o+2>n?n:o+2],i-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=r.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;
return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i,u=i*s;return(2*t-2*n+o+a)*u+(-3*t+3*n-2*o-a)*s+o*i+t}}},function(e){"function"==typeof define&&define.amd?define([],function(){return r}):"undefined"!=typeof t&&"object"==typeof n?t.exports=r:void 0!==e&&(e.TWEEN=r)}(this)},{}],309:[function(e,t,n){t.exports={continents:{centerX:.48,centerY:.5,"centerX-small":.5,"centerY-small":.35,panX:{duration:{"in":.75,out:.75}},panY:{duration:{"in":1.5,out:.75}},spread:{delay:{"in":.5,out:.25},duration:{"in":1.5,out:.75}},introSpread:{duration:{"in":1.5,out:2.5},delay:{"in":0,out:1}}},states:{graph:{width:"60%","width-small":"100%",margins:{left:20,right:20}},backgrounded:{actions:{scale:.6,top:"-17%","scale-small":.66,"top-small":"-17%"},scale:.4,top:"-10%",duration:{"in":1.5,out:1.5}},containers:{bottom:"10%"},highlighted:{"in":0,out:.2}},actions:{backgrounded:{scale:.7,"scale-small":.5},margins:{top:25,bottom:10},add:{time:1e3,delay:250},update:{time:750,delay:0},remove:{time:600,delay:0}},triggers:{bottom:"20%","bottom-small":"53%","bottom-height-small":"15%"},emotions:{panX:{duration:.75,delay:.25},scale:{"in":{delay:.65}}},ui:{header:{height:55,"height-small":44,"mobile-nav":{width:28,height:18,margin:1}},"mobile-footer":{height:44},"mobile-caption":{height:"15rem","height-tall":"22rem"},scrollbar:{introOpenDelay:1.5,closeDelay:.2},overlays:{duration:{"in":1,out:.5}},modal:{pages:{duration:.5}},intro:{delay:1},labels:{duration:{"in":1,out:.5}},popups:{duration:{open:.5,close:.5,"border-open":.25}}}}},{}],310:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n["default"]=function(){function e(e){Pe(),(0,T["default"])().loadStrings().then(function(){t(),n(),r(),x(),u(),b(),l(),f(),k(),L(),A(),Ze.push(document.querySelector("#header")),Ze.push(document.querySelector("#scrollbar")),Ze.push(document.querySelector("#callout")),Ze.push(document.querySelector("#more-info")),Ze.push(document.querySelector("#lower-left-logo")),Ze.push(document.querySelector("#lang-selector")),Ke.push(document.querySelector("#mobile-header")),Ke.push(document.querySelector("#mobile-caption")),document.querySelector("body").style.removeProperty("visibility"),c["default"].addListener(c["default"].EVENTS.NAVIGATE,Le),c["default"].addListener(c["default"].EVENTS.CHANGE_EMOTION_STATE,ke),c["default"].addListener(c["default"].EVENTS.CHANGE_CALLOUT,je),c["default"].addListener(c["default"].EVENTS.POPUP_CHANGE,Me),c["default"].addListener(c["default"].EVENTS.OPEN_MORE_INFO_MENU,$),window.addEventListener("hashchange",Oe),W(),Oe(),W=s["default"].debounce(W,250),window.addEventListener("resize",W)})}function t(){var e=document.querySelector("#main"),t=void 0;s["default"].values(c["default"].SECTIONS).forEach(function(n){t=document.createElement("div"),t.id=n,e.appendChild(t),ze[n]=t}),e.insertBefore(ze[c["default"].SECTIONS.TRIGGERS],ze[c["default"].SECTIONS.ACTIONS])}function n(){Be.continents=d["default"],Be.states=h["default"],Be.actions=m["default"],Be.triggers=_["default"],Be.moods=y["default"],Be.calm=w["default"],Be.more=S["default"]}function r(){var e=document.querySelector("#header .dropdown"),t=e.querySelector("ul");Object.keys(c["default"].EMOTIONS).forEach(function(e){var n=c["default"].EMOTIONS[e].toLowerCase(),r=document.createElement("li");r.setAttribute("role","menuitem"),r.setAttribute("data-emotion",n),r.innerHTML=(0,T["default"])().getStr("derived.emotions."+n).toUpperCase(),t.appendChild(r)});var n=document.querySelector("#header .header-content");n.querySelector("a").textContent=(0,T["default"])().getStr("emotionsData.metadata.site.header").toUpperCase(),e.querySelector(".dropdown-toggle").addEventListener("click",Q);var r=document.querySelector("#mobile-header");if(r.style.removeProperty("display"),r.classList.add("visible"),$e){var i=document.createElement("div");i.classList.add("nav-button"),r.appendChild(i),i.addEventListener("click",te);var o=document.createElement("div");o.classList.add("mobile-title"),o.appendChild(n),r.appendChild(o),a()}}function a(){var e=document.querySelector("#mobile-header .dropdown"),t=e.querySelector("ul");["intro"].concat(s["default"].values(c["default"].SECTIONS).filter(function(e){return e!==c["default"].SECTIONS.MORE})).concat(["about","emotrak"]).forEach(function(e,n,r){var i=void 0,o=document.createElement("li");"about"===e||"emotrak"===e?(i=(0,T["default"])().getStr("emotionsData."+e+".sectionName")||e,o.setAttribute("data-page",e)):(i=(0,T["default"])().getStr("emotionsData.metadata."+e+".sectionName")||e,o.setAttribute("data-section",e)),o.setAttribute("role","menuitem"),o.innerHTML="<h4>"+i+"</h4>",t.appendChild(o),n===r.length-1&&g()&&(o=document.createElement("li"),o.setAttribute("role","menuitem"),o.classList.add("divider"),t.appendChild(o))}),g()&&v(t),document.querySelector("#mobile-header").appendChild(e),e.querySelector(".dropdown-toggle").addEventListener("click",ne)}function u(){function e(e){var t=document.querySelector("#"+e+"-arrow"),n=document.createElement("img"),r=$e?"-white":"",i="down"==e?fe:"left"==e?he:pe;$e?t.addEventListener("click",i):n.addEventListener("click",i),n.src="./img/"+e+"Arrow"+r+".png",t.classList.add("navArrow"),n.classList.add(e),n.classList.add(e+"Arrow"),t.appendChild(n);var o=document.createElement("h4");o.classList.add("navLabel"),"left"===e?t.appendChild(o):t.insertBefore(o,n),"down"===e&&(o.style.display="none")}e("down"),e("left"),e("right"),we()}function l(){var e=document.querySelector("#lower-left-logo");e.addEventListener("click",function(){window.open("http://www.paulekman.com/","_blank")});var t=document.createElement("img");t.setAttribute("src","./img/peg.png"),e.appendChild(t)}function f(){if(g()){document.querySelector("#lang-selector").classList.add("enabled");var e=document.querySelector("#lang-selector .dropup"),t=e.querySelector(".dup-title"),n=e.querySelector("ul"),r=p().find(function(e){return e.lang===De()});t.innerHTML="<h4>"+r.name+"</h4>",v(n),e.querySelector(".dropdown-toggle").addEventListener("click",K)}}function p(){return O["default"].stringsFiles.filter(function(e){return e.enabled})}function g(){return p().length>1}function v(e){p().forEach(function(t){var n=document.createElement("li");n.setAttribute("role","menuitem"),n.setAttribute("data-lang",t.lang),n.innerHTML="<h4>"+t.name+"</h4>",e.appendChild(n)})}function b(){var e=document.querySelector("#more-info .dropup"),t=e.querySelector(".dup-title"),n=e.querySelector("ul"),r=(0,T["default"])().getStr("emotionsData.metadata.more.sectionName")||c["default"].MORE_INFO.title;t.innerHTML="<h4>"+r+"</h4>",c["default"].MORE_INFO.items.forEach(function(e){var t=(0,T["default"])().getStr("emotionsData."+e.page+".sectionName",!0)||e.label,r=document.createElement("li");r.setAttribute("role","menuitem"),r.setAttribute("data-page",e.page),r.innerHTML="<h4>"+t+"</h4>",n.appendChild(r)}),e.querySelector(".dropdown-toggle").addEventListener("click",$)}function x(){E(),j()}function E(){var e=document.querySelector("#scrollbar"),t=document.createElement("div"),n=document.createElement("div");n.classList.add("mousemoveTriggerScrollbar"),e.appendChild(n),t.classList.add("segment-container"),e.appendChild(t),s["default"].values(c["default"].SECTIONS).forEach(function(e){if(e!==c["default"].SECTIONS.MORE){var n=(0,T["default"])().getStr("emotionsData.metadata."+e+".sectionName")||e,r=document.createElement("div");r.setAttribute("data-section",e);var i=document.createElement("h4");i.innerHTML=n.toUpperCase(),r.appendChild(i),t.appendChild(r),Je[e]=r}}),n.addEventListener("mousemove",ce),e.addEventListener("mouseenter",se),e.addEventListener("mouseleave",ue),t.addEventListener("mouseover",le),t.addEventListener("mouseout",de),t.addEventListener("click",_e),et=e.getBoundingClientRect(),et={top:et.top,bottom:et.bottom,left:et.left,width:et.width-(et.right-t.getBoundingClientRect().left),height:et.height},tt=parseInt(window.getComputedStyle(t).left.replace("px",""))}function j(){document.addEventListener("keydown",V)}function k(){var e=document.querySelector("#main");Ge=document.createElement("div"),Ge.id="callout";var t=document.createElement("h3");t.classList.add("headline"),Ge.appendChild(t);var n=document.createElement("p");n.classList.add("body"),Ge.appendChild(n),e.appendChild(Ge)}function L(){var e=document.querySelector("#mobile-caption");e.style.removeProperty("display");var t=document.createElement("h3");t.classList.add("headline"),e.appendChild(t);var n=document.createElement("p");n.classList.add("body"),e.appendChild(n);var r=document.createElement("div");r.classList.add("mobile-nav-arrow");var i=document.createElement("img");i.src="./img/leftArrow.png",i.classList.add("left","leftArrow"),r.appendChild(i),e.appendChild(r),i.addEventListener("click",me),r=document.createElement("div"),r.classList.add("mobile-nav-arrow"),i=document.createElement("img"),i.src="./img/rightArrow.png",i.classList.add("right","rightArrow"),r.appendChild(i),e.appendChild(r),i.addEventListener("click",ge)}function A(){M["default"].init(document.querySelector("#modal"),be),document.querySelector("#infoButton")&&document.querySelector("#infoButton").addEventListener("click",function(e){e.stopImmediatePropagation(),be(!0)})}function I(){localStorage.modalSeen||localStorage.setItem("modalSeen",!0)}function N(e,t,n){var r=e.setEmotion(Ve,t,Xe,n);xe(),r.then(function(){ot=!1,xe()})}function D(e){if(!$e){var t=function(){document.querySelector(".downArrow").classList.remove("fadeOutIn"),document.querySelector(".leftArrow").classList.remove("fadeOutIn"),document.querySelector(".rightArrow").classList.remove("fadeOutIn")};document.querySelector(".downArrow").classList.add("fadeOutIn"),document.querySelector(".leftArrow").classList.add("fadeOutIn"),document.querySelector(".rightArrow").classList.add("fadeOutIn"),setTimeout(t,4e3)}we(e)}function R(e,t,n){var r=Be[e],i=We,o=void 0;for(var a in Be)if(Be[a]===i){o=ze[a];break}r.isInited||(r.backgroundSections&&r.backgroundSections.forEach(function(e){e.isInited||U(e)}),U(r)),"more"===e&&r.setPreviousSection&&r.setPreviousSection(Ye.section);var s=r.backgroundSections||[];if(i)i===r?(s.forEach(function(e){e.setEmotion(Ve,t)}),N(r,t,n)):!function(){Me(),D(e);var a=!1,u=s.map(function(n){for(var r in Be)~s.indexOf(Be[r])&&ze[r].removeAttribute("style");if(i===n)return a=!0,n.setBackgrounded(!0,{sectionName:e});var o=n.open({sectionName:e,inBackground:!0});return n.setEmotion(Ve,t),o}),c=i.backgroundSections||[];a||(c=c.filter(function(e){return e!==r&&!~s.indexOf(e)}),c.length&&c.forEach(function(t){t.setBackgrounded(!1),t.close(e)}),u.push(i.close(e))),Promise.all(u).then(function(s){if(a||o&&setTimeout(function(){o.style.display="none"},i.closeDelay||0),c.length)for(var u in Be)!~c.indexOf(Be[u])||r.backgroundSections&&~r.backgroundSections.indexOf(Be[u])||(ze[u].style.display="none");ze[e].removeAttribute("style"),r.open({sectionName:e,inBackground:!1}),N(r,t,n)})}();else{D(e);for(var u in ze)u===e||~s.indexOf(Be[u])||(ze[u].style.display="none");s.forEach(function(n){n.open({sectionName:e,inBackground:!0}),n.setEmotion(Ve,t)}),r.open({sectionName:e,inBackground:!1,introModalIsOpen:Ee()}),N(r,t,n)}Xe||F({section:e}),ve(e),We=r,$e&&Se()}function H(e){F({more:e}),Xe=e}function q(e){F({emotion:e}),Ve=e}function U(e){var t=void 0;for(var n in Be)if(Be[n]===e){t=n;break}var r=ze[t].style.display;ze[t].removeAttribute("style"),e.init(ze[t],$e),r&&(ze[t].style.display=r)}function F(e){if(e.section||e.more){var t=void 0;t=e.section?(0,T["default"])().getStr("derived.sections."+e.section):c["default"].getMorePageName(e.more),t||(t=e.section||e.more),document.querySelector("#header h1").innerHTML=t.toUpperCase()}var n=document.querySelector("#header .dd-title");if(e.emotion){var r=(0,T["default"])().getStr("derived.emotions."+e.emotion)||e.emotion;n.innerHTML=r.toUpperCase()}else null===e.emotion&&(n.innerHTML=((0,T["default"])().getStr("emotionsData.metadata.site.caption")||"CHOOSE AN EMOTION").toUpperCase())}function z(e,t){if(!ot&&We){var n=s["default"].values(c["default"].SECTIONS),r=void 0,i=void 0;n.some(function(e,t){return Be[e]===We?(r=t,!0):void 0}),i=0>e?Math.max(0,r-1):Math.min(r+1,n.length-1),r!==i&&("more"==n[i]?c["default"].navigate("more",null,"annex"):c["default"].navigate(n[i]),t&&(it=!0))}}function B(e){if(!ot&&!Xe){var t=s["default"].values(c["default"].EMOTIONS),n=t.indexOf(Ve),r=void 0;-1===n&&(n=0),r=0>e?(n-1+t.length)%t.length:(n+1)%t.length,n!==r&&c["default"].navigate(null,t[r])}}function G(e){We.paginateElement&&We.paginateElement(e)}function W(){Pe(),$e||Ee()&&(document.body.classList.remove("intro-closing","intro-open"),document.body.classList.add("intro-opening"),setTimeout(function(){be(!0)},1e3*P["default"].ui.intro.delay),setTimeout(function(){ae(1)},1e3*P["default"].ui.scrollbar.introOpenDelay));var e=$e?P["default"].ui.header["height-small"]:P["default"].ui.header.height;document.getElementById("main").style.height=window.innerHeight-e+"px",et.left=scrollbar.getBoundingClientRect().left;var t=void 0,n=void 0,r=void 0;for(var i in Be)t=Be[i],t.isInited&&(n=ze[i],r="none"===n.style.display,r&&(n.style.display="block"),t.onResize($e),r&&(n.style.display="none"))}function V(e){switch(e.keyCode){case 37:B(-1);break;case 38:z(-1);break;case 39:B(1);break;case 40:z(1);break;case 76:Re("en"===(0,T["default"])().lang()?"es":"en")}}function X(e){document.querySelector("body").removeEventListener("click",X);var t=document.querySelectorAll(".emotion-menu");[].concat(i(t)).forEach(function(t){t!==e&&t.classList.remove("open")})}function Y(){document.querySelector("body").addEventListener("click",X)}function $(e){e&&e.stopPropagation();var t=document.querySelector("#more-info .dropup"),n=t.classList;X(t),n.toggle("open"),n.contains("open")?t.addEventListener("click",Z):t.removeEventListener("click",Z),Y()}function Z(e){if(e.stopImmediatePropagation(),e.target&&"li"===e.target.nodeName.toLowerCase()){document.querySelector("#more-info .dropup").classList.remove("open");var t=e.target.dataset.page;t&&c["default"].navigate(c["default"].SECTIONS.MORE,null,t)}}function K(e){e&&e.stopPropagation();var t=document.querySelector("#lang-selector .dropup"),n=t.classList;X(t),n.toggle("open"),n.contains("open")?t.addEventListener("click",J):t.removeEventListener("click",J),Y()}function J(e){if(e.stopImmediatePropagation(),e.target&&"li"===e.target.nodeName.toLowerCase()){document.querySelector("#lang-selector .dropup").classList.remove("open");var t=e.target.dataset.lang;t&&Re(t)}}function Q(e){var t=document.querySelector("#header .dropdown"),n=t.classList;n.toggle("open"),n.contains("open")?t.addEventListener("click",ee):t.removeEventListener("click",ee),e.stopPropagation()}function ee(e){e.target&&"li"===e.target.nodeName.toLowerCase()&&(e.stopImmediatePropagation(),document.querySelector("#header .dropdown").classList.remove("open"),c["default"].navigate(null,e.target.dataset.emotion))}function te(e){We===Be[c["default"].SECTIONS.CONTINENTS]?c["default"].navigate(c["default"].HOME):z(-1)}function ne(e){var t=document.querySelector("#mobile-header .dropdown"),n=document.querySelector("#mobile-header .dropdown-curtain"),r=t.classList;r.toggle("open"),r.contains("open")?(t.addEventListener("click",re),n.addEventListener("click",ie),n.classList.add("open")):(t.removeEventListener("click",re),n.removeEventListener("click",ie),n.classList.remove("open")),e&&e.stopPropagation()}function re(e){e.target&&"li"===e.target.nodeName.toLowerCase()&&(e.stopImmediatePropagation(),ne(),document.querySelector("#mobile-header .dropdown").classList.remove("open"),e.target.dataset.section?"intro"===e.target.dataset.section?(c["default"].navigate(c["default"].HOME),window.location.reload()):c["default"].navigate(e.target.dataset.section):e.target.dataset.page?c["default"].navigate(c["default"].SECTIONS.MORE,null,e.target.dataset.page):e.target.dataset.lang&&Re(e.target.dataset.lang))}function ie(e){ne()}function oe(e){$e||(e&&!rt?ae(1,.15):!e&&rt&&ae(0,.08),rt=e)}function ae(e,t){nt&&window.cancelAnimationFrame(nt);var n=document.querySelector("#scrollbar .segment-container"),r=Math.round((1-e)*tt),i=parseFloat(window.getComputedStyle(n).left.replace("px","")),o=function a(){var e=(t||.25)*(r-i);Math.abs(e)<.25?(n.style.left=r+"px",nt=null):(i+=e,n.style.left=i+"px",nt=window.requestAnimationFrame(a))};window.requestAnimationFrame(o)}function se(e){document.querySelector("#scrollbar").addEventListener("mousemove",ce)}function ue(e){document.querySelector("#scrollbar").removeEventListener("mousemove",ce),oe(!1)}function ce(e){var t=e.pageX-et.left,n=e.pageY-et.top,r=t/et.width,i=0;0>t||t>window.innerWidth||0>n||n>et.height?ue():oe(r>i?!0:!1)}function le(e){var t=e.target.dataset.section;t&&ye(t)}function de(e){ye(null)}function fe(e){$e&&We===Be[c["default"].SECTIONS.CALM]?c["default"].navigate(c["default"].SECTIONS.CONTINENTS,null):z(1)}function he(e){$e&&We===Be[c["default"].SECTIONS.CALM]?c["default"].navigate(c["default"].SECTIONS.MORE,null,"about"):B(-1)}function pe(e){$e&&We===Be[c["default"].SECTIONS.CALM]?c["default"].navigate(c["default"].SECTIONS.MORE,null,"emotrak"):B(1)}function me(e){G(-1)}function ge(e){G(1)}function _e(e){var t=e.target.dataset.section;t&&c["default"].navigate(t)}function ve(e){Qe=e,ye(null)}function ye(e){e=e||Qe,Object.keys(Je).forEach(function(t){var n=t===e||t===Qe;Je[t].classList[n?"add":"remove"]("highlighted")})}function be(e){var t=document.querySelector("#modal"),n=document.querySelector("#modal-overlay");if(M["default"].setExitButtonText(We===Be[c["default"].SECTIONS.CONTINENTS]),We!==Be[c["default"].SECTIONS.CONTINENTS]||e||We.setContinentIntroPositions(!1),!$e)if(e){if("block"===t.style.display)return;document.body.classList.add("intro-open"),document.body.classList.remove("intro-closing","intro-opening"),t.style.display="block",n.style.display="block",ot=!0,setTimeout(function(){t.classList.add("visible"),n.classList.add("visible");var e=function r(e){e.stopImmediatePropagation(),n.removeEventListener("click",r),be(!1)};n.addEventListener("click",e)},100)}else{var r=function(){if(!n.classList.contains("visible"))return{v:void 0};I(),document.body.classList.add("intro-closing"),document.body.classList.remove("intro-open","intro-opening"),ot=!1;var e=function r(e){t.removeEventListener("transitionend",r),t.style.display="none",n.style.display="none",document.body.classList.remove("intro-closing","intro-open","intro-opening")};t.addEventListener("transitionend",e),t.classList.remove("visible"),n.classList.remove("visible"),ae(0)}();if("object"===("undefined"==typeof r?"undefined":o(r)))return r.v}}function we(e,t){if($e){"undefined"==typeof t&&(t=!0);var n=t?"add":"remove";document.querySelector("#down-arrow").classList[n]("visible"),document.querySelector("#left-arrow").classList[n]("visible"),document.querySelector("#right-arrow").classList[n]("visible"),We===Be[c["default"].SECTIONS.CONTINENTS]?(document.querySelector("#down-arrow").classList.add("immediate"),document.querySelector("#left-arrow").classList.add("immediate"),document.querySelector("#right-arrow").classList.add("immediate")):(document.querySelector("#down-arrow").classList.remove("immediate"),document.querySelector("#left-arrow").classList.remove("immediate"),document.querySelector("#right-arrow").classList.remove("immediate"))}else"calm"==e||"more"==e?(document.querySelector(".downArrow").classList.remove("visible"),document.querySelector(".leftArrow").classList.remove("visible"),document.querySelector(".rightArrow").classList.remove("visible")):"continents"==e?(document.querySelector(".downArrow").classList.add("visible"),document.querySelector(".leftArrow").classList.remove("visible"),document.querySelector(".rightArrow").classList.remove("visible")):(document.querySelector(".downArrow").classList.add("visible"),document.querySelector(".leftArrow").classList.add("visible"),document.querySelector(".rightArrow").classList.add("visible"))}function xe(){var e=s["default"].values(c["default"].EMOTIONS),t=e.indexOf(Ve),n=e[(t-1+e.length)%e.length],r=e[(t+1)%e.length];if($e){var i=document.querySelectorAll(".navArrow"),o=document.querySelector("#left-arrow"),a=document.querySelector("#right-arrow"),u=document.querySelector("#down-arrow"),l=o.querySelector(".navLabel"),d=a.querySelector(".navLabel"),f=u.querySelector(".navLabel"),h=void 0;if(We===Be[c["default"].SECTIONS.CALM]){for(h=0;h<i.length;h++)i[h].querySelector("img").style.display="none";l.textContent=(0,T["default"])().getStr("emotionsData.about.sectionName")||"about",d.textContent=(0,T["default"])().getStr("emotionsData.emotrak.sectionName")||"emotrak",f.textContent=(0,T["default"])().getStr("emotionsData.metadata.calm.caption")||"start over",f.style.removeProperty("display")}else{for(h=0;h<i.length;h++)i[h].querySelector("img").style.removeProperty("display");l.textContent=(0,T["default"])().getStr("derived.emotions."+n),d.textContent=(0,T["default"])().getStr("derived.emotions."+r),f.textContent="",f.style.display="none"}for(h=0;h<i.length;h++)i[h].classList[ot?"add":"remove"]("disabled")}}function Se(){var e=We===Be[c["default"].SECTIONS.CONTINENTS]||We===Be[c["default"].SECTIONS.MORE],t=We===Be[c["default"].SECTIONS.CONTINENTS]&&!Ve||We===Be[c["default"].SECTIONS.MORE];we(null,!t),e?(document.querySelector("#mobile-header .nav-button").style.display="none",document.querySelector("#mobile-header .header-content").style.display="block",document.querySelector("#mobile-header .dropdown").classList.remove("dark")):(document.querySelector("#mobile-header .nav-button").style.display="block",document.querySelector("#mobile-header .header-content").style.display="none",document.querySelector("#mobile-header .dropdown").classList.add("dark"));for(var n=We&&We.shouldDisplayPaginationUI&&We.shouldDisplayPaginationUI(),r=document.querySelectorAll(".mobile-nav-arrow"),i=0;i<r.length;i++)r[i].classList[n?"add":"remove"]("visible")}function Ee(){return!window.location.hash||"true"!==localStorage.modalSeen}function Me(e,t,n,r){return $e&&t?void Ce(t,n):void(e?(t!==C["default"].currentName||t&&!C["default"].exists(e,t))&&C["default"].manage(e,t,n,r):C["default"].manage())}function je(e,t,n){if(!$e&&!t)return void Ge.classList.remove("visible");var r=e?e.charAt(0).toUpperCase()+e.slice(1):"The Emotion";return t=t?t.replace(/LHAMO/i,e):null,n=n?n.replace(/LHAMO/i,r):null,$e?void Ce(t,n):(Ge.removeAttribute("class"),Ge.classList.add("visible"),document.getElementById("annexLink")&&document.getElementById("annexLink").removeAttribute("class"),Ge.querySelector(".headline").innerHTML=t,Ge.querySelector(".body").innerHTML!=n&&(Ge.querySelector(".body").innerHTML=n),void(e&&(Ge.classList.add(e),document.getElementById("annexLink")&&(document.getElementById("annexLink").className=e))))}function Ce(e,t){var n=document.querySelector("#mobile-caption");if(We===Be[c["default"].SECTIONS.CALM]){var r=P["default"].ui["mobile-caption"]["height-tall"];n.style.height=r}else n.style.removeProperty("height");We===Be[c["default"].SECTIONS.MORE]?n.style.display="none":n.style.removeProperty("display"),Se(),n.querySelector(".headline").innerHTML=e||"",n.querySelector(".body").innerHTML=t||""}function ke(e,t){t?(Be.actions.setState(e),Be.states.setBackgroundedState(e)):Be.actions.setHighlightedState(e)}function Le(e,t){if(e===c["default"].HOME)return document.location.hash="",void(document.location.hash||be(!1));var n=[];if(!e)for(var r in Be)if(Be[r]===We){e=r;break}t||(t=Ve,t||e!==c["default"].SECTIONS.STATES&&e!==c["default"].SECTIONS.ACTIONS&&e!==c["default"].SECTIONS.TRIGGERS&&e!==c["default"].SECTIONS.MOODS||(t=c["default"].DEFAULT_EMOTION)),e&&n.push(e),t&&n.push(t),document.location.hash=n.join(":")}function Ae(e){var t=arguments.length<=1||void 0===arguments[1]?Fe:arguments[1];return c["default"].validateEmotion(e.emotion)?e.emotion:t&&t.emotion?t.emotion:null}function Te(e){return c["default"].validateMorePage(e.emotion)?e.emotion:null}function Ie(e){var t=arguments.length<=1||void 0===arguments[1]?Fe:arguments[1];return c["default"].validateSection(e.section)?e.section:t&&t.section?t.section:null}function Oe(e){arguments.length<=1||void 0===arguments[1]?Fe:arguments[1];We&&be(!1);var t=document.location.hash.replace(/^#/,"");t=Ne(t);var n=Ie(t),r=Te(t),i=r?null:Ae(t);"more"!==n&&(Ye={section:n,emotion:i}),ot=!0;var o=Ve,a=Xe;Xe=null,r?H(r):(q(i),n===c["default"].SECTIONS.CONTINENTS&&oe(!!i)),R(n,o,a),window.ga("set","page",document.location.pathname+document.location.search+document.location.hash),window.ga("send","pageview")}function Ne(e){e||(e="");var t=e.split(":");return{section:t[0],emotion:t[1]}}function Pe(){if(at||screen.width>=He&&screen.height>=qe)Ue?(Ze.forEach(function(e){return e.style.removeProperty("display")}),Ke.forEach(function(e){return e.style.display="none"}),document.querySelector("body").classList.remove("small-screen")):(document.querySelector("body").classList.remove("small-screen-warning"),document.querySelector("#warning").innerHTML="",document.querySelector("#app-container").classList.remove("hidden")),$e=!1;else if(Ue)Ze.forEach(function(e){return e.style.display="none"}),Ke.forEach(function(e){return e.style.removeProperty("display")}),document.querySelector("body").classList.add("small-screen"),$e=!0;else{document.querySelector("body").classList.add("small-screen-warning");var e=document.createElement("div");e.classList.add("warning-container");var t=document.createElement("h3");t.innerHTML="ATLAS OF EMOTIONS",e.appendChild(t);var n=document.createElement("p");n.innerHTML='For the best experience, please enlarge your browser, switch to landscape orientation, or view on a larger device. Or, <a href="#" class="bypass-warning">click here</a> to proceed anyway.',e.appendChild(n),document.querySelector("#warning").innerHTML="",document.querySelector("#warning").appendChild(e),document.querySelector("#app-container").classList.add("hidden"),document.querySelector(".bypass-warning").addEventListener("click",function(e){at=!0,W()})}return(0,T["default"])(De(),$e),$e}function De(){var e=localStorage.lang;return e||(e=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage),e&&!p().find(function(t){return t.lang===e})&&(e=null),e||(e="en"),e=e.slice(0,2)}function Re(e){localStorage.setItem("lang",e),document.location.reload()}var He=950,qe=600,Ue=!0,Fe={section:c["default"].SECTIONS.CONTINENTS,emotion:null},ze={},Be={},Ge=void 0,We=null,Ve=null,Xe=null,Ye={section:"continents",emotion:null},$e=!1,Ze=[],Ke=[],Je={},Qe=null,et=void 0,tt=void 0,nt=void 0,rt=!1,it=!1,ot=!1,at=!1;e.apply(void 0,arguments)};var a=e("lodash"),s=r(a),u=e("./dispatcher.js"),c=r(u),l=e("./continents.js"),d=r(l),f=e("./states.js"),h=r(f),p=e("./actions.js"),m=r(p),g=e("./triggers.js"),_=r(g),v=e("./moods.js"),y=r(v),b=e("./calm.js"),w=r(b),x=e("./moreInfo.js"),S=r(x),E=e("./introModal.js"),M=r(E),j=e("./popupManager.js"),C=r(j),k=e("../static/emotionsData.json"),L=(r(k),e("../static/secondaryData.json")),A=(r(L),e("./appStrings.js")),T=r(A),I=e("../static/strings/stringsConfig.json"),O=r(I),N=e("../scss/variables.json"),P=r(N)},{"../scss/variables.json":309,"../static/emotionsData.json":339,"../static/secondaryData.json":340,"../static/strings/stringsConfig.json":341,"./actions.js":313,"./appStrings.js":314,"./calm.js":315,"./continents.js":316,"./dispatcher.js":317,"./introModal.js":318,"./moods.js":320,"./moreInfo.js":335,"./popupManager.js":336,"./states.js":337,"./triggers.js":338,lodash:303}],311:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("d3"),s=(r(a),.4),u=1.2,c=.05,l=function(){function e(t,n,r){i(this,e),this.size=r*e.SIZE_MOD,this.radius=0,this.rSpeed=.2*Math.random(),this.initSpeed=this.rSpeed,this.weight=Math.round(.4*r+1.2*Math.random()*r),this.alpha=e.BASE_ALPHA,this.color=n[Math.floor(Math.random()*n.length)].join(","),this.d3Wrapper=t.append("circle").attr("cx",0).attr("cy",0).attr("r",this.radius).attr("stroke","rgb("+this.color+")").attr("stroke-opacity",this.alpha)}return o(e,null,[{key:"spawn",value:function(t,n,r){return r||n-t.spawnConfig.lastSpawn>t.spawnConfig.minDelay?r||Math.random()<t.spawnConfig.freq?(r||(t.spawnConfig.lastSpawn=n),new e(t.circleWrapper,t.colorPalette,t.size)):null:void 0}},{key:"getStrokeProps",value:function(t,n){var r=t[Math.floor(Math.random()*t.length)].join(","),i=e.BASE_ALPHA,o=Math.round(.4*n*e.SIZE_MOD+1.2*Math.random()*n*e.SIZE_MOD);return{stroke:"rgba("+r+","+i+")",sw:o}}}]),o(e,[{key:"update",value:function(e,t){this.draw(e),this.grow(t)}},{key:"draw",value:function(e){var t=this.calcStrokeWidth();this.d3Wrapper.attr("r",this.radius).attr("stroke-width",t).attr("stroke","rgb("+this.color+")").attr("stroke-opacity",this.alpha*e)}},{key:"grow",value:function(t){var n=this.size+.5*this.weight;this.rSpeed=c+Math.pow(1-this.radius/n,.5)*this.initSpeed,this.rSpeed*=t,this.rSpeed&&(this.radius+=this.rSpeed),this.radius>this.size&&(this.alpha=Math.max(0,e.BASE_ALPHA*(n-this.radius)/(.5*this.weight)))}},{key:"calcStrokeWidth",value:function(){return Math.min(this.weight,this.size+.5*this.weight-this.radius)}},{key:"isAlive",value:function(){return this.alpha>.01}}]),e}();l.BASE_ALPHA=.4,l.SIZE_MOD=1/(1+.5*(s+u)),n["default"]=l},{d3:299}],312:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("lodash"),u=r(s),c=e("d3"),l=r(c),d=e("d3-transform"),f=r(d),h=e("tween.js"),p=r(h),m=e("./Circle.js"),g=r(m),_=e("../static/emotionsData.json"),v=r(_),y=e("../scss/variables.json"),b=r(y),w=e("./appStrings.js"),x=r(w),S=60,E=15,M=4,j=function(){function e(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=arguments[4];i(this,e),e.transforms||(e.transforms=u["default"].shuffle(e.BASE_TRANSFORMS)),this.screenIsSmall=a,this.initInstanceProperties(t,n,o),this.onResize(r,a),this.prepopulate()}return a(e,[{key:"initInstanceProperties",value:function(t,n,r){var i=Object.keys(e.configsByEmotion).indexOf(t);if(-1===i)throw new Error('Invalid emotion "'+t+'" for continent.');this.id=t,this.name=t.toUpperCase(),this.i18nName=(0,x["default"])().getStr("derived.emotions."+t),this.colorPalette=e.configsByEmotion[t].colorPalette.concat(),this.spawnConfig={lastSpawn:0,minDelay:(this.screenIsSmall?2:3)*S,freq:this.screenIsSmall?.05:.01},this.drift={x:0,y:0,sinCtr:2*Math.random()*Math.PI,cosCtr:2*Math.random()*Math.PI},this.baseTransforms=o({},e.transforms[i],r[i]),this.introSpreadRad=0,this.introSpreadSize=0,this.scaleX=1,this.scaleY=1,this.circles=[],this.highlightLevel=e.HIGHLIGHT_LEVELS.NONE,this.isFocused=!1,this.d3Selection=n.append("g").classed("continent "+this.id,!0).style("opacity",0).datum(this),
this.d3Selection.transition().duration(1e3*b["default"].ui.overlays.duration["in"]).style("opacity",1),this.circleWrapper=this.d3Selection.append("g").classed("circle-wrapper",!0)}},{key:"prepopulate",value:function(){for(var t=.333*this.maxNumCircles+Math.floor(.666*Math.random()*this.maxNumCircles),n=0;t>n;n++){var r=g["default"].spawn(this,1,!0);r.radius=.75+.25*Math.random()*r.size,r.update(e.HIGHLIGHT_ALPHA_MODS[this.highlightLevel],e.HIGHLIGHT_SPEED_MODS[this.highlightLevel]),this.circles.push(r)}}},{key:"update",value:function(t,n){this.tweens&&u["default"].values(this.tweens).forEach(function(e){e.update(t.time)});var r=void 0,i=void 0,o=void 0,a=void 0;this.isFocused||(this.circles.length<this.maxNumCircles&&(r=g["default"].spawn(this,n),r&&this.circles.push(r)),o=e.HIGHLIGHT_ALPHA_MODS[this.highlightLevel],a=e.HIGHLIGHT_SPEED_MODS[this.highlightLevel],this.screenIsSmall||this.wander(this.drift,3));var s=this.centerX+this.x+this.drift.x,c=this.centerY+this.y+this.drift.y,l=1+(this.introSpreadSize||0);if(this.introSpreadRad&&(s+=this.introSpreadRad*Math.cos(this.introSpreadAng),c+=this.introSpreadRad*Math.sin(this.introSpreadAng)),isNaN(this.scaleX)||this.d3Selection.attr("transform",(0,f["default"])().translate(s,c).scale(this.scaleX*l,this.scaleY*l)),!this.isFocused)for(var d=this.circles.length-1;d>=0;d--)i=this.circles[d],i.isAlive()?i.update(o,a):(this.circles.splice(d,1),i.d3Wrapper.remove())}},{key:"onResize",value:function(e,t){var n=u["default"].cloneDeep(this.baseTransforms);n.x*=e.w,n.y*=e.h,n.label.x*=e.w,n.label.y*=e.h,n.size*=e.h,o(this,n),this.introSpreadAng=Math.atan2(this.y,this.x),this.centerX=e.centerX,this.centerY=e.centerY,this.screenIsSmall=t,this.maxNumCircles=this.screenIsSmall?M:E,!this.circleHitArea&&this.screenIsSmall&&(this.circleHitArea=this.d3Selection.insert("circle",":first-child").style("fill","white").style("fill-opacity",0).attr("cx",0).attr("cy",0).attr("r",n.size))}},{key:"addTween",value:function(e,t,n){var r=this,i=arguments.length<=3||void 0===arguments[3]?p["default"].Easing.Linear.None:arguments[3];if(t||n){this.tweens||(this.tweens={});var o=Object.keys(e).sort().join("-");this.tweens[o]&&this.tweens[o].stop(),this.tweens[o]=new p["default"].Tween(this).to(e,t).delay(n).onComplete(function(){delete r.tweens[o]}).easing(i).start()}else for(var a in e)this[a]=e[a]}},{key:"spreadCircles",value:function(t,n){this.isFocused=!0;var r=this,i={right:b["default"].states.graph.margins.right,left:b["default"].states.graph.margins.left},o=parseFloat(b["default"].states.graph.width.replace("%",""))/100,a=t.getBoundingClientRect(),s=(o*a.width-i.left-i.right)/n,u=(b["default"].continents.centerX-.5)*a.width/n,c=l["default"].scale.linear().domain([0,10]).range([-.5*s-u,.5*s-u]),d=l["default"].scale.linear().domain([0,10]).range([0,s]),f=1e3*b["default"].continents.spread.duration["in"],h=this.transformRanges(v["default"].emotions[this.id].states),p=this.circleWrapper.selectAll("circle").data(h,function(e,t){return t}),m=function(t,n){var i=e.configsByEmotion[r.id].colorPalette,o=i[Math.floor(Math.random()*i.length)].join(",");return"rgb("+o+")"};p.transition().duration(f).attr("cx",function(e){return c(e.cx)}).attr("r",function(e){return d(e.r)}).attr("stroke",m).attr("stroke-opacity",g["default"].BASE_ALPHA).attr("stroke-width",function(e){return d(e.strokeWidth)}),p.enter().append("circle").attr("cx",0).attr("cy",0).attr("r",0).attr("stroke",m).attr("stroke-opacity",g["default"].BASE_ALPHA).attr("stroke-width",function(e){return d(e.strokeWidth)}).transition().duration(f).attr("cx",function(e){return c(e.cx)}).attr("r",function(e){return d(e.r)}),this.circleWrapper.classed("flat",!0)}},{key:"gatherCircles",value:function(e){var t=this,n=e?0:1e3*b["default"].continents.spread.duration.out,r=(this.transformRanges(v["default"].emotions[this.id].states),!1),i=this.circleWrapper.selectAll("circle").data(this.circles);i.transition().duration(n).attr("cx",0).attr("cy",0).attr("r",function(e){return e.radius}).attr("stroke",function(e){return"rgb("+e.color+")"}).attr("stroke-opacity",function(e){return e.alpha}).attr("stroke-width",function(e){return e.calcStrokeWidth()}).each("end",function(){r||(t.isFocused=!1,r=!0)}),i.exit().transition().duration(n).ease("quad-out").attr("cx",0).attr("cy",0).attr("r",0).attr("stroke-opacity",0).remove(),setTimeout(function(){t.circleWrapper.classed("flat",!1)},1)}},{key:"transformRanges",value:function(e,t){arguments.length<=2||void 0===arguments[2]?1:arguments[2];e=e.filter(function(e){return!(!e.range.min||!e.range.max)}),e=e.sort(function(e,t){return e.range.min<t.range.min?-1:e.range.min>t.range.min?1:e.range.max<t.range.max?-1:e.range.max>t.range.max?1:0});e.length;return e.map(function(e,t){var n=e.range.max,r=e.range.min-1,i=.5*(n-r),o=(.4+.5*Math.random())*i;return{cx:r+i,strokeWidth:o,r:i-.5*o}})}},{key:"wander",value:function(e,t){e.sinCtr+=.01+.03*Math.random(),e.cosCtr+=.01+.03*Math.random(),e.x=Math.cos(e.cosCtr)*t,e.y=Math.sin(e.sinCtr)*t}},{key:"meander",value:function(e,t){var n=.02*t,r=.004*Math.PI,i=Math.cos(e.ang)*e.dist,o=Math.sin(e.ang)*e.dist,a=Math.atan2(o,i);for(e.dist+=(-.5+Math.random())*n,e.ang+=(-.5+Math.random())*r;0>a;)a+=2*Math.PI;for(;e.ang<0;)e.ang+=2*Math.PI;e.ang%=2*Math.PI,e.dist>.5*t&&(e.ang+=.1*(a-e.ang))}}]),e}();j.HIGHLIGHT_LEVELS={NONE:0,UNSELECTED:1,UNHIGHLIGHTED:2,HIGHLIGHTED:3,SELECTED:4},j.HIGHLIGHT_ALPHA_MODS=[1,.25,.5,1.5,2],j.HIGHLIGHT_SPEED_MODS=[1,.25,.5,1.5,2],j.BASE_TRANSFORMS=[{x:.02,y:-.2,label:{x:.15,y:-.15},size:.22,introSpreadMaxRad:.25},{x:-.17,y:-.16,label:{x:-.13,y:.14},size:.22,introSpreadMaxRad:.25},{x:-.12,y:.14,label:{x:-.15,y:.06},size:.22,introSpreadMaxRad:.25},{x:.19,y:0,label:{x:.13,y:.18},size:.22,introSpreadMaxRad:.25},{x:.02,y:.21,label:{x:.14,y:.16},size:.22,introSpreadMaxRad:.25}],j.configsByEmotion={anger:{colorPalette:[[204,28,23],[208,46,53],[212,65,63],[216,83,73],[220,102,83],[224,120,92],[228,135,102]]},disgust:{colorPalette:[[0,104,55],[0,110,57],[0,116,59],[0,122,61],[0,128,63],[0,130,65],[0,136,67],[0,142,69]]},enjoyment:{colorPalette:[[248,136,29],[243,143,30],[243,136,33],[244,149,36],[244,153,40],[245,156,43],[245,159,46],[246,162,49],[247,169,56],[246,166,53],[247,172,59]]},fear:{colorPalette:[[143,39,139],[156,41,153],[196,49,194],[209,51,207],[223,53,221],[235,56,234],[248,58,248]]},sadness:{colorPalette:[[65,74,161],[54,104,178],[49,124,189],[44,139,200],[51,158,211],[85,172,217],[146,198,229],[174,209,234],[195,218,238]]}},n["default"]=j},{"../scss/variables.json":309,"../static/emotionsData.json":339,"./Circle.js":311,"./appStrings.js":314,d3:299,"d3-transform":298,lodash:303,"tween.js":308}],313:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=e("d3"),u=r(s),c=e("textures"),l=r(c),d=e("lodash"),f=r(d),h=e("./dispatcher.js"),p=r(h),m=e("./appStrings.js"),g=r(m),_=e("../scss/variables.json"),v=r(_),y=e("./states.js"),b=r(y),w={CONSTRUCTIVE:1,BOTH:2,DESTRUCTIVE:3,NONE:4},x=[{x:0,y:0},{x:.75,y:-.01},{x:1,y:0},{x:.75,y:.01},{x:0,y:0}];o={suppress:"suppression",quarrel:"quarreling",insult:"insulting others","scream/yell":"screaming or yelling","simmer/brood":"simmering or brooding",undermine:"undermining others",dispute:"disputing","be passive-aggressive":"being passive-aggressive","use physical force":"using physical force","feel ashamed":"feeling ashamed",mourn:"mourning",protest:"protesting",ruminate:"ruminating","seek comfort":"seeking comfort",withdraw:"withdrawing",avoid:"avoiding",dehumanize:"dehumanizing",vomit:"vomiting",hesitate:"hestitation",worry:"worrying"},i(o,"withdraw","withdrawing"),i(o,"ruminate","ruminating"),i(o,"freeze","freezing"),i(o,"exclaim","exclaiming"),i(o,"engage/connect","engaging or connecting"),i(o,"gloat","gloating"),i(o,"indulge","indulging"),i(o,"maintain","maintaining"),i(o,"savor","savoring"),i(o,"seek more","seeking more"),o;n["default"]={isInited:!1,screenIsSmall:!1,currentEmotion:null,actionsData:null,backgroundSections:[b["default"]],labelContainers:null,graphContainers:null,valenceTextures:null,mouseOutTimeout:null,randomLabelPositions:{},init:function(e,t){this.sectionHitArea=e,this.screenIsSmall=t,this.actionsData=this.parseActions(),this.initContainers(e),this.initLabels(e),this.setUpGraphs(e),this.scaledLineGenerator=this.scaledLineGenerator.bind(this),this.arcTween=this.arcTween.bind(this),this.onActionMouseOver=this.onActionMouseOver.bind(this),this.onActionMouseOut=this.onActionMouseOut.bind(this),this.onActionMouseClick=this.onActionMouseClick.bind(this),this.onContainerTouchStart=this.onContainerTouchStart.bind(this),this.onContainerTouchMove=this.onContainerTouchMove.bind(this),this.onContainerTouchEnd=this.onContainerTouchEnd.bind(this),this.isInited=!0},initContainers:function(e){f["default"].values(p["default"].EMOTIONS).forEach(function(t){var n=document.createElement("div");n.classList.add("actions-container"),n.classList.add(t);var r=document.createElement("div");r.classList.add("graph-container"),n.appendChild(r),e.appendChild(n)})},initLabels:function(e){var t=this;this.labelContainers={},f["default"].values(p["default"].EMOTIONS).forEach(function(e){var n=u["default"].select("."+e+".actions-container"),r=n.append("div").classed("label-container",!0);t.labelContainers[e]=r})},setUpGraphs:function(e){var t=this,n={top:v["default"].actions.margins.top,right:this.screenIsSmall?95:100,bottom:v["default"].actions.margins.bottom,left:this.screenIsSmall?95:100},r=e.querySelector(".graph-container"),i=r.offsetWidth-n.left-n.right,o=Math.max(r.offsetHeight,.5*r.offsetWidth),a=o-n.top-n.bottom,s=Math.sqrt(3)/2*a,c=this.screenIsSmall?i:Math.min(.5*i,.75*s);if(this.lineGenerator=u["default"].svg.line.radial().radius(function(e){return e.x*c}).angle(function(e){return 2*Math.PI*(1-e.y)}).interpolate("cardinal"),this.pieLayout=u["default"].layout.pie().sort(null).value(function(e){return e.size}).startAngle(.5*Math.PI).endAngle(1.5*Math.PI),this.arcGenerator=u["default"].svg.arc().innerRadius(0).outerRadius(c),this.graphContainers)f["default"].values(p["default"].EMOTIONS).forEach(function(e,t){var r=document.querySelector("#actions ."+e+" .graph-container"),a=u["default"].select(r).select("svg").attr("width",r.offsetWidth).attr("height",o);a.select("g").attr("transform","translate("+(n.left+.5*i)+","+n.top+")")});else{this.graphContainers={},this.valenceTextures={},f["default"].values(p["default"].EMOTIONS).forEach(function(e,r){var a=document.querySelector("#actions ."+e+" .graph-container"),s=u["default"].select(a).append("svg").attr("width",a.offsetWidth).attr("height",o),c=s.append("g").attr("transform","translate("+(n.left+.5*i)+","+n.top+")"),d={};d[w.CONSTRUCTIVE]=l["default"].lines().thinner(.85).orientation("6/8").stroke("black"),d[w.BOTH]=l["default"].lines().orientation("4/8").stroke("black"),d[w.DESTRUCTIVE]=l["default"].lines().thicker(.85).orientation("2/8").stroke("black"),f["default"].values(d).forEach(function(e){s.call(e)}),t.valenceTextures[e]=d,t.graphContainers[e]=c});var d=u["default"].select(e).append("svg").classed("actions-defs",!0);this.setUpDefs(d.append("defs"),c)}},scaledLineGenerator:function(e,t){var n=this;return e.attr("d",function(e){return n.lineGenerator(e.paths.map(function(e){return{x:e.x*t,y:e.y*t}}))})},arcTween:function(e){var t=this.arcGenerator;e.attrTween("d",function(e){var n=u["default"].interpolate(this._current,e);return this._current=n(0),function(e){return t(n(e))}})},parseActions:function(){var e=function(e){return e.toLowerCase()},t=Object.keys(p["default"].EMOTIONS).reduce(function(t,n){var r=p["default"].EMOTIONS[n],i=(0,g["default"])().getStr("emotionsData.emotions."+r+".states"),o=(0,g["default"])().getStr("emotionsData.emotions."+r+".actions").map(function(e){return a({},e,{name:e.name.toLowerCase()})}),s=o.concat().sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});r===p["default"].EMOTIONS.ANGER?(s.splice(1,0,s.shift()),s.splice(-1,0,s.pop())):r===p["default"].EMOTIONS.ENJOYMENT&&s.splice(1,0,s.shift());var u={},c=s.length;s.forEach(function(e,t){e.paths=x.map(function(e){return{x:e.x,y:e.y}}),e.states=[],e.rotation=100+160*(c-t-1)/(c-1),u[e.name]=e});var l=i.reduce(function(t,n){var r=n.name.toLowerCase(),i=n.actions.both.map(e).filter(function(e){var t=e;return isNaN(parseInt(e))||(t=o[+e-1].name),!!u[t]}).map(function(e){return isNaN(parseInt(e))?e:o[+e-1].name}).sort(),a=n.actions.con.map(e).filter(function(e){var t=e;return isNaN(parseInt(e))||(t=o[+e-1].name),!!u[t]&&!~n.actions.both.indexOf(e)}).map(function(e){return isNaN(parseInt(e))?e:o[+e-1].name}).sort(),s=n.actions.des.map(e).filter(function(e){var t=e;return isNaN(parseInt(e))||(t=o[+e-1].name),!!u[t]&&!~n.actions.both.indexOf(e)}).map(function(e){return isNaN(parseInt(e))?e:o[+e-1].name}).sort(),c=a.length,l=i.length,d=s.length,f=a.concat(i).concat(s),h=f.length,p=void 0,m=void 0;f=f.map(function(e,t){return p=u[e],m={name:p.name,desc:p.desc},m.paths=x.map(function(e){return{x:e.x,y:e.y}}),m.rotation=100+160*(h-t-1)/(h-1),c>t?m.valence=w.CONSTRUCTIVE:c+l>t?m.valence=w.BOTH:c+l+d>t&&(m.valence=w.DESTRUCTIVE),m.state=n.name,~p.states.indexOf(r)||p.states.push(r),m});var g=Object.keys(w).map(function(e){return{name:e,size:"CONSTRUCTIVE"===e?c:"BOTH"===e?l:"DESTRUCTIVE"===e?d:0}}).reverse(),_=void 0,v=void 0;return g.forEach(function(e){e.size&&(_?v=e:_=e)}),_&&(_.size-=.5),v&&(v.size-=.5),t[n.name.toLowerCase()]={actions:f,valenceWeights:g},t},{});return t[r]={allActions:s,actions:l},t},{});return t},setUpDefs:function(e,t){e.append("linearGradient").attr("id","actions-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",-t),e.append("linearGradient").attr("id","actions-anger-gradient").attr("xlink:href","#actions-gradient").selectAll("stop").data([{offset:"20%",color:"rgba(228, 135, 102, 0.2)"},{offset:"100%",color:"rgba(204, 28, 43, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","actions-disgust-gradient").attr("xlink:href","#actions-gradient").selectAll("stop").data([{offset:"20%",color:"rgba(0, 142, 69, 0.3)"},{offset:"66%",color:"rgba(0, 122, 61, 0.8)"},{offset:"100%",color:"rgba(0, 104, 55, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","actions-enjoyment-gradient").attr("xlink:href","#actions-gradient").selectAll("stop").data([{offset:"20%",color:"rgba(241, 196, 83, 0.8)"},{offset:"100%",color:"rgba(248, 136, 29, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","actions-fear-gradient").attr("xlink:href","#actions-gradient").selectAll("stop").data([{offset:"20%",color:"rgba(248, 58, 248, 0.1)"},{offset:"100%",color:"rgba(143, 39, 139, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","actions-sadness-gradient").attr("xlink:href","#actions-gradient").selectAll("stop").data([{offset:"20%",color:"rgba(200, 220, 240, 1.0)"},{offset:"66%",color:"rgba(30, 152, 211, 1.0)"},{offset:"100%",color:"rgba(64, 70, 164, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color})},setEmotion:function(e){var t=this;return new Promise(function(n,r){~f["default"].values(p["default"].EMOTIONS).indexOf(e)||(e="anger");var i=t.currentEmotion;t.currentEmotion=e,t.screenIsSmall&&t.setHighlightedAction(null);var o=0;i&&!function(){var t=u["default"].select(".actions-container."+i);t.classed("active",!1),t.on("transitionend",function(e){t.on("transitionend",null),t.style("transform",null),t.style("-webkit-transform",null),t.classed("transitioning",!1)});var n=document.querySelector("#actions .graph-container").offsetWidth,r=f["default"].values(p["default"].EMOTIONS);o=1.25*n,r.indexOf(e)<r.indexOf(i)&&(o*=-1),Math.abs(r.indexOf(e)-r.indexOf(i))==r.length-1&&(o*=-1),setTimeout(function(){t.style("transform","translateX("+-o+"px)"),t.style("-webkit-transform","translateX("+-o+"px)")},1e3*v["default"].emotions.panX.delay)}();var a=u["default"].select(".actions-container."+e);a.classed("transitioning")?a.on("transitionend",null):(a.classed("transitioning",!1),a.style("transform","translateX("+o+"px)"),a.style("-webkit-transform","translateX("+o+"px)")),setTimeout(function(){a.classed("transitioning active",!0),a.style("transform","translateX(0)"),a.style("-webkit-transform","translateX(0)")},1e3*v["default"].emotions.panX.delay),t.isBackgrounded?t.renderLabels(null,!0):t.screenIsSmall||b["default"].setActive(!0);var s=1500;t.setStateTimeout=setTimeout(function(){p["default"].setEmotionState(b["default"].selectedState,!0)},t.isBackgrounded?0:s);var c=void 0;c=i?1e3*(v["default"].emotions.panX.delay+v["default"].emotions.panX.duration):v["default"].states.backgrounded.duration["in"],setTimeout(function(){n()},c)})},setState:function(e){if(this.isBackgrounded||this.setHighlightedAction(null),this.currentState=e,this.currentEmotion){var t=void 0,n=void 0;if(e){if(t=this.actionsData[this.currentEmotion].actions[this.currentState],!t)return void console.warn('No actions found for state "'+this.currentState+'" in emotion "'+this.currentEmotion+'".');n=t.actions}else n=this.actionsData[this.currentEmotion].allActions;var r="actions-"+this.currentEmotion+"-gradient",i=(this.valenceTextures[this.currentEmotion],this.graphContainers[this.currentEmotion]),o=i.selectAll("g.action-arrow").data(n,function(e){return e.name});o.classed({constructive:function(e){return e.valence===w.CONSTRUCTIVE},both:function(e){return e.valence===w.BOTH},destructive:function(e){return e.valence===w.DESTRUCTIVE}}),o.transition().duration(v["default"].actions.update.time).attr("transform",function(e){return"rotate("+e.rotation+")"});var a=o.enter().append("g").attr("class","action-arrow").classed({constructive:function(e){return e.valence===w.CONSTRUCTIVE},both:function(e){return e.valence===w.BOTH},destructive:function(e){return e.valence===w.DESTRUCTIVE}}).attr("transform",function(e){return"rotate("+e.rotation+")"});this.isBackgrounded||(this.screenIsSmall?u["default"].select("#actions ."+this.currentEmotion+" .graph-container").on("touchstart",this.onContainerTouchStart):a.on("mouseover",this.onActionMouseOver).on("mouseout",this.onActionMouseOut).on("click",this.onActionMouseClick)),a.append("path").classed("gradient-fill",!0).attr("fill",function(e,t){return"url(#"+r+")"}).call(this.scaledLineGenerator,0),window.navigator.userAgent&&~window.navigator.userAgent.toLowerCase().indexOf("gecko")&&~window.navigator.userAgent.toLowerCase().indexOf("firefox")&&a.selectAll("path").style("mix-blend-mode","normal"),a.transition().duration(this.isBackgrounded?0:v["default"].actions.add.time).delay(this.isBackgrounded?0:function(e,t){return 50*t}).selectAll("path").call(this.scaledLineGenerator,1),o.exit().transition().duration(v["default"].actions.remove.time).remove().selectAll("path").call(this.scaledLineGenerator,0),this.isBackgrounded||(this.renderLabels(n),e||this.resetCallout())}},clearStates:function(e){if(this.currentEmotion){var t=this.graphContainers[this.currentEmotion];this.screenIsSmall?u["default"].select("#actions ."+this.currentEmotion+" .graph-container").on("touchstart",null):t.selectAll("g.action-arrow").on("mouseover",null).on("mouseout",null),t.selectAll("g.action-arrow").data([]).exit().transition().duration(e).remove().selectAll("path").call(this.scaledLineGenerator,0)}this.renderLabels(null)},setHighlightedState:function(e){var t=this;e?!function(){var n=t.actionsData[t.currentEmotion].allActions,r=t.actionsData[t.currentEmotion].actions[e].actions.map(function(e){return e.name}),i=n.filter(function(e){return!~r.indexOf(e.name)}).map(function(e){return e.name}),o=t.graphContainers[t.currentEmotion],a=t.labelContainers[t.currentEmotion];o.selectAll("g.action-arrow").classed("muted",function(e,t){return!~r.indexOf(e.name)}),t.setLabelStates(a,[],i)}():this.displayHighlightedAction(null)},setLabelStates:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];if(e){var r=e.selectAll(".label");r.classed("highlighted",!1).classed("muted",!1).classed("selected",!1);var i=this.highlightedAction?this.highlightedAction.name:null;(i||t.length)&&(r.classed({muted:function(e){return t.indexOf(e.name)<0&&e.name!==i||~n.indexOf(e.name)},highlighted:function(e){return t.indexOf(e.name)>-1},selected:function(e){return e.name===i}}),e.select(".default-interactive-helper").classed("default-interactive-helper",!1))}},renderLabels:function(e,t){var n=this;if(this.currentEmotion&&!this.screenIsSmall){var r=function(e){return'<span class="label-name">'+e.name.toUpperCase()+"</span>"},i=this.labelContainers[this.currentEmotion];e?!function(){var t=Math.sqrt(3),o=n.lineGenerator.radius()({x:1})+10,a=i.selectAll("div.label").data(e,function(e){return e.name});a.transition().duration(v["default"].actions.update.time).styleTween("transform",function(){return function(e,n,r){var i=this,s="none"===r?null:u["default"].transform(r),c=s?s.translate:[0,0],l=0===n||n===a.size()-1?20:0,d=Math.atan2((c[1]-l)*t,c[0]+.5*this.offsetWidth),f=Math.PI*(e.rotation-90)/180,h=void 0;return function(e){return h=d+e*(f-d),"translate("+Math.round(o*Math.cos(h)-.5*i.offsetWidth)+"px,"+Math.round(o/t*Math.sin(h)+l)+"px)"}}}()),a.select("h4").html(r),n.randomLabelPositions.hasOwnProperty(n.currentEmotion)||(n.randomLabelPositions[n.currentEmotion]=e[Math.floor(Math.random()*e.length)]);var s=a.enter().append("div").attr("class",n.currentEmotion+" label emotion-label").attr("data-popuptarget",function(e,t){return"actions:"+e.name}).style("opacity",0);s.append("div").attr("class","label-text-wrapper").append("h4").html(r).on("mouseover",n.onActionMouseOver).on("mouseout",n.onActionMouseOut).on("click",n.onActionMouseClick);var c=function(e,n){var r=0===n||n===s.size()-1?20:0;return"translate("+Math.round(o*Math.cos(Math.PI*(e.rotation-90)/180)-.5*this.offsetWidth)+"px,"+Math.round(o*Math.sin(Math.PI*(e.rotation-90)/180)/t+r)+"px)"};s.style("transform",c),s.style("-webkit-transform",c),s.transition().duration(v["default"].actions.add.time).delay(v["default"].actions.add.delay).style("opacity",1).each("end",function(){u["default"].select(this).style("opacity",null)}),a.classed("default-interactive-helper",function(e,t){return e.name===n.randomLabelPositions[n.currentEmotion].name}),a.exit().transition().duration(v["default"].actions.remove.time).style("opacity",0).remove()}():i.selectAll("div.label").on("mouseover",null).on("mouseout",null).transition().duration(t?0:v["default"].actions.remove.time).style("opacity",0).remove()}},open:function(e){var t=this;this.setBackgrounded(e&&e.inBackground,e);var n=1500;this.openTimeout=setTimeout(function(){e&&e.inBackground||t.resetCallout()},n)},close:function(){var e=this;return p["default"].popupChange(),new Promise(function(t,n){clearTimeout(e.openTimeout),clearTimeout(e.setStateTimeout),e.clearStates(v["default"].actions.remove.time),setTimeout(function(){t()},v["default"].actions.remove.time)})},onResize:function(e){this.screenIsSmall=e,this.setUpGraphs(this.sectionHitArea);for(var t in this.graphContainers){var n=this.graphContainers[t],r=n.selectAll("g.action-arrow");if(r.size()&&(r.selectAll("path").call(this.scaledLineGenerator,1),!this.isBackgrounded)){var i=void 0;if(this.currentState){var o=this.actionsData[this.currentEmotion].actions[this.currentState];if(!o){console.warn('No actions found for state "'+this.currentState+'" in emotion "'+this.currentEmotion+'".');continue}i=o.actions}else i=this.actionsData[this.currentEmotion].allActions;this.renderLabels(i)}}},setBackgrounded:function(e,t){var n=this;return new Promise(function(r,i){n.isBackgrounded=e,n.sectionHitArea.classList[e?"add":"remove"]("backgrounded"),n.sectionHitArea.classList[t&&t.sectionName===p["default"].SECTIONS.TRIGGERS?"add":"remove"]("triggers"),n.sectionHitArea.classList[t&&t.sectionName===p["default"].SECTIONS.MOODS?"add":"remove"]("moods"),e&&n.screenIsSmall&&n.setHighlightedAction(null),n.renderLabels(null),e&&n.setState(null),r()})},shouldDisplayPaginationUI:function(){return!!this.highlightedAction},applyEventListenersToEmotion:function(e,t){var n=this.graphContainers[e];Object.keys(t).forEach(function(e){n.on(e,t[e])})},paginateElement:function(e){var t=this,n=0,r=this.actionsData[this.currentEmotion].allActions;this.highlightedAction&&(n=r.findIndex(function(e){return e.name===t.highlightedAction.name})+e,n=n>=r.length?0:0>n?r.length-1:n),this.setHighlightedAction(r[n])},setHighlightedAction:function(e){if(this.highlightedAction=e,e){var t=void 0;e.valence&&(t={body:e.valence&&(0,g["default"])().getStr("emotionsData.metadata.actions.qualities["+(e.valence-1)+"].body"),classes:[this.currentEmotion,f["default"].findKey(w,function(t){return t===e.valence}).toLowerCase()]}),p["default"].popupChange("actions",e.name,e.desc,t)}else this.isBackgrounded||this.resetCallout();this.displayHighlightedAction(e)},displayHighlightedAction:function(e,t){if(this.graphContainers[this.currentEmotion]){var n=e||this.highlightedAction||null,r=this.graphContainers[this.currentEmotion].selectAll("g.action-arrow");this.labelContainers[this.currentEmotion].selectAll("div.label");n?(t?r.classed("muted",function(e){return t?e.valence!==t:!1}):r.classed("muted",function(e,t){return e.name!==n.name}),this.setLabelStates(this.labelContainers[this.currentEmotion],[n.name])):(r.classed("muted",!1),this.setLabelStates(this.labelContainers[this.currentEmotion],[]))}},onActionMouseOver:function(e,t){this.mouseOutTimeout&&clearTimeout(this.mouseOutTimeout),this.displayHighlightedAction(e,e.valence)},onActionMouseOut:function(e,t){var n=this;this.mouseOutTimeout=setTimeout(function(){n.displayHighlightedAction(null)},350)},onActionMouseClick:function(e,t){u["default"].event&&u["default"].event.stopImmediatePropagation(),this.mouseOutTimeout&&clearTimeout(this.mouseOutTimeout),this.setHighlightedAction(e)},onContainerTouchStart:function(){this.touchedShape=null,u["default"].select("#actions ."+this.currentEmotion+" .graph-container").on("touchmove",this.onContainerTouchMove).on("touchend",this.onContainerTouchEnd).on("touchcancel",this.onContainerTouchEnd),this.onContainerTouchMove()},onContainerTouchMove:function(){var e=this,t=u["default"].event;if(t){var n=document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY),r=this;"path"===n.nodeName?n!==this.touchedShape&&(this.touchedShape=n,this.graphContainers[this.currentEmotion].selectAll("path").each(function(e,t){this===n&&r.onActionMouseClick(e,t)})):!function(){e.touchedShape=null;var t=Math.min(10,180/(1.5*e.actionsData[e.currentEmotion].allActions.length)),n=e.graphContainers[e.currentEmotion].node(),i=u["default"].mouse(n),o=180*Math.atan2(2*i[1],i[0])/Math.PI+90,a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=-1,c=Number.POSITIVE_INFINITY,l=void 0;a/n.getBoundingClientRect().height>.5&&e.graphContainers[e.currentEmotion].selectAll("path").each(function(e,n){l=Math.abs(e.rotation-o),c>l&&t>=l&&(c=l,s=n)}),-1!==s&&e.graphContainers[e.currentEmotion].selectAll("path").each(function(e,t){t===s&&(r.touchedShape=this,r.onActionMouseClick(e,t))})}(),this.touchedShape&&(u["default"].event.stopImmediatePropagation(),u["default"].event.preventDefault())}},onContainerTouchEnd:function(e){u["default"].select("#actions ."+this.currentEmotion+" .graph-container").on("touchmove",null).on("touchend",null).on("touchcancel",null)},resetCallout:function(){p["default"].popupChange(),p["default"].changeCallout(this.currentEmotion,(0,g["default"])().getStr("emotionsData.metadata.actions.header"),(0,g["default"])().getStr("emotionsData.metadata.actions.body"))}}},{"../scss/variables.json":309,"./appStrings.js":314,"./dispatcher.js":317,"./states.js":337,d3:299,lodash:303,textures:306}],314:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){function r(e,n){if(!m)return"";var i=e.split("."),o=i.splice(0,1)[0];if("derived"===o)return u["default"].get(y,i.join("."));if(o="emotionsData"===o?p["default"]:"secondaryData"===o?g["default"]:null,!o)throw new Error("Invalid source specified at key '"+e+"'");if(t){var s=i[i.length-1];switch(s){case"header":case"body":case"name":case"desc":case"title":i[i.length-1]=s+"_mobile"}}var c=u["default"].get(p["default"],i.join(".")),l=void 0;if(c?o=p["default"]:o===g["default"]&&(c=u["default"].get(o,i.join("."))),o===p["default"])if("string"==typeof c||"boolean"==typeof c)l=m[c];else if(Array.isArray(c))l=c.map(function(t,n){var i=e+"["+n+"].";return"string"==typeof t?r(i+t):"object"===("undefined"==typeof t?"undefined":a(t))?Object.keys(t).reduce(function(e,t){return e[t]=r(i+t),e},{}):void 0});else{if("object"!==("undefined"==typeof c?"undefined":a(c))){if(n)return"";throw new Error("Key not found at "+e)}l="secondaryData"===e.split(".")[0]?Object.keys(c).reduce(function(t,n){return t[n]=r(e+"."+n),t},{}):c}return l||c||""}function o(e){var t="annex-"===e.substr(0,6);t&&(e=e.slice(6));var n=i({},e,r("secondaryData"+(t?".annex":"")+"."+e));return t?{annex:n}:n}function s(t){return t?e=t:e}function c(e){return e?t=e:t}function d(){return m?Promise.resolve(_):(0,l["default"])("strings/langs/"+e+".json",{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){m=e.reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){return e[t.key]=t.value,e},{}),h()})["catch"](function(){throw new Error("Language "+e+" not supported, or language file is malformed.")})}function h(){y={emotions:u["default"].values(f["default"].EMOTIONS).reduce(function(e,t){return e[t]=m[t+"_continent_header"],e},{}),sections:u["default"].values(f["default"].SECTIONS).reduce(function(e,t){return e[t]=m[t+"_section_name"],e},{})}}var m=v[e],y=void 0;return _={getStr:r,getSecondaryDataBlock:o,lang:s,screenIsSmall:c,loadStrings:d},d(),_}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n["default"]=function(e,t,n){return(!_||e&&_.lang()!==e||t&&_.screenIsSmall()!==t)&&o(e,t,n),_};var s=e("lodash"),u=r(s),c=e("isomorphic-fetch"),l=r(c),d=e("./dispatcher.js"),f=r(d),h=e("../static/emotionsData.json"),p=r(h),m=e("../static/secondaryData.json"),g=r(m),_=void 0,v=[]},{"../static/emotionsData.json":339,"../static/secondaryData.json":340,"./dispatcher.js":317,"isomorphic-fetch":301,lodash:303}],315:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("d3"),o=r(i),a=e("lodash"),s=r(a),u=e("./Continent.js"),c=r(u),l=e("./dispatcher.js"),d=r(l),f=e("./appStrings.js"),h=r(f),p=e("../scss/variables.json"),m=r(p),g=void 0,_=void 0,v=void 0,y=void 0,b=0;n["default"]={isInited:!1,isActive:!1,screenIsSmall:!1,init:function(e,t){var n=this;this.sectionContainer=e,this.screenIsSmall=t,this.update=this.update.bind(this),_=o["default"].select(e).append("svg").attr("width","100%").attr("height","100%").attr("xmlns:atlas","http://www.atlasofemotion.org"),this.labelContainer=o["default"].select(e).append("div").attr("class","label-container");var r=e.offsetWidth,i=e.offsetHeight,a=void 0;
this.opacityState={start:[0,130,0,0,-20],duration:[0,500,0,0,400],opacity:[0,0,0,0,0],activeEmotion:[0,1,0,0,1],lastEmotion:-1,maxNumVisible:this.screenIsSmall?5:3,durationBase:(this.screenIsSmall,400),durationSpread:this.screenIsSmall?800:100},this.elapsedToOpacity=o["default"].scale.linear().domain([0,.05,.25,.4,1]).range([0,.1,.9,.9,0]),a=this.defineContinentGeom(r,i);var u=this.calculateContinentTransforms();g=s["default"].values(d["default"].EMOTIONS).map(function(e){return new c["default"](e,_,a,u,n.screenIsSmall)}),this.screenIsSmall&&!function(){var e=Math.sqrt(r*r+i*i)/2;g.forEach(function(t){t.introSpreadRad=t.introSpreadMaxRad*e,t.introSpreadSize=t.introSpreadSizeMod||0})}();var l=o["default"].select(this.sectionContainer).append("div").classed("start-again",!0);l.append("h4").text((0,h["default"])().getStr("emotionsData.metadata.calm.caption")||"START OVER"),l.on("click",function(e){d["default"].navigate(d["default"].SECTIONS.CONTINENTS,null)});var f=o["default"].select(this.sectionContainer).append("div").classed("visit-annex",!0);f.append("h4").text((0,h["default"])().getStr("emotionsData.metadata.calm.secondary.header").toUpperCase()),f.on("click",function(e){d["default"].navigate(d["default"].SECTIONS.MORE,null,"annex")}),this.initLabels(this.labelContainer),d["default"].addListener(d["default"].EVENTS.POPUP_CLOSE_BUTTON_CLICKED,this.onPopupCloseButtonClicked.bind(this)),this.isInited=!0},initLabels:function(e){g.forEach(function(t){var n=e.selectAll(".emotion-label").data(g,function(e){return e.id}),r=n.enter().append("div").attr("class",function(e){return"emotion-label label show-only no-body "+e.id}).attr("data-popuptarget",function(e){return"calm:"+e.id}).attr("data-clip","1").style("left",function(e){return Math.round(v+e.x-e.size)+"px"}).style("top",function(e){return Math.round(y+e.y-17)+"px"});r.append("a").attr("href",function(e){return"#continents:"+e.id}).append("h3").text((0,h["default"])().getStr("emotionsData.metadata.calm.caption")||"START OVER")})},setEmotion:function(e){var t=this;return new Promise(function(e,n){t.openCallout(300),setTimeout(function(){e()},500)})},calculateContinentTransforms:function(){if(this.screenIsSmall)return[{x:-.23,y:-.13,size:.15,introSpreadMaxRad:.45,introSpreadSizeMod:1.5},{x:-.17,y:.03,size:.15,introSpreadMaxRad:.55,introSpreadSizeMod:1.5},{x:.06,y:-.18,size:.15,introSpreadMaxRad:.3,introSpreadSizeMod:1.5},{x:.12,y:.1,size:.15,introSpreadMaxRad:.65,introSpreadSizeMod:1.5},{x:.24,y:-.02,size:.15,introSpreadMaxRad:.45,introSpreadSizeMod:1.5}];var e=2,t=6;return[{x:.08*e,y:.15*e,size:.11*t},{x:-.37*e,y:.17*e,size:.13*t},{x:.04*e,y:-.26*e,size:.15*t},{x:-.19*e,y:-.02*e,size:.11*t},{x:.32*e,y:-.11*e,size:.13*t}]},open:function(){this.setActive(!0),this.openCallout(1e3),this.update()},close:function(){var e=this;return new Promise(function(t,n){e.setActive(!1),t()})},defineContinentGeom:function(e,t){return this.screenIsSmall?(v=m["default"].continents["centerX-small"]*e,y=m["default"].continents["centerY-small"]*t):(v=.55*e,y=m["default"].continents.centerY*t),{w:Math.min(e,t),h:Math.min(e,t),centerX:v,centerY:y}},onResize:function(e){var t=this;this.screenIsSmall=e;var n=this.sectionContainer.offsetWidth,r=this.sectionContainer.offsetHeight,i=void 0;i=this.defineContinentGeom(n,r),g.forEach(function(e){return e.onResize(i,t.screenIsSmall)});var o=this.labelContainer.selectAll(".emotion-label").data(g,function(e){return e.id});o.style("left",function(e){return Math.round(v+e.x-e.size)+"px"}).style("top",function(e){return Math.round(y+e.y-17)+"px"})},setActive:function(e){this.isActive=e,o["default"].select("#calm").on("click",e?this.onBackgroundClick:null,!1),o["default"].select(".emotion-menu").classed("hidden",e),e||g.forEach(function(e,t){e.d3Selection.style("opacity",1).style("display","block")})},calcPercentElapsed:function(e,t,n){var r=(e-t)/n;return r>0&&1>r?(e-t)/n:0},spawnNew:function(e,t){e.activeEmotion[t]=1,e.start[t]=b,e.duration[t]=e.durationBase*Math.random()+e.durationSpread},update:function(e){for(var t={time:e,someContinentIsHighlighted:!1},n=this.opacityState,r=0;5>r;r++){if(0==n.activeEmotion[r]&&n.lastEmotion!=r){var i=o["default"].sum(n.activeEmotion),a=Math.random();(.0015>a&&i<n.maxNumVisible-1||1e-4>a&&i<n.maxNumVisible||0==i)&&this.spawnNew(n,r)}1==n.activeEmotion[r]&&n.start[r]+n.duration[r]<b&&(n.activeEmotion[r]=0,n.opacity[r]=0,n.lastEmotion=r),0!=n.activeEmotion[r]&&(n.opacity[r]=this.elapsedToOpacity(this.calcPercentElapsed(b,n.start[r],n.duration[r])),g[r].update(t,b))}g.forEach(function(e,t){e.d3Selection.style("opacity",n.opacity[t]).style("display",function(){return 0==n.opacity[t]?"none":"block"})}),b++,this.isActive&&window.requestAnimationFrame(this.update)},onBackgroundClick:function(e){o["default"].event&&o["default"].event.stopImmediatePropagation(),g.forEach(function(e){e.highlightLevel=c["default"].HIGHLIGHT_LEVELS.NONE}),d["default"].popupChange()},onPopupCloseButtonClicked:function(){this.onBackgroundClick()},openCallout:function(e){var t=this;this.calloutTimeout||(this.calloutTimeout=setTimeout(function(){t.setCallout(),t.calloutTimeout=null},e))},setCallout:function(){d["default"].changeCallout(null,(0,h["default"])().getStr("emotionsData.metadata.calm.header"),(0,h["default"])().getStr("emotionsData.metadata.calm.body"))}}},{"../scss/variables.json":309,"./Continent.js":312,"./appStrings.js":314,"./dispatcher.js":317,d3:299,lodash:303}],316:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=(e.y+e.label.y+S)/S;n>1.5?(this.style.top=null,this.style.bottom=-Math.round(S+e.y+e.label.y)+"px"):(this.style.top=Math.round(S+e.y+e.label.y)+"px",this.style.bottom=null)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("lodash"),a=r(o),s=e("d3"),u=r(s),c=e("tween.js"),l=r(c),d=e("./dispatcher.js"),f=r(d),h=e("./Circle.js"),p=(r(h),e("./Continent.js")),m=r(p),g=e("./appStrings.js"),_=r(g),v=e("../scss/variables.json"),y=r(v),b=void 0,w=void 0,x=void 0,S=void 0,E=0,M=void 0,j={isInited:!1,isActive:!1,screenIsSmall:!1,displayingIntro:!1,closeDelay:1e3*y["default"].ui.labels.duration["in"],init:function(e,t){var n=this;this.sectionContainer=e,this.screenIsSmall=t,this.update=this.update.bind(this),this.defaultEmotionHelper=this.getDefaultEmotionHelper(),this.labelContainer=u["default"].select(e).append("div").attr("class","label-container"),w=u["default"].select(e).append("svg").attr("width","100%").attr("height","100%");var r=e.offsetWidth,i=e.offsetHeight,o=void 0;this.screenIsSmall?(x=y["default"].continents["centerX-small"]*r,S=y["default"].continents["centerY-small"]*i):(x=y["default"].continents.centerX*r,S=y["default"].continents.centerY*i),o={w:r,h:i,centerX:x,centerY:S};var s=this.calculateContinentTransforms();b=a["default"].values(f["default"].EMOTIONS).map(function(e){return new m["default"](e,w,o,s,n.screenIsSmall)}),this.initLabels(this.labelContainer),this.initMobileElements(e,this.labelContainer),Object.keys(this.transitions).forEach(function(e){n.transitions[e]=n.transitions[e].bind(n)}),this.onContinentMouseEnter=this.onContinentMouseEnter.bind(this),this.onContinentMouseLeave=this.onContinentMouseLeave.bind(this),this.onContinentClick=this.onContinentClick.bind(this),this.isInited=!0},setEmotion:function(e,t){var n=this;return new Promise(function(r,i){if(M){var o=b.find(function(e){return e.id===M});if(e)if(n.zoomedInContinent)n.zoomedInContinent!==t&&n.transitions.gatherContinent(n.zoomedInContinent,!0),n.transitions.gatherContinent(M),setTimeout(function(){n.transitions.scaleContinents(b.map(function(e){return e.id}),1),n.transitions.panToContinent(null,M),f["default"].changeCallout(null,(0,_["default"])().getStr("emotionsData.metadata.continents.header"),(0,_["default"])().getStr("emotionsData.metadata.continents.body")),r()},1e3*y["default"].continents.spread.delay.out);else{o.highlightLevel=m["default"].HIGHLIGHT_LEVELS.UNSELECTED;var a=b.find(function(t){return t.id===e});n.setContinentHighlight(a,m["default"].HIGHLIGHT_LEVELS.SELECTED),f["default"].changeCallout(null,(0,_["default"])().getStr("emotionsData.metadata.continents.header"),(0,_["default"])().getStr("emotionsData.metadata.continents.body")),r()}else b.forEach(function(e){return e.highlightLevel=m["default"].HIGHLIGHT_LEVELS.NONE}),n.setContinentHighlight(null,m["default"].HIGHLIGHT_LEVELS.NONE),f["default"].changeCallout(null,(0,_["default"])().getStr("emotionsData.metadata.continents.header"),(0,_["default"])().getStr("emotionsData.metadata.continents.body")),n.zoomedInContinent?(n.transitions.gatherContinent(n.zoomedInContinent,!0),n.transitions.panToContinent(null,M,!0),setTimeout(function(){var e=b.map(function(e){return e.id});n.transitions.scaleContinents(e,0,void 0,0).then(function(){return n.transitions.scaleContinents(e,1)}).then(function(){r()})},1)):r()}else if(e)if(n.zoomedInContinent)n.transitions.gatherContinent(t),setTimeout(function(){n.transitions.scaleContinents(b.map(function(e){return e.id}),1),n.transitions.panToContinent(null,t),f["default"].changeCallout(null,(0,_["default"])().getStr("emotionsData.metadata.continents.header"),(0,_["default"])().getStr("emotionsData.metadata.continents.body")),r()},1e3*y["default"].continents.spread.delay.out);else{var s=b.find(function(t){return t.id===e});n.setContinentHighlight(s,m["default"].HIGHLIGHT_LEVELS.SELECTED),f["default"].changeCallout(null,(0,_["default"])().getStr("emotionsData.metadata.continents.header"),(0,_["default"])().getStr("emotionsData.metadata.continents.body")),r()}else n.screenIsSmall||f["default"].changeCallout(null,(0,_["default"])().getStr("emotionsData.metadata.continents.header"),(0,_["default"])().getStr("emotionsData.metadata.continents.body")),r();var u=e?(0,_["default"])().getStr("emotionsData.emotions."+e+".continent.desc"):null;f["default"].popupChange("continents",e,u),M=e,n.zoomedInContinent=null})},getDefaultEmotionHelper:function(){var e=Object.keys(f["default"].EMOTIONS),t=e[Math.floor(Math.random()*e.length)];return f["default"].EMOTIONS[t]},initLabels:function(e){var t=this,n=e.selectAll(".emotion-label").data(b,function(e){return e.id});if(this.screenIsSmall)return void n.style("display","none");var r=n.enter().append("div").attr("class",function(e){return"emotion-label "+e.id}).attr("data-popuptarget",function(e){return"continents:"+e.id}).classed("default-interactive-helper",function(e){return e.name.toLowerCase()===t.defaultEmotionHelper.toLowerCase()}).style("left",function(e){return Math.round(x+e.x+e.label.x)+"px"}).each(i);r.append("a").attr("href",function(e){return"#continents:"+e.id}).append("h3").text(function(e){return e.i18nName.toUpperCase()})},initMobileElements:function(e,t){t.append("div").classed("intro-element message",!0).append("p").html((0,_["default"])().getStr("emotionsData.metadata.intro.body_mobile")),u["default"].select(e).append("div").classed("intro-element button",!0).text("Let's get started")},calculateContinentTransforms:function(){return this.screenIsSmall?[{x:-.23,y:-.13,size:.15,introSpreadMaxRad:.55,introSpreadSizeMod:1},{x:-.17,y:.03,size:.15,introSpreadMaxRad:.7,introSpreadSizeMod:1},{x:.06,y:-.18,size:.15,introSpreadMaxRad:.4,introSpreadSizeMod:1},{x:.12,y:.1,size:.15,introSpreadMaxRad:.8,introSpreadSizeMod:1},{x:.24,y:-.02,size:.15,introSpreadMaxRad:.55,introSpreadSizeMod:1}]:void 0},open:function(e){this.setActive(!0),this.setInteractive(!0),e&&e.introModalIsOpen&&this.setContinentIntroPositions(!0),this.update()},close:function(e){var t=this;return new Promise(function(n,r){var i=b.find(function(e){return e.id===M});e===f["default"].SECTIONS.STATES&&i&&i.highlightLevel===m["default"].HIGHLIGHT_LEVELS.SELECTED?!function(){t.closeDelay=1e3*y["default"].ui.labels.duration["in"];var e=1,r=1e3*y["default"].continents.spread.delay["in"],o=1e3*y["default"].continents.spread.duration["in"];t.setInteractive(!1),t.transitions.scaleContinents(b.filter(function(e){return e!==i}).map(function(e){return e.id}),0),t.transitions.panToContinent(i.id),setTimeout(function(){e=t.transitions.focusZoomedOutContinent(i.id)},r),setTimeout(function(){t.transitions.spreadFocusedContinent(i.id,e)},r),setTimeout(function(){t.setActive(!1),t.zoomedInContinent=i.id},r+o),setTimeout(function(){n()},r+o-t.closeDelay)}():(t.closeDelay=0,t.setActive(!1),t.setInteractive(!1),n())})},onResize:function(e){var t=this;this.screenIsSmall=e;var n=this.sectionContainer.offsetWidth,r=this.sectionContainer.offsetHeight,o=void 0;this.screenIsSmall?(x=y["default"].continents["centerX-small"]*n,S=y["default"].continents["centerY-small"]*r):(x=y["default"].continents.centerX*n,S=y["default"].continents.centerY*r),o={w:n,h:r,centerX:x,centerY:S},b.forEach(function(e){return e.onResize(o,t.screenIsSmall)});var a=this.labelContainer.selectAll(".emotion-label").data(b,function(e){return e.id});a.style("left",function(e){return Math.round(x+e.x+e.label.x)+"px"}).each(i)},setActive:function(e){var t=this;this.isActive=e,b.forEach(function(n,r){n.d3Selection.on("mouseenter",e?t.onContinentMouseEnter:null).on("mouseleave",e?t.onContinentMouseLeave:null).on("click",e?t.onContinentClick:null,!0)}),this.labelContainer.selectAll(".emotion-label").classed("visible",e).on({mouseenter:e?t.onContinentMouseEnter:null,mouseleave:e?t.onContinentMouseLeave:null})},setInteractive:function(e){u["default"].select("#main").on("click",e?this.onBackgroundClick:null,!1)},setContinentIntroPositions:function(e){if(this.displayingIntro!==e){this.displayingIntro=e;var t=this.sectionContainer.offsetWidth,n=this.sectionContainer.offsetHeight,r=Math.sqrt(t*t+n*n)/2;b.forEach(function(t){e?t.addTween({introSpreadRad:t.introSpreadMaxRad*r,introSpreadSize:t.introSpreadSizeMod||0},1e3*y["default"].continents.introSpread.duration.out,1e3*y["default"].continents.introSpread.delay.out,l["default"].Easing.Cubic.InOut):t.addTween({introSpreadRad:0,introSpreadSize:0},1e3*y["default"].continents.introSpread.duration["in"],1e3*y["default"].continents.introSpread.delay["in"],l["default"].Easing.Cubic.InOut)}),e?this.screenIsSmall&&f["default"].changeCallout():f["default"].changeCallout(null,(0,_["default"])().getStr("emotionsData.metadata.continents.header"),(0,_["default"])().getStr("emotionsData.metadata.continents.body")),this.screenIsSmall&&this.setMobileIntroVisibility(e)}},setMobileIntroVisibility:function(e){this.labelContainer.select(".intro-element.message").classed("visible",e);var t=u["default"].select(".intro-element.button").style("display","block");setTimeout(function(){t.classed("visible",e)},1),t.on("click",e?function(e){f["default"].navigate(f["default"].HOME)}:null)},setLabelVisibility:function(e){this.labelContainer.selectAll(".emotion-label").classed("visible",e)},update:function(e){this.tweens&&a["default"].values(this.tweens).forEach(function(t){t.update(e)});var t={time:e,someContinentIsHighlighted:b.some(function(e){return e.isHighlighted})};b.forEach(function(e){return e.update(t,E)}),E++,this.isActive&&window.requestAnimationFrame(this.update)},transitions:{focusZoomedOutContinent:function(e){var t=b.find(function(t){return t.id===e}),n=.45*w.node().getBoundingClientRect().height/t.size;return t.addTween({scaleX:n,scaleY:n},1e3*y["default"].continents.spread.duration["in"],0,l["default"].Easing.Quadratic.InOut),n},focusZoomedInContinent:function(e){},panToContinent:function(e,t,n){this.panTweenTimeout&&clearTimeout(this.panTweenTimeout);var r=S-(this.sectionContainer.offsetHeight*(parseInt(y["default"].states.containers.bottom.replace("%",""))/100)+50),i=b.find(function(t){return t.id===e}),o=b.find(function(e){return e.id===t}),a={x:x-(o?o.x:0),y:S-(o?o.y-r:0)},s=x,u=S;i&&(s-=i.x,u-=i.y-r);var c=void 0,d=void 0,f=void 0,h=void 0;n?(c=0,d=0,f=l["default"].Easing.Linear.None,h=l["default"].Easing.Linear.None):e?(c=1e3*y["default"].continents.panX.duration["in"],d=1e3*y["default"].continents.panY.duration["in"],f=l["default"].Easing.Quadratic.InOut,h=l["default"].Easing.Quadratic.InOut):(c=1e3*y["default"].continents.panX.duration.out,d=1e3*y["default"].continents.panY.duration.out,f=l["default"].Easing.Quadratic.In,h=l["default"].Easing.Quadratic.Out),this.addTween(a,{x:s},c,f).onUpdate(function(){var e=this;b.forEach(function(t){t.centerX=e.x})}).start(),this.addTween(a,{y:u},d,h).onUpdate(function(){var e=this;b.forEach(function(t){t.centerY=e.y})}).start()},spreadFocusedContinent:function(e,t){var n=b.find(function(t){return t.id===e});n.spreadCircles(w.node(),t)},gatherContinent:function(e,t){var n=b.find(function(t){return t.id===e});n.gatherCircles(t)},scaleContinents:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=arguments.length<=3||void 0===arguments[3]?1200:arguments[3],i=r;return n&&Object.keys(n).length&&(i=r+(a["default"].max(a["default"].values(n))||0)),new Promise(function(o,a){var s=b.filter(function(t){return~e.indexOf(t.id)});s.forEach(function(e){(t&&e.spawnConfig.freq<0||!t&&e.spawnConfig.freq>0)&&(e.spawnConfig.freq*=-1),e.addTween({scaleX:t,scaleY:t},r+(n[e.id]||0),0,l["default"].Easing.Quadratic.InOut)}),setTimeout(function(){o()},i)})}},addTween:function(e,t,n){var r=this,i=arguments.length<=3||void 0===arguments[3]?l["default"].Easing.Linear.None:arguments[3];this.tweens||(this.tweens={});var o=Object.keys(t).sort().join(",");return this.tweens[o]&&this.tweens[o].stop(),this.tweens[o]=new l["default"].Tween(e).to(t,n).onComplete(function(){delete r.tweens[o]}).easing(i),this.tweens[o]},onContinentMouseEnter:function(e){e.highlightLevel!==m["default"].HIGHLIGHT_LEVELS.SELECTED&&(this.setContinentHighlight(e,m["default"].HIGHLIGHT_LEVELS.HIGHLIGHTED),this.mouseLeaveTimeout&&clearTimeout(this.mouseLeaveTimeout))},onContinentMouseLeave:function(e){var t=this,n=80;this.mouseLeaveTimeout=setTimeout(function(){t.unsetContinentHighlight(e)},n)},onContinentClick:function(e){u["default"].event&&u["default"].event.stopImmediatePropagation(),this.mouseLeaveTimeout&&clearTimeout(this.mouseLeaveTimeout),f["default"].navigate(f["default"].SECTIONS.CONTINENTS,e.id)},onBackgroundClick:function(){this.mouseLeaveTimeout&&clearTimeout(this.mouseLeaveTimeout),f["default"].navigate(f["default"].HOME)},unsetContinentHighlight:function(e){var t=void 0;if(b.some(function(n){return n===e||n.highlightLevel!==m["default"].HIGHLIGHT_LEVELS.HIGHLIGHTED&&n.highlightLevel!==m["default"].HIGHLIGHT_LEVELS.SELECTED?void 0:(t=n,!0)}),t){var n=t.highlightLevel===m["default"].HIGHLIGHT_LEVELS.SELECTED?m["default"].HIGHLIGHT_LEVELS.UNSELECTED:m["default"].HIGHLIGHT_LEVELS.UNHIGHLIGHTED;e&&e.highlightLevel!==m["default"].HIGHLIGHT_LEVELS.SELECTED&&(e.highlightLevel=n)}else!function(){var t=e.highlightLevel===m["default"].HIGHLIGHT_LEVELS.SELECTED?m["default"].HIGHLIGHT_LEVELS.UNSELECTED:m["default"].HIGHLIGHT_LEVELS.NONE;b.forEach(function(e){e.highlightLevel!==m["default"].HIGHLIGHT_LEVELS.SELECTED&&(e.highlightLevel=t)})}();this.setLabelStates()},setContinentHighlight:function(e,t){var n=void 0;n=t===m["default"].HIGHLIGHT_LEVELS.SELECTED||b.some(function(e){return e.highlightLevel===m["default"].HIGHLIGHT_LEVELS.SELECTED})?m["default"].HIGHLIGHT_LEVELS.UNSELECTED:m["default"].HIGHLIGHT_LEVELS.UNHIGHLIGHTED,e&&b.forEach(function(r){r===e?r.highlightLevel=t:r.highlightLevel!==m["default"].HIGHLIGHT_LEVELS.SELECTED&&(r.highlightLevel=n)}),this.setLabelStates()},setLabelStates:function(){if(this.labelContainer){var e=b.filter(function(e){return e.highlightLevel===m["default"].HIGHLIGHT_LEVELS.SELECTED}),t=b.filter(function(e){return e.highlightLevel===m["default"].HIGHLIGHT_LEVELS.HIGHLIGHTED}),n=this.labelContainer.selectAll(".emotion-label");n.classed("highlighted",!1).classed("muted",!1).classed("selected",!1),(e.length||t.length)&&(n.classed("muted",function(e){return e.highlightLevel!==m["default"].HIGHLIGHT_LEVELS.HIGHLIGHTED&&e.highlightLevel!==m["default"].HIGHLIGHT_LEVELS.SELECTED}).classed("highlighted",function(e){return e.highlightLevel===m["default"].HIGHLIGHT_LEVELS.HIGHLIGHTED}).classed("selected",function(e){return e.highlightLevel===m["default"].HIGHLIGHT_LEVELS.SELECTED}),this.labelContainer.select(".default-interactive-helper").classed("default-interactive-helper",!1))}}};n["default"]=j},{"../scss/variables.json":309,"./Circle.js":311,"./Continent.js":312,"./appStrings.js":314,"./dispatcher.js":317,d3:299,lodash:303,"tween.js":308}],317:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=e("events"),o={EVENTS:{NAVIGATE:"navigate",NAVIGATE_COMPLETE:"navigateComplete",CHANGE_EMOTION_STATE:"changeEmotionState",CHANGE_CALLOUT:"changeCallout",MODAL_CHANGE:"modalChange",POPUP_CHANGE:"popupChange",POPUP_CLOSE_BUTTON_CLICKED:"popupCloseButtonClicked"},SECTIONS:{CONTINENTS:"continents",STATES:"states",ACTIONS:"actions",TRIGGERS:"triggers",MOODS:"moods",CALM:"calm",MORE:"more"},HOME:"home",EMOTIONS:{ANGER:"anger",FEAR:"fear",DISGUST:"disgust",SADNESS:"sadness",ENJOYMENT:"enjoyment"},DEFAULT_EMOTION:"anger",MORE_INFO:{title:"More Information",items:[{label:"About this Atlas",page:"about"},{label:"The Annex",page:"annex",pageName:"Annex"},{label:"Donate",page:"donate"},{label:"EmoTrak",page:"emotrak"},{label:"Additional Resources",page:"further"}]},ANNEX_SECTIONS:["annex-episode-timeline","annex-partially-charted","annex-traits","annex-signals","annex-psychopathologies","annex-scientific-basis","annex-impediment-antidote","annex-intrinsic-remedial"],ANNEX_DATA_2_PAGE:{psychopathology:"annex-psychopathologies","personality-trait":"annex-traits",signals:"annex-signals","partially-charted":"annex-partially-charted","scientific-basis":"annex-scientific-basis","triggers-timeline":"annex-episode-timeline","impediment-antidote":"annex-impediment-antidote","intrinsic-or-intentional":"annex-intrinsic-remedial"},navigate:function(e,t,n){var r=t||n;if(e&&!this.validateSection(e)&&e!==this.HOME)throw new Error('Invalid section "'+e+'".');if(t&&!this.validateEmotion(t))throw new Error('Invalid emotion "'+t+'".');this.emit(this.EVENTS.NAVIGATE,e,r)},changeCallout:function(e,t,n){this.emit(this.EVENTS.CHANGE_CALLOUT,e,t,n)},popupChange:function(e,t,n,r){this.emit(this.EVENTS.POPUP_CHANGE,e,t,n,r)},popupCloseButtonClicked:function(e,t){this.emit(this.EVENTS.POPUP_CLOSE_BUTTON_CLICKED,e,t)},setEmotionState:function(e,t){this.emit(this.EVENTS.CHANGE_EMOTION_STATE,e,t)},validateSection:function(e){var t=this;return Object.keys(this.SECTIONS).some(function(n){return t.SECTIONS[n]===e})},validateEmotion:function(e){var t=this;return Object.keys(this.EMOTIONS).some(function(n){return t.EMOTIONS[n]===e})},validateMorePage:function(e){var t=this;return e?this.MORE_INFO.items.some(function(n){return n.page===e?!0:0===e.indexOf("annex")&&t.ANNEX_SECTIONS.indexOf(e)>-1}):!1},getMorePageName:function(e){if(0===e.indexOf("annex")&&this.ANNEX_SECTIONS.indexOf(e)>-1)return"Annex";var t=this.MORE_INFO.items.filter(function(t){return t.page===e});return t.length?t[0].pageName||t[0].label:""}};r(o,i.EventEmitter.prototype),n["default"]=o},{events:300}],318:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("lodash"),o=r(i),a=e("./dispatcher.js"),s=r(a),u=e("./appStrings.js"),c=r(u),l=e("../scss/variables.json"),d=(r(l),"Go to Atlas"),f="Back",h="Take a tour",p="is universal",m="Why an Atlas?",g="Get started!",_="Left",v="Right",y="Down";n["default"]={modalContainer:null,pageContainer:null,setModalVisibility:null,pages:[],paginationFooter:null,currentPage:Number.NaN,isSettingPage:!1,init:function(e,t){this.modalContainer=e,this.setModalVisibility=t,this.pageContainer=document.createElement("div"),this.pageContainer.classList.add("page-container"),this.modalContainer.appendChild(this.pageContainer),this.initPages();var n=document.createElement("div");n.classList.add("close-button"),this.modalContainer.appendChild(n),this.setActive(!0),this.setCurrentPage(0)},initPages:function(){var e=this,t=["overview","navigation","research"];this.pages=this.pages.concat((0,c["default"])().getStr("emotionsData.metadata.intro.steps").map(function(n,r){var i=document.createElement("div");i.classList.add("page",t[r]);var o=document.createElement("h2");o.classList.add("headline"),o.textContent=n.header;var a=document.createElement("p");a.classList.add("body"),a.innerHTML=n.body;var s=document.createElement("p");return s.classList.add("body","two"),s.innerHTML=n.caption,i.appendChild(o),i.appendChild(a),n.caption&&!~n.caption.indexOf("intro_caption")&&i.appendChild(s),e.pageContainer.appendChild(i),i}));var n=this.pages[0],r=(n.querySelector(".body"),document.createElement("div"));r.classList.add("footer");var i=document.createElement("h3");i.classList.add("button","exit","cover"),i.textContent='<a href="#">'+d+"</a>",r.appendChild(i);var a=document.createElement("h3");a.classList.add("button","more","cover"),a.textContent=h,r.appendChild(a),n.appendChild(r);var u=this.pages[1],l=document.createElement("img");l.src="./img/navigate.png",l.style.width="100%",u.appendChild(l);var b=document.createElement("div");b.classList.add("nav-diagram-labels");var w=document.createElement("p");w.classList.add("left","nav-label"),w.textContent=_,b.appendChild(w);var x=document.createElement("p");x.classList.add("right","nav-label"),x.textContent=v,b.appendChild(x);var S=document.createElement("p");S.classList.add("down","nav-label"),S.textContent=y,b.appendChild(S),u.appendChild(b);var E=document.createElement("div");E.classList.add("footer");var M=document.createElement("h3");M.classList.add("button","pagination","cover"),M.textContent=f,M.setAttribute("data-page-id",0),E.appendChild(M);var j=document.createElement("h3");j.classList.add("button","pagination","cover"),j.textContent=m,j.setAttribute("data-page-id",2),E.appendChild(j),u.appendChild(E);var C=this.pages[2],k=(0,c["default"])().getStr("secondaryData.annex.scientific-basis.content"),L=function(e){var t=k.find(function(t){return-1!==t.desc.toLowerCase().indexOf(e)});return t?t.name:""},A=(L("universal emotion"),o["default"].values(s["default"].EMOTIONS).reduce(function(e,t){return e[t]=L("enjoyment"===t?"happiness":t),e},{})),T=document.createElement("div"),I=function(e){return e[0].toUpperCase()+e.substr(1)};T.classList.add("survey-results"),o["default"].values(s["default"].EMOTIONS).forEach(function(e){var t=document.createElement("div");t.classList.add("viz");var n=document.createElement("div");n.classList.add("bar",e),n.style.height=A[e],n.style.top=97-parseInt(A[e].replace("%",""))+"%";var r=document.createElement("p");r.innerHTML='<span class="big-num">'+A[e]+"</span>"+I(e)+" "+p,t.appendChild(n),t.appendChild(r),T.appendChild(t)}),C.appendChild(T),C.appendChild(C.querySelector(".two"));var O=document.createElement("div");O.classList.add("footer");var N=document.createElement("h3");N.classList.add("button","pagination","cover"),N.textContent=f,N.setAttribute("data-page-id",1),O.appendChild(N);var P=document.createElement("h3");P.classList.add("button","exit","cover"),P.textContent=g,O.appendChild(P),C.appendChild(O)},setActive:function(e){var t=this;this.modalContainer.addEventListener("mouseover",function(e){e.target.classList.contains("button")&&parseInt(e.target.dataset.pageId)!==t.currentPage&&(e.target.classList.add("active"),e.stopImmediatePropagation())}),this.modalContainer.addEventListener("mouseout",function(e){e.target.classList.contains("button")&&parseInt(e.target.dataset.pageId)!==t.currentPage&&(e.target.classList.remove("active"),e.stopImmediatePropagation())}),this.modalContainer.addEventListener("click",function(e){e.target.classList.contains("button")?(e.target.classList.contains("exit")?s["default"].navigate(s["default"].HOME):e.target.classList.contains("more")?t.setCurrentPage(1):e.target.classList.contains("pagination")&&t.setCurrentPage(parseInt(e.target.dataset.pageId)),e.stopImmediatePropagation()):e.target.classList.contains("close-button")&&t.setModalVisibility(!1)})},setExitButtonText:function(e){var t=this.modalContainer.querySelector(".button.exit");t&&(t.textContent=e?d:f)},setCurrentPage:function(e){isNaN(e)||e!==this.currentPage&&(this.isSettingPage||(this.modalContainer.classList[e?"add":"remove"]("pages"),this.pages.forEach(function(t,n){return t.classList[n===e?"add":"remove"]("visible","focused")}),this.currentPage=e))}}},{"../scss/variables.json":309,"./appStrings.js":314,"./dispatcher.js":317,lodash:303}],319:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}e("babel-polyfill");var i=e("./App.js"),o=r(i);(0,o["default"])(document.getElementById("main"))},{"./App.js":310,"babel-polyfill":1}],320:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("d3"),o=r(i),a=e("lodash"),s=r(a),u=e("./dispatcher.js"),c=r(u),l=e("./appStrings.js"),d=r(l),f=e("../scss/variables.json"),h=r(f),p=e("./states.js"),m=r(p),g=e("./actions.js"),_=r(g);n["default"]={isInited:!1,screenIsSmall:!1,currentEmotion:null,moodsData:null,backgroundSections:[m["default"],_["default"]],calloutActive:!1,moodCircleRadii:[1.15,.95,.75],init:function(e,t){this.sectionContainer=e,this.screenIsSmall=t,this.onElementClick=this.onElementClick.bind(this),this.labelContainer=o["default"].select(e).append("div").attr("class","label-container"),this.initMoodIntensifiers(),this.initLabels(this.labelContainer),this.isInited=!0},resizeMoodIntesifiers:function(){var e=this.sectionContainer.offsetWidth,t=this.sectionContainer.offsetHeight,n=o["default"].min([e,t])/2;this.moodCircles.attr("width",e).attr("height",t),this.resizeMoodCircles(e,t,n),this.resizeRadialGradients(e,t,n)},resizeMoodCircles:function(e,t,n){var r=this.screenIsSmall;this.moodCircles.selectAll(".moodCircle").attr({cx:e/2,cy:r?.4*t:t/2,r:function(e){return n*e}})},resizeRadialGradients:function(e,t,n){var r=this.screenIsSmall;this.moodCircleRadii.forEach(function(i,a){o["default"].selectAll(".moods-defs").selectAll(".radial-gradient-"+a).attr({cx:e/2,cy:r?.4*t:t/2,r:function(e){return n*i}})})},initMoodIntensifiers:function(){var e=this,t=this.sectionContainer.offsetWidth,n=this.sectionContainer.offsetHeight;this.moodCircles=o["default"].select(this.sectionContainer).append("svg").attr("class","moods-overlay-container");var r=o["default"].min([t,n])/2;this.moodCircles.attr("width",t).attr("height",n),this.moodCircles.selectAll(".moodCircle").data(this.moodCircleRadii).enter().append("g").append("circle").attr("class",function(e,t){return"moodCircle circle"+t}).on("mouseover",this.screenIsSmall?null:function(e,t){0==o["default"].selectAll(".label").filter(".popped")[0].length&&(o["default"].selectAll(".moodCircle").classed("highlight"+t,!0),o["default"].selectAll(".label").classed("showBorder",!0))}).on("mouseout",this.screenIsSmall?null:function(e,t){0==o["default"].selectAll(".label").filter(".popped")[0].length&&(o["default"].selectAll(".moodCircle").classed("highlight"+t,!1),o["default"].selectAll(".label").classed("showBorder",!1))}).on("click",function(t,n){(e.screenIsSmall||2===n)&&e.onElementClick()}),this.resizeMoodCircles(t,n,r),this.initGradientDefs(t,n,r)},initGradientDefs:function(e,t,n){var r=[{emotion:"anger",data:[{offset:"0%",color:"rgba(228, 135, 102, 0.1)"},{offset:"60%",color:"rgba(214, 50, 60, .8)"},{offset:"100%",color:"rgba(204, 28, 43, 1.0)"}]},{emotion:"fear",data:[{offset:"0%",color:"rgba(248, 58, 248, 0.1)"},{offset:"60%",color:"rgba(180, 45, 160, .8)"},{offset:"100%",color:"rgba(143, 39, 139, 1.0)"}]},{emotion:"disgust",data:[{offset:"0%",color:"rgba(0, 142, 69, 0.1)"},{offset:"60%",color:"rgba(0, 110, 58, .8)"},{offset:"100%",color:"rgba(0, 104, 55, 1.0)"}]},{emotion:"sadness",data:[{offset:"0%",color:"rgba(200, 220, 240, 0.1)"},{offset:"60%",color:"rgba(90, 110, 180, .8)"
},{offset:"100%",color:"rgba(64, 70, 164, 1.0)"}]},{emotion:"enjoyment",data:[{offset:"0%",color:"rgba(241, 196, 83, 0.1)"},{offset:"60%",color:"rgba(246, 150, 40, .8)"},{offset:"100%",color:"rgba(248, 136, 29, 1.0)"}]}],i=o["default"].select(this.sectionContainer).append("svg").classed("moods-defs",!0).append("defs");this.moodCircleRadii.forEach(function(e,t){i.selectAll(".radialGradient").data(r).enter().append("radialGradient").attr("xlink:href",function(e){"#moods-"+e.emotion+"-radial-gradient-"+t}).attr("id",function(e){return"moods-"+e.emotion+"-radial-gradient-"+t}).attr("gradientUnits","userSpaceOnUse").attr("class","radial-gradient-"+t).selectAll("stop").data(function(e){return e.data}).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color})}),this.resizeRadialGradients(e,t,n)},initLabels:function(){var e=this.labelContainer.append("div").attr("class","emotion-label label");e.append("h3"),e.on("click",this.onElementClick)},updateLabel:function(){var e=(0,d["default"])().getStr("emotionsData.emotions."+this.currentEmotion);if(this.currentEmotion&&e&&!this.screenIsSmall){var t=(0,d["default"])().getStr("emotionsData.emotions."+this.currentEmotion+".moods[0].name"),n=this.labelContainer.select(".emotion-label");n.attr("class","emotion-label label "+this.currentEmotion+" visible default-interactive-helper").attr("data-popuptarget","moods:"+this.currentEmotion),n.select("h3").text(t.toUpperCase())}},setEmotion:function(e){var t=this;return new Promise(function(n,r){function i(){o["default"].selectAll(".moodCircle").classed("fadeOutIn",!1)}o["default"].selectAll(".moodCircle").classed("fadeOutIn",!1),o["default"].selectAll(".moodCircle").classed("fadeOutIn",!0),t.circleTimeout=setTimeout(function(){i()},1500),~s["default"].values(c["default"].EMOTIONS).indexOf(e)||(e="anger");var a=t.currentEmotion;t.currentEmotion=e,a&&t.moodCircles.selectAll("circle").classed(a,!1);var u=t.currentEmotion;t.moodCircles.selectAll("circle").classed(t.currentEmotion,!0).attr("fill",function(e,t){return"url(#moods-"+u+"-radial-gradient-"+t+")"}),a!==t.currentEmotion&&t.updateLabel(),t.labelContainer.select(".emotion-label").classed("visible",!1),t.manageTextTransition(500),setTimeout(function(){n()},h["default"].states.backgrounded.duration["in"])})},open:function(){this.manageTextTransition(1500)},close:function(){var e=this;return this.labelContainer.select(".emotion-label").classed("visible",!1),this.setBackgroundListener(!1),new Promise(function(t,n){clearTimeout(e.calloutTimeout),t()})},onResize:function(e){this.screenIsSmall=e,this.resizeMoodIntesifiers()},setBackgroundListener:function(e){document.querySelector("#moods").removeEventListener("click",this.closeThings,!1),e&&document.querySelector("#moods").addEventListener("click",this.closeThings,!1)},onElementClick:function(e){o["default"].event&&(o["default"].event.preventDefault(),o["default"].event.stopImmediatePropagation());var t=!this.calloutActive,n=this.currentEmotion===c["default"].EMOTIONS.FEAR||this.currentEmotion===c["default"].EMOTIONS.DISGUST||this.currentEmotion===c["default"].EMOTIONS.SADNESS;this.screenIsSmall&&o["default"].selectAll(".moodCircle").each(function(e,r){this.classList[t?"add":"remove"]("highlight"+r),n&&this.classList[t?"add":"remove"]("mobile-lighten")}),this.setCallout(t)},manageTextTransition:function(e){var t=this;this.calloutTimeout||(this.calloutTimeout=setTimeout(function(){t.setCallout(!1),t.labelContainer.select(".emotion-label").classed("visible",!0),t.calloutTimeout=null},e))},setCallout:function(e){if(this.calloutActive=e,e){var t=this.screenIsSmall?(0,d["default"])().getStr("emotionsData.emotions."+this.currentEmotion+".moods[0].name"):this.currentEmotion,n=(0,d["default"])().getStr("emotionsData.emotions."+this.currentEmotion+".moods[0].desc");c["default"].popupChange("moods",t,n),this.setBackgroundListener(!0)}else c["default"].popupChange(),c["default"].changeCallout(this.currentEmotion,(0,d["default"])().getStr("emotionsData.metadata.moods.header"),(0,d["default"])().getStr("emotionsData.metadata.moods.body")),this.setBackgroundListener(!1)}}},{"../scss/variables.json":309,"./actions.js":313,"./appStrings.js":314,"./dispatcher.js":317,"./states.js":337,d3:299,lodash:303}],321:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.about,this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){if(this.wrapper){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");e.classList.add("tb"),t.classList.add("tb-row"),n.classList.add("tb-row"),t.appendChild(u.makeBlock(this.data.title,this.data.desc));var r=document.createElement("div");r.classList.add("sub-blocks"),this.data.subsections.forEach(function(e){~e.title.indexOf("about_header")||r.appendChild(u.makeBlock(e.title,e.desc))}),n.appendChild(r),n.appendChild(r),e.appendChild(t),e.appendChild(n),this.wrapper.appendChild(e)}},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active"),this.wrapper&&window.scrollTo(0,0)},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],322:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=i(o),s=e("lodash"),u=(i(s),e("smoothscroll")),c=(i(u),e("./utils.js")),l=r(c),d=e("../dispatcher.js"),f=(i(d),e("../../scss/variables.json"));i(f);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.annex["triggers-timeline"],this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.scrollContainer=this.sectionContainer.querySelector(".outer-wrapper"),this.setContent(),this.isInited=!0},setContent:function(){if(this.wrapper){this.sectionContainer.appendChild(l.makeAnnexBackNav(this.data.title)),this.insertChartImage(),this.wrapper.appendChild(l.makeTable(this.data.desc,this.data.content));var e=this.wrapper;this.data.footer.forEach(function(t){e.appendChild(l.makeTable(t,[]))})}},insertChartImage:function(){a["default"].select(this.wrapper).append("img").attr("src","./img/episodeTimeline.png")},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})},onResize:function(){}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303,smoothscroll:305}],323:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.annex["impediment-antidote"],this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){this.wrapper&&(this.sectionContainer.appendChild(u.makeAnnexBackNav(this.data.title)),this.wrapper.appendChild(u.makeTable(this.data.desc,this.data.emotions)))},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],324:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.annex["intrinsic-or-intentional"],this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){this.wrapper&&(this.sectionContainer.appendChild(u.makeAnnexBackNav(this.data.title)),this.wrapper.appendChild(u.makeTable(this.data.desc,this.data.emotions)))},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],325:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.annex["partially-charted"],this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){this.wrapper&&(this.sectionContainer.appendChild(u.makeAnnexBackNav(this.data.title)),this.wrapper.appendChild(u.makeTable(this.data.desc,this.data.emotions)))},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],326:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.annex.psychopathology,this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){this.wrapper&&(this.sectionContainer.appendChild(u.makeAnnexBackNav(this.data.title)),this.wrapper.appendChild(u.makeTable(this.data.desc,this.data.emotions)))},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],327:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.annex["scientific-basis"],this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){this.wrapper&&(this.sectionContainer.appendChild(u.makeAnnexBackNav(this.data.title)),this.wrapper.appendChild(u.makeTable(this.data.desc,[])),this.wrapper.appendChild(u.makeTable(this.data.contentIntro,this.data.content)),this.wrapper.appendChild(u.makeTable(this.data.footer[0],[])),this.wrapper.appendChild(u.makeTable(this.data.footer[1],[])))},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],328:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.annex.signals,this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){this.wrapper&&(this.sectionContainer.appendChild(u.makeAnnexBackNav(this.data.title)),this.wrapper.appendChild(u.makeTable(this.data.desc,this.data.emotions)))},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],329:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.annex["personality-trait"],this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){this.wrapper&&(this.sectionContainer.appendChild(u.makeAnnexBackNav(this.data.title)),this.wrapper.appendChild(u.makeTable(this.data.desc,this.data.emotions)))},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],330:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=(r(s),e("../dispatcher.js")),c=i(u),l=e("../../scss/variables.json");i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.annex,this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},makeButton:function(e){var t=document.createElement("button");return t.textContent=e.title,t.setAttribute("data-annexkey",e.key),t.addEventListener("click",function(t){c["default"].navigate(c["default"].SECTIONS.MORE,null,c["default"].ANNEX_DATA_2_PAGE[e.key])}),t},setContent:function(){var e=this;if(this.wrapper){var t=Object.keys(this.data).map(function(t){return{key:t,title:e.data[t].title}}),n=document.createElement("h4");n.classList.add("annex-title"),n.textContent="Welcome to the Annex, home to additional information regarding emotions research.",this.wrapper.appendChild(n);var r=document.createElement("p");r.classList.add("annex-helper"),r.textContent="Explore the topics below to learn more:",this.wrapper.appendChild(r);var i=document.createElement("ul");i.classList.add("annex-btn-list"),t.forEach(function(t){if(t.key&&t.title){var n=document.createElement("li");n.appendChild(e.makeButton(t)),i.appendChild(n)}}),this.wrapper.appendChild(i)}},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],331:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.donate,this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){if(this.wrapper){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");e.classList.add("tb"),t.classList.add("tb-row"),n.classList.add("tb-row"),t.appendChild(u.makeBlock(this.data.title,this.data.desc));var r=document.createElement("div");r.classList.add("sub-blocks"),r.appendChild(u.makeLinkBlock(this.data.link)),n.appendChild(r),e.appendChild(t),e.appendChild(n),this.wrapper.appendChild(e)}},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],332:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t.emotrak,this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},setContent:function(){if(this.wrapper){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");r.innerHTML='<div id="mc_embed_signup"><form action="//eveekman.us12.list-manage.com/subscribe/post?u=a8f41488aed929208e96dcf44&amp;id=073f16206c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div id="mc_embed_signup_scroll"><label for="mce-EMAIL">Subscribe for EmoTrak Release Updates</label><input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a8f41488aed929208e96dcf44_073f16206c" tabindex="-1" value=""></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div>',e.classList.add("tb"),t.classList.add("tb-row"),n.classList.add("tb-row"),t.appendChild(u.makeBlock(this.data.title,this.data.desc));var i=document.createElement("div");i.classList.add("sub-blocks"),this.data.subsections.forEach(function(e){e.image?i.appendChild(u.makeImageBlock(e.title,e.desc,e.image,"jpg")):e.mail?i.appendChild(r):i.appendChild(u.makeBlock(e.title,e.desc))}),n.appendChild(i),n.appendChild(i),e.appendChild(t),e.appendChild(n),this.wrapper.appendChild(e)}},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active"),this.wrapper&&window.scrollTo(0,0)},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],333:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("d3"),a=(i(o),e("lodash")),s=(i(a),e("./utils.js")),u=r(s),c=e("../dispatcher.js"),l=(i(c),e("../../scss/variables.json"));i(l);n["default"]={isInited:!1,currentEmotion:null,wrapper:null,init:function(e,t){this.data=t["further-reading"],this.sectionContainer=e,this.wrapper=this.sectionContainer.querySelector(".wrapper"),this.setContent(),this.isInited=!0},makeLink:function(e,t){var n=document.createElement("li"),r=document.createElement("a"),i=-1===e.indexOf("http");return r.href=e,r.target=i?"_self":"_blank",r.innerHTML=t,n.appendChild(r),n},setContent:function(){var e=this;if(this.wrapper){var t=document.createElement("div"),n=document.createElement("div");t.classList.add("tb"),n.classList.add("tb-row"),n.appendChild(u.makeBlock(this.data.title,this.data.desc)),t.appendChild(n),this.data.links&&this.data.links.length&&!function(){var n=document.createElement("div");n.classList.add("tb-row");var r=document.createElement("div");r.classList.add("sub-blocks");var i=document.createElement("ul");i.classList.add("block","link-list"),e.data.links.forEach(function(t){i.appendChild(e.makeLink(t.link,t.desc))}),r.appendChild(i),n.appendChild(r),t.appendChild(n)}(),this.wrapper.appendChild(t)}},setEmotion:function(e){return new Promise(function(e,t){e()})},open:function(){this.sectionContainer.classList.add("active")},close:function(){return this.sectionContainer.classList.remove("active"),new Promise(function(e,t){e()})}}},{"../../scss/variables.json":309,"../dispatcher.js":317,"./utils.js":334,d3:299,lodash:303}],334:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=document.createElement("div"),r=document.createElement("h3"),i=document.createElement("p");return n.classList.add("block"),r.classList.add("title"),i.classList.add("desc"),r.innerHTML=e,i.innerHTML=t,n.appendChild(r),n.appendChild(i),n}function o(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?"png":arguments[3],i=document.createElement("div"),o=document.createElement("h3"),a=document.createElement("p"),s=document.createElement("img");return i.classList.add("block"),o.classList.add("title"),a.classList.add("desc"),s.src="./img/"+n+"."+r,a.innerHTML=t,i.appendChild(o),i.appendChild(a),i.appendChild(s),i}function a(e){var t=document.createElement("div"),n=document.createElement("h3"),r=document.createElement("a");return t.classList.add("block","link"),n.classList.add("title"),r.href=e,r.target="_blank",r.innerHTML=e,n.appendChild(r),t.appendChild(n),t}function s(e){var t=document.createElement("div"),n=document.createElement("button");return t.classList.add("annex-back-nav"),n.textContent=e,t.appendChild(n),n.addEventListener("click",function(e){l["default"].navigate("more",null,"annex")}),t}function u(e,t,n){var r=document.createElement("div");r.classList.add("annex-table-wrapper");var i=document.createElement("table");if(n||i.classList.add("annex-table"),e){var o=document.createElement("tr");o.classList.add("title");var a=document.createElement("td");a.setAttribute("colspan",2),a.innerHTML=e,o.appendChild(a),i.appendChild(o)}return t.forEach(function(e){var t=document.createElement("tr");n||t.classList.add("content");var r=document.createElement("td"),o=document.createElement("td");if(n||r.classList.add("upper"),r.textContent=e.name,e.children)if(e.children.length){var a=u(e.desc,e.children,!0);o.classList.add("has-sub-table"),o.appendChild(a)}else t.classList.add("no-children");else o.textContent=e.desc;if(t.appendChild(r),t.appendChild(o),i.appendChild(t),e.formatting&&("break"===e.formatting||"beforebreak"===e.formatting)){var s=document.createElement("tr");s.classList.add("table-break"),"break"===e.formatting?i.appendChild(s):i.insertBefore(s,t)}}),n?i:(r.appendChild(i),r)}Object.defineProperty(n,"__esModule",{value:!0}),n.makeBlock=i,n.makeImageBlock=o,n.makeLinkBlock=a,n.makeAnnexBackNav=s,n.makeTable=u;var c=e("../dispatcher.js"),l=r(c)},{"../dispatcher.js":317}],335:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("d3"),o=(r(i),e("lodash")),a=(r(o),e("./dispatcher.js")),s=r(a),u=e("./appStrings.js"),c=r(u),l=e("../scss/variables.json"),d=(r(l),e("./more-pages/about.js")),f=r(d),h=e("./more-pages/donate.js"),p=r(h),m=e("./more-pages/further.js"),g=r(m),_=e("./more-pages/emotrak.js"),v=r(_),y=e("./more-pages/annex.js"),b=r(y),w=e("./more-pages/annex-episode-timeline.js"),x=r(w),S=e("./more-pages/annex-impediment-antidote.js"),E=r(S),M=e("./more-pages/annex-intrinsic-remedial.js"),j=r(M),C=e("./more-pages/annex-partially-charted.js"),k=r(C),L=e("./more-pages/annex-psychopathologies.js"),A=r(L),T=e("./more-pages/annex-scientific-basis.js"),I=r(T),O=e("./more-pages/annex-signals.js"),N=r(O),P=e("./more-pages/annex-traits.js"),D=r(P);n["default"]={isInited:!1,screenIsSmall:!1,currentEmotion:null,currentPage:null,previousPage:null,previousSection:null,pages:{},containers:{},init:function(e,t){this.sectionContainer=e,this.screenIsSmall=t,this.initContainers(),this.initialPages(),document.querySelector("#more-close").addEventListener("click",this.onCloseButtonClicked.bind(this)),this.isInited=!0},setPreviousSection:function(e){this.previousSection=e},setEmotion:function(e,t,n,r){var i=this;return this.previousPage=this.currentPage,this.currentPage=n,this.currentEmotion=e,new Promise(function(e,t){i.previousPage&&i.pages[i.previousPage].close(),i.currentPage&&i.pages[i.currentPage]&&(i.pages[i.currentPage].isInited||i.pages[i.currentPage].init(i.containers[i.currentPage],(0,c["default"])().getSecondaryDataBlock(i.getKeyByPage(i.currentPage))),i.pages[i.currentPage].open(),i.pages[i.currentPage].setEmotion()),e()})},open:function(){this.toggleMoreClass(!0),this.screenIsSmall&&s["default"].changeCallout()},close:function(){return this.toggleMoreClass(!1),new Promise(function(e,t){e()})},onResize:function(e){this.screenIsSmall=e,this.currentPage&&"function"==typeof this.pages[this.currentPage].onResize&&this.pages[this.currentPage].onResize()},onCloseButtonClicked:function(){s["default"].navigate(this.previousSection,this.currentEmotion,null)},createContainer:function(e){var t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");if(t.id=e,t.classList.add("more-child"),r.classList.add("outer-wrapper"),r.appendChild(n),t.appendChild(r),"more-about"==e||"more-annex"==e||"more-donate"==e||"more-further"==e||"more-emotrak"==e){var i=document.createElement("div");i.classList.add("wrapper"),n.appendChild(i),this.setBackButton(n)}else n.classList.add("wrapper");return t},setBackButton:function(e){var t=document.createElement("div");t.innerHTML="<h4>"+(0,c["default"])().getStr("emotionsData.metadata.more.caption").toUpperCase()+"</h4>",t.classList.add("back-to-atlas"),t.addEventListener("click",this.onCloseButtonClicked.bind(this)),e.appendChild(t)},initContainers:function(){var e=this,t=void 0;s["default"].MORE_INFO.items.forEach(function(n){t=e.createContainer("more-"+n.page),e.sectionContainer.appendChild(t),e.containers[n.page]=t}),s["default"].ANNEX_SECTIONS.forEach(function(n){t=e.createContainer("more-"+n),0===n.indexOf("annex-")&&t.classList.add("annex-subpage"),e.sectionContainer.appendChild(t),e.containers[n]=t})},initialPages:function(){this.pages.about=f["default"],this.pages.donate=p["default"],this.pages.further=g["default"],this.pages.annex=b["default"],this.pages.emotrak=v["default"],this.pages["annex-episode-timeline"]=x["default"],this.pages["annex-partially-charted"]=k["default"],this.pages["annex-traits"]=D["default"],this.pages["annex-signals"]=N["default"],this.pages["annex-psychopathologies"]=A["default"],this.pages["annex-scientific-basis"]=I["default"],this.pages["annex-impediment-antidote"]=E["default"],this.pages["annex-intrinsic-remedial"]=j["default"]},getKeyByPage:function(e){switch(e){case"annex-psychopathologies":return"annex-psychopathology";case"annex-episode-timeline":return"annex-triggers-timeline";case"annex-intrinsic-remedial":return"annex-intrinsic-or-intentional";case"annex-traits":return"annex-personality-trait";case"further":return"further-reading";default:return e}},toggleMoreClass:function(e){var t=document.querySelector("body");t.classList;e?t.classList.add("more-on"):t.classList.remove("more-on")}}},{"../scss/variables.json":309,"./appStrings.js":314,"./dispatcher.js":317,"./more-pages/about.js":321,"./more-pages/annex-episode-timeline.js":322,"./more-pages/annex-impediment-antidote.js":323,"./more-pages/annex-intrinsic-remedial.js":324,"./more-pages/annex-partially-charted.js":325,"./more-pages/annex-psychopathologies.js":326,"./more-pages/annex-scientific-basis.js":327,"./more-pages/annex-signals.js":328,"./more-pages/annex-traits.js":329,"./more-pages/annex.js":330,"./more-pages/donate.js":331,"./more-pages/emotrak.js":332,"./more-pages/further.js":333,d3:299,lodash:303}],336:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./dispatcher.js"),u=r(s),c=e("../scss/variables.json"),l=r(c),d=function(){function e(){o(this,e),this.selected=null,this.template=null,this.currentName=null,this.popups={},this.init()}return a(e,[{key:"init",value:function(){this.template||this.initTemplate(),this.template.classList.add("popup-template")}},{key:"open",value:function(e){this.closeAll();var t=this.template.cloneNode(!0);t.style.display="block",t.querySelector(".body").textContent=e.desc,t.querySelector(".close").addEventListener("click",this.onPopupCloseButtonClick.bind(this,e.id),!1),
e.popup=t,this.popups[e.id]=e;var n=e.target.offsetWidth+100;n=Math.max(n,250),e.target.appendChild(t),e.target.classList.add("popped"),e.target.getAttribute("data-clip")&&e.target.classList.add("unclip"),e.secondaryData&&e.target.classList.add("has-secondary"),t.style.cssText="width: "+n+"px;",t.offsetWidth;var r=t.offsetHeight,o=e.target.offsetWidth,a=e.target.offsetHeight;t.style.cssText="width: 0px; height: 0px;",t.offsetWidth,e.secondaryData&&!function(){var t=e.target.getBoundingClientRect().left,r=window.innerWidth-(t+2*n),s=r>t?"left":"right",u=document.createElement("div");if(u.classList.add("secondary"),u.style.height=a+"px",u.style[s]=o-2+"px",e.secondaryData.classes){var c;(c=u.classList).add.apply(c,i(e.secondaryData.classes))}var d=document.createElement("div");if(d.classList.add("background"),e.secondaryData.classes){var f;(f=d.classList).add.apply(f,i(e.secondaryData.classes))}u.appendChild(d);var h=document.createElement("p");h.classList.add("body"),h.textContent=e.secondaryData.body,u.appendChild(h),e.target.appendChild(u),setTimeout(function(){u.style.width=o+"px",u.style.opacity=1},.5*l["default"].ui.popups.duration.open*1e3)}(),t.classList.add("transition"),t.style.cssText="width: "+n+"px; height: "+r+"px;"}},{key:"resetPopup",value:function(e){if(this.popups[e]){var t=this.popups[e].target,n=this.popups[e].popup;n.removeEventListener("transitionend",this.onTransitionOut,!1),n.classList.remove("fade-out"),t.classList.add("popped"),t.getAttribute("data-clip")&&t.classList.add("unclip")}}},{key:"onTransitionOut",value:function(e,t){if(this.popups[e]&&!this.popups[e].abortTransition){var n=this.popups[e].target,r=this.popups[e].popup;r.removeEventListener("transitionend",this.onTransitionOut,!1),r.querySelector(".close").removeEventListener("click",this.onPopupCloseButtonClick,!1),n.classList.remove("unclip"),n.removeChild(r),delete this.popups[e]}}},{key:"close",value:function(e){var t=this;if("active"!==this.popups[e].state){var n=this.popups[e].target,r=this.popups[e].popup,i=function(){r.addEventListener("transitionend",t.onTransitionOut.bind(t,e),!1),n.classList.remove("popped"),r.classList.add("fade-out")};n.classList.contains("has-secondary")?!function(){var e=n.querySelector(".secondary");e.addEventListener("transitionend",function(t){try{n.removeChild(e)}catch(r){}n.classList.remove("has-secondary"),i()}),e.classList.add("closing"),e.style.width="0px"}():i()}}},{key:"closeAll",value:function(){var e=this;Object.keys(this.popups).forEach(function(t){e.popups[t].state="",e.close(t)})}},{key:"reset",value:function(){this.selected=null,this.currentName=null,this.closeAll()}},{key:"onPopupCloseButtonClick",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.popups[e].state="",u["default"].popupCloseButtonClicked(this.popups[e].section,this.popups[e].name),this.closeAll()}},{key:"initTemplate",value:function(){this.template=document.createElement("div");var e=document.createElement("button");e.classList.add("close");var t=document.createElement("h3");t.classList.add("title");var n=document.createElement("p");n.classList.add("body"),this.template.appendChild(e),this.template.appendChild(t),this.template.appendChild(n),this.template.style.display="none",document.body.appendChild(this.template)}},{key:"makeID",value:function(e,t){return e+":"+t}},{key:"getTarget",value:function(e){return document.querySelector('[data-popuptarget="'+e+'"]')}},{key:"manage",value:function(e,t,n,r){var i=this.makeID(e,t);Object.keys(this.popups);if(t&&e){if(this.popups[i]){if("active"===this.popups[i].state)return;this.abortTransition=!0,this.resetPopup(i)}if(this.popups[i]&&"active"===this.popups[i].state)return;var o=this.getTarget(i);if(!o)return;this.selected=i,this.currentName=t,this.open({target:o,desc:n,secondaryData:r,section:e,name:t,id:i,state:"active"})}else t||this.reset()}},{key:"exists",value:function(e,t){var n=this.makeID(e,t);return!!this.popups[n]}}]),e}(),f=new d;n["default"]=f},{"../scss/variables.json":309,"./dispatcher.js":317}],337:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("d3"),a=r(o),s=e("lodash"),u=r(s),c=e("./dispatcher.js"),l=r(c),d=e("./appStrings.js"),f=r(d),h=e("../scss/variables.json"),p=r(h),m=1e3;n["default"]={isInited:!1,emotions:["anger","fear","disgust","sadness","enjoyment"],sectionContainer:null,labelContainers:null,graphContainers:null,xScale:null,yScale:null,areaGenerators:null,transitions:null,statesData:null,emotionStates:null,currentEmotion:null,isBackgrounded:!1,screenIsSmall:!1,selectedState:null,mouseOutTimeout:null,init:function(e,t){this.sectionContainer=e,this.screenIsSmall=t,this.applyTransitions=this.applyTransitions.bind(this),this.initContainers(e),this.initLabels(e),this.setUpGraphs(e),this.transitions=this.setUpTransitions(),this.onStateMouseOver=this.onStateMouseOver.bind(this),this.onStateMouseOut=this.onStateMouseOut.bind(this),this.onStateClick=this.onStateClick.bind(this),this.onContainerTouchStart=this.onContainerTouchStart.bind(this),this.onContainerTouchMove=this.onContainerTouchMove.bind(this),this.onContainerTouchEnd=this.onContainerTouchEnd.bind(this),this.onBackgroundClick=this.onBackgroundClick.bind(this),this.isInited=!0},initContainers:function(e){u["default"].values(l["default"].EMOTIONS).forEach(function(t){var n=document.createElement("div");n.classList.add("states-container"),n.classList.add(t);var r=document.createElement("div");r.classList.add("graph-container"),n.appendChild(r),e.appendChild(n)})},initLabels:function(e){var t=this;this.labelContainers={},u["default"].values(l["default"].EMOTIONS).forEach(function(e){var n=a["default"].select("."+e+".states-container"),r=n.append("div").classed("label-container",!0);t.labelContainers[e]=r})},setUpGraphs:function(e){var t=this,n={top:20,right:p["default"].states.graph.margins.right,bottom:50,left:p["default"].states.graph.margins.left},r=e.querySelector(".graph-container"),i=r.offsetWidth-n.left-n.right,o=r.offsetHeight-n.top-n.bottom;this.xScale=a["default"].scale.linear().domain([0,10]).range([0,i]),this.yScale=a["default"].scale.linear().domain([0,10]).range([o,0]);var s=a["default"].svg.axis().scale(this.xScale).orient("bottom").ticks(10).tickFormat(function(e){return""}).tickSize(this.screenIsSmall?5:10),c=(0,f["default"])().getStr("emotionsData.metadata.states.caption").split(",");2!==c.length&&(c=["Least intense","Most intense"]),c=c.map(function(e){return e.toUpperCase()});var d=a["default"].scale.ordinal().domain(c).range(this.xScale.range()),h=a["default"].svg.axis().scale(d).orient("bottom").tickSize(25);if(this.graphContainers)u["default"].values(l["default"].EMOTIONS).forEach(function(e,i){var u=a["default"].select("#states ."+e+" .graph-container svg").attr("width",r.offsetWidth).attr("height",r.offsetHeight),c=u.select("g").attr("transform","translate("+n.left+","+n.top+")");c.select("g.x.axis:not(.labels)").html("").attr("transform","translate(0,"+o+")").call(s),t.screenIsSmall||c.select("g.x.axis.labels").html("").attr("transform","translate(0,"+o+")").call(h).selectAll(".tick text").attr("text-anchor",function(e,t){return t?"end":"start"}).attr("style",null)});else{this.graphContainers={},this.emotionStates={},u["default"].values(l["default"].EMOTIONS).forEach(function(e,r){var i=document.querySelector("#states ."+e+" .graph-container"),u=a["default"].select(i).append("svg").attr("width",i.offsetWidth).attr("height",i.offsetHeight),c=u.append("g").attr("transform","translate("+n.left+","+n.top+")");c.append("g").attr("class","x axis").attr("transform","translate(0,"+o+")").call(s),t.screenIsSmall||c.append("g").attr("class","x axis labels").attr("transform","translate(0,"+o+")").call(h).selectAll(".tick text").attr("text-anchor",function(e,t){return t?"end":"start"}).attr("style",null),t.graphContainers[e]=a["default"].select(i),t.emotionStates[e]={index:r,data:null,ranges:null,scale:0}});var m=a["default"].select(e).append("svg").classed("states-defs",!0);this.setUpDefs(m.append("defs"),this.xScale,this.yScale)}this.areaGenerators=this.setUpAreaGenerators(o,this.xScale,this.yScale)},renderLabels:function(e){var t=this.emotionStates[e].ranges[1],n=this,r=this.emotionStates[e].data,i=this.labelContainers[e].selectAll("div").data(t);if(this.screenIsSmall)return void i.style("display","none");var o={},a=this.yScale.range()[0];o[l["default"].EMOTIONS.ANGER]=function(e){return e+15},o[l["default"].EMOTIONS.DISGUST]=o[l["default"].EMOTIONS.ANGER],o[l["default"].EMOTIONS.ENJOYMENT]=function(e){return e+30},o[l["default"].EMOTIONS.FEAR]=function(e){return e+45},o[l["default"].EMOTIONS.SADNESS]=function(e,t){return e+.4*Math.pow(t[1].x/10,2)*a+70};var s={anger:20,fear:-5,disgust:5,enjoyment:0},u=(this.sectionContainer.offsetWidth/this.sectionContainer.offsetHeight,{sadness:{disappointment:-30,discouragement:-20,distraughtness:-10,resignation:-18,helplessness:0,hopelessness:0,misery:10,despair:13,grief:13,sorrow:13,anguish:10},enjoyment:{"sensory pleasures":-40,"compassion/joy":-10,amusement:-20,rejoicing:-20,schadenfreude:0,relief:0,peace:-10,pride:0,fiero:0,naches:0,wonder:0,excitement:0,ecstasy:0}}),c=function(e,t,n){if("sadness"==e||"enjoyment"==e){var i=u[e][n];if(isNaN(i)){var o=r.findIndex(function(e){return e.name===n});i=u[e][Object.keys(u[e])[o]]}return isNaN(i)&&(i=0),i}return s[e]},d=[];r.forEach(function(r,i){var a=t[i];d.push({name:r.name,top:Math.round(o[e](n.yScale(a[1].y),a)),left:Math.round(n.xScale(a[1].x))+c(e,i,r.name)})}),d.sort(function(e,t){return t.top-e.top});var f={};d.forEach(function(e,t){if(d[t+1]){var n=d[t].top-d[t+1].top;30>n&&(d[t+1].top=d[t].top-30)}f[d[t].name]={top:d[t].top,left:d[t].left}}),i.size()||!function(){var n=Math.floor(Math.random()*t.length);i.enter().append("div"),i.classed(e+" label emotion-label",!0).classed("default-interactive-helper",function(e,t){return t===n}).attr("data-popuptarget",function(e,t){return"states:"+r[t].name}).html(function(e,t){return"<h3>"+r[t].name.toUpperCase()+"</h3>"}).style({left:function(e,t){return f[r[t].name].left+"px"},top:function(e,t){return f[r[t].name].top+"px"}}),i.exit().remove()}(),i.style({top:function(e,t){return f[r[t].name].top+"px"},left:function(e,t){return f[r[t].name].left+"px"}}),this.isBackgrounded?i.each(function(){var e=this;setTimeout(function(){e.classList.remove("visible")},m)}):i.each(function(){var e=this;setTimeout(function(){e.classList.add("visible")},m)})},setEmotion:function(e,t){var n=this;return new Promise(function(t,r){~u["default"].values(l["default"].EMOTIONS).indexOf(e)||(e="anger");var i=n.currentEmotion;n.currentEmotion=e,n.screenIsSmall&&(n.selectedState=null,n.setHighlightedState(null));var o=n.emotionStates[e],a=!o.data;a&&n.renderEmotion(e);var s=0;i&&!function(){var e=n.graphContainers[i],t=n.labelContainers[i];e.classed("active",!1),t.classed("active",!1),e.on("transitionend",function(n){e.on("transitionend",null),e.style("transform",null),t.style("transform",null),e.style("-webkit-transform",null),t.style("-webkit-transform",null),e.classed("transitioning",!1),t.classed("transitioning",!1)});var r=document.querySelector("#states .graph-container").offsetWidth;s=1.25*r,o.index<n.emotionStates[i].index&&(s*=-1),Math.abs(o.index-n.emotionStates[i].index)==n.emotions.length-1&&(s*=-1),setTimeout(function(){e.style("transform","translateX("+-s+"px)"),t.style("transform","translateX("+-s+"px)"),e.style("-webkit-transform","translateX("+-s+"px)"),t.style("-webkit-transform","translateX("+-s+"px)")},1e3*p["default"].emotions.panX.delay)}();var c=n.graphContainers[e],d=n.labelContainers[e];c.classed("transitioning")?c.on("transitionend",null):(c.classed("transitioning",!1),c.style("transform","translateX("+s+"px)"),c.style("-webkit-transform","translateX("+s+"px)"),d.classed("transitioning",!1),d.style("transform","translateX("+s+"px)"),d.style("-webkit-transform","translateX("+s+"px)")),setTimeout(function(){c.classed("transitioning active",!0),c.style("transform","translateX(0)"),c.style("-webkit-transform","translateX(0)"),d.classed("transitioning active",!0),d.style("transform","translateX(0)"),d.style("-webkit-transform","translateX(0)")},1e3*p["default"].emotions.panX.delay),n.renderLabels(n.currentEmotion),n.isBackgrounded?(a&&n.setEmotionScale(e,1,!0),setTimeout(function(){n.setBackgroundedState(null)},1e3*p["default"].emotions.panX.delay),setTimeout(function(){n.graphContainers[e].selectAll(".axis").classed("visible",!1)},1)):(setTimeout(function(){a&&n.setEmotionScale(e,1,!1)},1e3*p["default"].emotions.scale["in"].delay),setTimeout(function(){n.graphContainers[e].selectAll(".axis").classed("visible",!0)},1),n.resetCallout()),n.setActive(!n.isBackgrounded);var f=void 0;if(i)f=1e3*(p["default"].emotions.panX.delay+p["default"].emotions.panX.duration);else if(a){var h=n.emotionStates[n.currentEmotion].data,m=n.transitions[n.currentEmotion].delay;f=m(null,h.length-1)+n.transitions[n.currentEmotion].duration}else f=p["default"].states.backgrounded.duration["in"];setTimeout(function(){t()},f)})},renderEmotion:function(e){var t=this,n=this.parseStates(e),r=this.emotionStates[e];r.data=n,r.ranges={0:this.transformRanges(n,e,0),1:this.transformRanges(n,e,1)};var i=this.graphContainers[e].select("g"),o=i.selectAll("path.area").data(this.emotionStates[e].ranges[0]).enter(),a=this.currentEmotion+"-gradient";o.append("linearGradient").attr("xlink:href","#"+a).attr("id",function(e,t){return a+"-"+t}).attr("x1",function(e){return t.xScale(e[0].x)}).attr("x2",function(e){return t.xScale(e[2].x)});var s=o.append("path").attr("class","area").attr("d",this.areaGenerators[this.currentEmotion]).attr("fill",function(e,t){return"url(#"+a+"-"+t+")"}).call(this.applyEffects.bind(this));window.navigator.userAgent&&~window.navigator.userAgent.toLowerCase().indexOf("gecko")&&~window.navigator.userAgent.toLowerCase().indexOf("firefox")&&s.style("mix-blend-mode","normal"),r.rendered=!0},setEmotionScale:function(e,t,n){var r=this.graphContainers[e].select("g"),i=this.emotionStates[e].ranges[t];i||(i=this.emotionStates[e].ranges[t.toString()]=this.transformRanges(this.emotionStates[e].data,e,t)),r.selectAll("path.area").data(i).call(this.applyTransitions,n?"immediate":null),this.emotionStates[e].scale=t},open:function(e){this.setBackgrounded(e&&e.inBackground,e),e.inBackground||(this.currentEmotion=null),!e||e.sectionName!==l["default"].SECTIONS.STATES&&e.sectionName!==l["default"].SECTIONS.ACTIONS||a["default"].select("#main").on("click",this.onBackgroundClick,!1)},close:function(){var e=this;return new Promise(function(t,n){if(e.hideChrome(),e.setActive(!1),a["default"].select("#main").on("click",null,!1),!e.currentEmotion)return void t();var r=e.emotionStates[e.currentEmotion],i=e.transformRanges(r.data,e.currentEmotion,0),o=e.graphContainers[e.currentEmotion],s=e.labelContainers[e.currentEmotion],u=o.selectAll("path.area");u.size()?u.data(i).call(e.applyTransitions,"close",function(){setTimeout(function(){o.selectAll("path.area").remove(),o.selectAll("linearGradient").remove(),s.selectAll("div").remove(),r.data=null,u.data([]),t()},1)}):t()})},onResize:function(e){var t=this;this.screenIsSmall=e,this.setUpGraphs(this.sectionContainer);for(var n in this.emotionStates){var r=this.emotionStates[n];if(r.data){var i=this.graphContainers[n].select("g").data(this.emotionStates[n].ranges[0]);i.selectAll("linearGradient").attr("x1",function(e){return t.xScale(e[0].x)}).attr("x2",function(e){return t.xScale(e[2].x)}),i.selectAll("path.area").attr("d",this.areaGenerators[n]),this.renderLabels(n)}}},setActive:function(e){this.currentEmotion&&(this.screenIsSmall?this.graphContainers[this.currentEmotion].on("touchstart",null):(this.graphContainers[this.currentEmotion].selectAll("path.area").on("mouseover",null).on("mouseout",null).on("click",null,!0),this.labelContainers[this.currentEmotion].selectAll("div").select("h3").on("mouseover",null).on("mouseout",null).on("click",null,!0)),e&&(this.screenIsSmall?this.graphContainers[this.currentEmotion].on("touchstart",this.onContainerTouchStart):(this.graphContainers[this.currentEmotion].selectAll("path.area").on("mouseover",this.onStateMouseOver).on("mouseout",this.onStateMouseOut).on("click",this.onStateClick,!0),this.labelContainers[this.currentEmotion].selectAll("div").select("h3").on("mouseover",this.onStateMouseOver).on("mouseout",this.onStateMouseOut).on("click",this.onStateClick,!0))))},setBackgrounded:function(e,t){var n=this;return new Promise(function(r,i){var o=n.sectionContainer.classList.contains("backgrounded");!e&&o||e&&!o?(n.sectionContainer.classList.add("states-in-out"),n.screenIsSmall&&(n.selectedState=null,n.setHighlightedState(null))):n.sectionContainer.classList.remove("states-in-out"),n.sectionContainer.classList[e?"add":"remove"]("backgrounded"),n.sectionContainer.classList[t&&t.sectionName===l["default"].SECTIONS.ACTIONS?"add":"remove"]("actions"),n.sectionContainer.classList[t&&t.sectionName===l["default"].SECTIONS.TRIGGERS?"add":"remove"]("triggers"),n.sectionContainer.classList[t&&t.sectionName===l["default"].SECTIONS.MOODS?"add":"remove"]("moods"),n.hideChrome(),n.setActive(!e),n.isBackgrounded=e,r()})},shouldDisplayPaginationUI:function(){return!!this.selectedState},applyEventListenersToEmotion:function(e,t){var n=this;Object.keys(t).forEach(function(r){n.graphContainers[e].on(r,t[r])})},hideChrome:function(){this.currentEmotion&&(this.labelContainers[this.currentEmotion].selectAll("div").classed("visible",!1).selectAll("h3").style("opacity",null),this.graphContainers[this.currentEmotion].selectAll(".axis").classed("visible",!1)),l["default"].changeCallout()},parseStates:function(e){if(this.statesData&&this.statesData[e])return this.statesData[e];var t=(0,f["default"])().getStr("emotionsData.emotions."+e+".states").map(function(e){return i({},e,{name:e.name.toLowerCase()})});if(t=t.filter(function(e){return!(!e.range.min||!e.range.max)}),t=t.sort(function(e,t){var n=t.range.min+t.range.max-(e.range.min+e.range.max);return n||(n=e.range.min-t.range.min),n||(e.name>t.name?n=-1:e.name<t.name&&(n=1)),n}),e===l["default"].EMOTIONS.FEAR){var n=t.findIndex(function(e){return"panic"===e.name});n>-1&&t.splice(n+1,0,t.splice(n,1)[0])}return this.statesData=this.statesData||{},this.statesData[e]=t,t},transformRanges:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return this.stateRangeTransformers[t](e,n)},stateRangeTransformers:{isosceles:function(e,t){return e.map(function(e,n){var r=[],i=e.range.min-1,o=e.range.max,a=o-i,s=i+.5*a;return r.push({x:i,y:0}),r.push({x:s,y:t*s}),r.push({x:o,y:0}),r})},offsetPoints:function(e,t,n){if(e.length!==t.length)throw new Error("`points` and `offsets` must be the same length.");e.forEach(function(e,r){e[1].x+=t[r][0],e[1].y+=t[r][1]*n})},getOffsets:function(e,t){return e.map(function(e){return e.name}).map(function(e,n){var r=t[e];if(!r){var i=Object.keys(t);n<i.length&&(r=t[i[i.length-n-1]])}return r||(r=[0,0]),r})},anger:function(e,t){var n=this.isosceles(e,t),r=this.getOffsets(e,{annoyance:[-.5,0],exasperation:[-.5,0],frustration:[-1.5,-.5],argumentativeness:[0,0],bitterness:[.5,0],vengefulness:[.5,0],fury:[0,0]});return this.offsetPoints(n,r,t),n},fear:function(e,t){var n=this.isosceles(e,t),r=this.getOffsets(e,{trepidation:[0,0],nervousness:[-.5,0],anxiety:[0,0],dread:[-.5,-.5],desperation:[-1,-1],panic:[-.7,-.8],horror:[-.35,-.4],terror:[0,0]});return this.offsetPoints(n,r,t),n},disgust:function(e,t){var n=this.isosceles(e,t),r=this.getOffsets(e,{dislike:[0,0],aversion:[-.25,-.15],distaste:[.25,.15],repugnance:[0,0],revulsion:[-.25,-.3],abhorrence:[0,0],loathing:[0,0]});return this.offsetPoints(n,r,t),n},sadness:function(e,t){var n=this.isosceles(e,1.25*t),r=this.getOffsets(e,{disappointment:[-.95,0],discouragement:[-1.2,-.25],distraughtness:[.25,.25],resignation:[1.2,.5],helplessness:[-.5,-.5],hopelessness:[-.5,-.5],misery:[0,0],despair:[-.1,0],grief:[.3,.5],sorrow:[.7,1],anguish:[0,.5]});return this.offsetPoints(n,r,t),n},enjoyment:function(e,t){var n=this.isosceles(e,t),r=this.getOffsets(e,{"sensory pleasures":[-1.5,0],"compassion/joy":[-1.3,.2],amusement:[-1,-.1],rejoicing:[-2.3,-.5],schadenfreude:[-1,-.5],relief:[-.75,-.5],peace:[-.25,-.25],pride:[-.45,-.5],fiero:[0,-.5],naches:[.45,-.4],wonder:[.4,-.6],excitement:[.8,-.5],ecstasy:[0,0]});return this.offsetPoints(n,r,t),n}},setUpDefs:function(e,t,n){e.append("filter").attr("id","sadness-blur-0").attr("width",128).attr("height",128).append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",0),e.append("filter").attr("id","sadness-blur-1").attr("xlink:href","#sadness-blur-0").append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",1),e.append("filter").attr("id","sadness-blur-2").attr("xlink:href","#sadness-blur-0").append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",2),e.append("filter").attr("id","sadness-blur-3").attr("xlink:href","#sadness-blur-0").append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",3),e.append("linearGradient").attr("id","states-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",t(0)).attr("x2",t(10)).attr("y1",n(0)).attr("y2",n(0)),e.append("linearGradient").attr("id","anger-gradient").attr("xlink:href","#states-gradient").selectAll("stop").data([{offset:"0%",color:"rgba(228, 135, 102, 0.2)"},{offset:"100%",color:"rgba(204, 28, 43, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","disgust-gradient").attr("xlink:href","#states-gradient").selectAll("stop").data([{offset:"0%",color:"rgba(0, 142, 69, 0.3)"},{offset:"56%",color:"rgba(0, 122, 61, 0.8)"},{offset:"100%",color:"rgba(0, 104, 55, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color});var r=[{offset:"0%",color:"rgba(255, 221, 98, 0.7)"},{offset:"100%",color:"rgba(248, 136, 29, 1.0)"}];navigator.userAgent.indexOf("Firefox")>-1&&(r=[{offset:"0%",color:"rgba(255, 236, 119, 0.4)"},{offset:"100%",color:"rgba(255, 127, 0, 1.0)"}]),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&(r=[{offset:"0%",color:"rgba(241, 196, 83, 0.4)"},{offset:"100%",color:"rgba(248, 136, 29, 1.0)"}]),e.append("linearGradient").attr("id","enjoyment-gradient").attr("xlink:href","#states-gradient").selectAll("stop").data(r).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","fear-gradient").attr("xlink:href","#states-gradient").selectAll("stop").data([{offset:"0%",color:"rgba(248, 58, 248, 0.1)"},{offset:"100%",color:"rgba(143, 39, 139, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","sadness-gradient").attr("xlink:href","#states-gradient").selectAll("stop").data([{offset:"0%",color:"rgba(200, 220, 240, 1.0)"},{offset:"56%",color:"rgba(30, 152, 211, 1.0)"},{offset:"100%",color:"rgba(64, 70, 164, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color})},setUpAreaGenerators:function(e,t,n){return{anger:a["default"].svg.area().x(function(e){return t(e.x)}).y0(e).y1(function(e){return n(e.y)}),disgust:a["default"].svg.area().x(function(e){return t(e.x)}).y0(e).y1(function(e){return n(e.y)}).interpolate(function(e){var t=e[0][0],n=e[0][1],r=e[1][0],i=e[1][1],o=e[2][0],s=e[2][1],u=20,c=10,l=function(e,t,n,r){return(t-e)*n*r+e},d=function(e,t,n,r,i){var o=1+1*(Math.random()-.05)/u,a=Math.pow(Math.pow(n-e,2)+Math.pow(r-t,2),.5),s={x:l(e,n,i,o),y:l(t,r,i,o)},d=(Math.random()-.5)*a/c,f={x:(n-e)/a*d,y:(r-t)/a*d};return{x:s.x+f.x,y:s.y-f.y}},f=[{x:t,y:n}],h=[{x:r,y:i}];a["default"].range(1,u-2).forEach(function(e){f.push(d(t,n,r,i,e/u)),h.push(d(r,i,o,s,e/u))}),f.push({x:r,y:i}),h.push({x:o,y:s});var p=a["default"].svg.line().x(function(e){return e.x}).y(function(e){return e.y}).interpolate("basis"),m=p(f).replace("M",""),g=p(h).replace("M","");return m+"L"+g}),enjoyment:a["default"].svg.area().x(function(e){return t(e.x)}).y0(e).y1(function(e){return n(e.y)}).interpolate(function(e){var n=e[1][1],r=(t(1),e[0][1]),i=e[0].join(" ")+" C"+e[0].join(" ")+","+e[0][0]+" "+(r-(r-n)/2)+","+e[1].join(" ")+"L"+e[1].join(" ")+" C"+e[1].join(" ")+","+e[2][0]+" "+(r-(r-n)/2)+","+e[2].join(" ");return i}),fear:a["default"].svg.area().x(function(e){return t(e.x)}).y0(e).y1(function(e){return n(e.y)}).interpolate(function(e){function t(e,t){function n(e,t,n,r){return Math.pow(1-r,2)*e+2*(1-r)*r*t+Math.pow(r,2)*n}function r(e,t,r){return n(e[0][t],e[1][t],e[2][t],r)}return[r(e,0,t),r(e,1,t)]}var n=1,r=.7,i=e[0][0],o=e[0][1],a=e[1][0],s=e[1][1],u=e[2][0],c=e[2][1],l=[e[0],[i+n*(a-i),o],e[1]],d=[e[1],[u,s+(1-r)*(c-s)],e[2]],f={left:[.3,.5,.76],right:[.14,.4,.75]},h=i+","+o;return f.left.forEach(function(e){var n=t(l,e);h+="L"+n[0]+","+n[1]}),h+="L"+e[1][0]+","+e[1][1],f.right.forEach(function(e){var n=t(d,e);h+="L"+n[0]+","+n[1]}),h+="L"+e[2][0]+","+e[2][1]+"L"+e[0][0]+","+e[0][1]}),sadness:a["default"].svg.area().x(function(e){return t(e.x)}).y0(e).y1(function(e){return n(e.y)}).interpolate("basis")}},setUpTransitions:function(){return{anger:{ease:a["default"].ease("back-out",3.5),delay:function(e,t){return 500+100*Math.random()*t},duration:500},disgust:{ease:a["default"].ease("poly-in",4),delay:function(e,t){return 150+100*Math.random()*t},duration:1e3},enjoyment:{ease:function(){var e=arguments.length<=0||void 0===arguments[0]?.25:arguments[0],t=1-e,n=t*(1-t)+t,r=t*(1-n)+n,i=t*(1-r)+r,o=2*Math.sqrt(e),a=o*Math.sqrt(e),s=a*Math.sqrt(e),u=s*Math.sqrt(e),c=1/(1+o+a+s),l=c+c*o,d=l+c*a,f=d+c*s,h=c+c*o/2,p=l+c*a/2,m=d+c*s/2,g=f+c*u/2,_=1/(c*c);return function(e){return e>=1?1:c>e?_*e*e:l>e?_*(e-=h)*e+t:d>e?_*(e-=p)*e+n:f>e?_*(e-=m)*e+r:_*(e-=g)*e+i}}(.35),delay:function(e,t){return 500+150*Math.random()*t},duration:750},fear:{ease:a["default"].ease("elastic-in",1.5,.75),delay:function(e,t){return 500+100*Math.random()*t},duration:750},sadness:{ease:a["default"].ease("back-out",2),delay:function(e,t){return 150+1250*Math.random()},duration:4e3},close:{ease:a["default"].ease("ease-out"),delay:function(e,t){return 50*Math.random()*t},duration:800},immediate:{ease:a["default"].ease("linear"),delay:0,duration:0}}},applyEffects:function(e){var t=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),n=navigator.userAgent.indexOf("Firefox")>-1;"sadness"===this.currentEmotion&&(t?e.attr("filter","url(#sadness-blur-1)"):n||setTimeout(function(){e.attr("filter","url(#sadness-blur-1)")},.8*this.transitions.sadness.duration),n?(setTimeout(function(){e.attr("filter","url(#sadness-blur-1)")},1*this.transitions.sadness.duration),setTimeout(function(){e.attr("filter","url(#sadness-blur-2)")},1.1*this.transitions.sadness.duration)):(setTimeout(function(){e.attr("filter","url(#sadness-blur-2)")},.9*this.transitions.sadness.duration),setTimeout(function(){e.attr("filter","url(#sadness-blur-3)")},1*this.transitions.sadness.duration)))},applyTransitions:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=this.transitions[t||this.currentEmotion],i=!1;e.transition().ease(r.ease).delay(r.delay).duration(r.duration).attr("d",this.areaGenerators[this.currentEmotion]).each("end",function(){n&&!i&&(n.apply(void 0,arguments),i=!0)})},onStateMouseOver:function(e,t){var n=this.emotionStates[this.currentEmotion].data[t];if(!n)throw new Error("statesData not found for onStateMouseOver at index "+t);this.isBackgrounded?(this.displayBackgroundedStates([n.name]),l["default"].setEmotionState(n.name,!1)):this.displayHighlightedStates([n.name])},onStateMouseOut:function(e,t){this.isBackgrounded?(this.displayBackgroundedStates(null),l["default"].setEmotionState(null,!1)):this.displayHighlightedStates(null)},onStateClick:function(e,t){a["default"].event&&a["default"].event.stopImmediatePropagation();var n=this.emotionStates[this.currentEmotion].data[t];this.selectedState=n.name,this.setHighlightedState(n.name),this.isBackgrounded?l["default"].setEmotionState(n.name,!0):l["default"].popupChange("states",n.name,n.desc)},onContainerTouchStart:function(){this.touchedShape=null,this.graphContainers[this.currentEmotion].on("touchmove",this.onContainerTouchMove).on("touchend",this.onContainerTouchEnd).on("touchcancel",this.onContainerTouchEnd),this.onContainerTouchMove()},onContainerTouchMove:function(){var e=a["default"].event;if(e){var t=document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY),n=this;t.classList.contains("area")?t!==this.touchedShape&&(this.touchedShape=t,this.graphContainers[this.currentEmotion].selectAll("path.area").each(function(e,r){this===t&&n.onStateClick(e,r)})):this.touchedShape&&(this.touchedShape=null,this.onStateMouseOut()),this.touchedShape&&(a["default"].event.stopImmediatePropagation(),a["default"].event.preventDefault())}},onContainerTouchEnd:function(e){this.graphContainers[this.currentEmotion].on("touchmove",null).on("touchend",null).on("touchcancel",null)},onBackgroundClick:function(){this.selectedState=null,this.setHighlightedState(null),this.isBackgrounded?0==a["default"].selectAll(".label").filter(".popped")[0].length?l["default"].setEmotionState(null,!0):l["default"].popupChange():this.resetCallout()},setBackgroundedState:function(e){this.backgroundedState=e,this.displayBackgroundedStates(e),this.setHighlightedState(e)},displayBackgroundedStates:function(e){var t=this,n="",r={};e?1===e.length&&(n=e[0]):n=this.backgroundedState,u["default"].values(l["default"].EMOTIONS).forEach(function(e){r[e]=e===t.currentEmotion}),this.displayHighlightedStates(e)},paginateElement:function(e){var t=this;e*=-1;var n=0;this.selectedState&&!function(){var r=t.statesData[t.currentEmotion],i=t.transformRanges(r,t.currentEmotion,1).map(function(e,t){return{y:e[1].y,index:t}}).sort(function(e,t){return t.y-e.y}),o=i.map(function(e){return r[e.index]});n=o.findIndex(function(e){return e.name===t.selectedState})+e,n=n>=o.length?0:0>n?o.length-1:n,n=r.findIndex(function(e){return e.name===o[n].name})}(),this.onStateClick(null,n)},setHighlightedState:function(e){this.highlightedState=e,this.displayHighlightedStates(null)},displayHighlightedStates:function(e){var t=this;if(e||this.highlightedState||(this.selectedState=null),this.currentEmotion){!e&&this.highlightedState&&(e=[this.highlightedState]);var n=this.graphContainers[this.currentEmotion],r=this.labelContainers[this.currentEmotion];e&&e.length?!function(){var r=t.emotionStates[t.currentEmotion].data.map(function(t){return!!~e.indexOf(t.name)});n.selectAll("path.area").classed("unhighlighted",function(e,t){return!r[t]})}():n.selectAll("path.area").classed("unhighlighted",!1),this.setLabelStates(r,e)}},setLabelStates:function(e,t){if(e){var n=e.selectAll(".label");n.classed("highlighted",!1).classed("muted",!1).classed("selected",!1),t=t&&t.length?t[0]:null;var r=this.selectedState;(r||t)&&(n.each(function(){var e=a["default"].select(this),n=e.attr("data-popuptarget");n.indexOf(r)>-1?e.classed("selected",!0):n.indexOf(t)>-1?e.classed("highlighted",!0):e.classed("muted",!0)}),e.select(".default-interactive-helper").classed("default-interactive-helper",!1))}},resetCallout:function(){l["default"].popupChange(),l["default"].changeCallout(this.currentEmotion,(0,f["default"])().getStr("emotionsData.metadata.states.header"),(0,f["default"])().getStr("emotionsData.metadata.states.body"))}}},{"../scss/variables.json":309,"./appStrings.js":314,"./dispatcher.js":317,d3:299,lodash:303}],338:[function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("d3"),o=r(i),a=e("lodash"),s=r(a),u=e("./dispatcher.js"),c=r(u),l=e("./appStrings.js"),d=r(l),f=e("../scss/variables.json"),h=r(f),p=e("./states.js"),m=r(p),g=e("./actions.js"),_=r(g),v={APPRAISAL:1,DATABASE:2,IMPULSE:3,UNIVERSAL:4,LEARNED:5},y="M0,0.1C3.1-3,9.3-4.5,13.6-4.6C7.9-0.3,2.8,5.2,0,12C-2.7,5.2-8-0.1-13.6-4.6C-9-4.3-3.4-3.1,0,0.1z",b={UNIVERSAL:"universal",LEARNED:"learned"},w={anger:[.74,.65,.77],fear:[.71,.63,.68,.76],disgust:[.68,.76],sadness:[.67,.77],enjoyment:[.7,.62,.76]},x={anger:[.9,.7,.73,.91],fear:[.91,.77,.9],disgust:[.92,.72,.9],sadness:[.89,.9,.65],enjoyment:[.92,.88,.72,.73]},S=.85;n["default"]={isInited:!1,screenIsSmall:!1,currentEmotion:null,triggersData:null,backgroundSections:[m["default"],_["default"]],hitAreasLocked:!1,labelContainers:null,graphContainers:null,emotionArrowPercents:null,init:function(e,t){this.sectionContainer=e,this.screenIsSmall=t,this.initContainers(e);var n=this.setUpGraphs(e);this.initArrowPercents(),this.initLabels(e,n),this.triggersData=this.parseTriggers(n),this.setUpHitAreas(e),this.drawHorizon(e),this.onHitAreaMouseOver=this.onHitAreaMouseOver.bind(this),this.onHitAreaMouseOut=this.onHitAreaMouseOut.bind(this),this.onPhaseLabelClick=this.onPhaseLabelClick.bind(this),this.showTriggerPopup=this.showTriggerPopup.bind(this),this.onPopupCloseButtonClicked=this.onPopupCloseButtonClicked.bind(this),this.isInited=!0},calcAngle:function(e,t,n){var r={anger:[-.6,-.43,-.22,.24,.37,.5,.6],fear:[-.7,-.53,-.42,-.22,.3,.45,.7],disgust:[-.5,-.3,.24,.4,.6],sadness:[-.5,-.3,.24,.42,.6],enjoyment:[-.6,-.4,-.22,.24,.37,.53,.68],universalLearned:[-.7,.1]},i=1,o=this.sectionContainer.offsetWidth/this.sectionContainer.offsetHeight;1.4>o&&(i=.86),1>o&&(i=.75,r.universalLearned=[-.7,0]);var a=r[t][e]*i;if(this.screenIsSmall){var s=r[t][e]<0?-1:1;a=s*Math.pow(Math.abs(r[t][e]),.75)*1.5*i}return(a-1)*Math.PI/2},calcRadius:function(e,t,n){var r=1.15*n,i=.225*n,o={anger:[.6,0,.2,0,1.5,.2,.3],fear:[.3,.2,.5,.1,.5,.2,.6],disgust:[.6,.3,.3,.12,1],sadness:[.6,.4,.3,1.8,1],enjoyment:[.2,.3,.2,.12,1.7,.2,.3],universalLearned:this.screenIsSmall?[2.5,2.5]:[1.5,.2]},a=0,s=1,u=this.sectionContainer.offsetWidth/this.sectionContainer.offsetHeight;return 1.4>u&&(s=.6),1>u&&(o={anger:[.4,2.8,.8,3,1.4,.5,0],fear:[.3,1.4,2.2,.1,1,2.5,.6],disgust:[2.5,.3,3,2.5,1],sadness:[3,.4,.3,2.5,.3],enjoyment:[.5,3,1.5,0,2.5,.5,.3],universalLearned:this.screenIsSmall?[2.5,2.5]:[1.5,0]}),r+i*(o[t][e]+a)*s},calcArrowLength:function(e,t,n,r){return 1-e*this.emotionArrowPercents[n][r]/t},parseTriggers:function(e){var t=this,n={};return s["default"].values(c["default"].EMOTIONS).forEach(function(r){n[r]=(0,d["default"])().getStr("emotionsData.emotions."+r+".triggers").concat().sort(function(e,t){return e.type>t.type?-1:e.type<t.type?1:0}).map(function(n,i){return{name:n.name,type:n.type.toLowerCase(),angle:t.calcAngle(i,r,e),radius:t.calcRadius(i,r,e)*(t.screenIsSmall?.8888:1),arrowLength:t.calcArrowLength(e,t.calcRadius(i,r,e),r,i),isFilteredByDatabasePhase:t.emotionArrowPercents[r][i]>S}})}),n},initArrowPercents:function(){this.emotionArrowPercents=s["default"].values(c["default"].EMOTIONS).reduce(function(e,t){var n=s["default"].shuffle(x[t]);return e[t]=w[t].concat(n),e},{})},initContainers:function(e){s["default"].values(c["default"].EMOTIONS).forEach(function(t){var n=document.createElement("div");n.classList.add("triggers-container"),n.classList.add(t);var r=document.createElement("div");r.classList.add("graph-container"),n.appendChild(r),e.appendChild(n)})},setUpGraphs:function(e){var t=this,n=e.querySelector(".graph-container"),r=n.offsetWidth,i=n.offsetHeight,a=this.screenIsSmall?h["default"].triggers["bottom-small"]:h["default"].triggers.bottom,u={top:0*i,right:0*r,bottom:a.replace("%","")/100*i,left:0*r},l=r-u.left-u.right,d=i-u.top-u.bottom,f=Math.min(.6*d,.5*l);if(this.haloPieLayout=o["default"].layout.pie().value(function(e){return 1}).startAngle(-.5*Math.PI).endAngle(.5*Math.PI),this.haloArcGenerator=o["default"].svg.arc().innerRadius(.8*f).outerRadius(f),this.graphContainers)s["default"].values(c["default"].EMOTIONS).forEach(function(t,n){var r=e.querySelector("."+t+" .graph-container"),i=o["default"].select(r).select("svg").attr("width",r.offsetWidth).attr("height",r.offsetHeight);i.select("g").attr("transform","translate("+(u.left+.5*l)+","+(u.top+d)+")")});else{this.graphContainers={},s["default"].values(c["default"].EMOTIONS).forEach(function(n,r){var i=e.querySelector("."+n+" .graph-container"),a=o["default"].select(i).append("svg").attr("width",i.offsetWidth).attr("height",i.offsetHeight),s=a.append("g").attr("transform","translate("+(u.left+.5*l)+","+(u.top+d)+")");t.graphContainers[n]=s});var p=o["default"].select(e).append("svg").classed("triggers-defs",!0);this.setUpDefs(p.append("defs"),f)}return f},setUpDefs:function(e,t){e.append("radialGradient").attr("id","triggers-radial-gradient").attr("gradientUnits","userSpaceOnUse").attr("cx",0).attr("cy",0).attr("r",t),e.append("radialGradient").attr("id","triggers-anger-radial-gradient").attr("xlink:href","#triggers-radial-gradient").selectAll("stop").data([{offset:"84%",color:"rgba(228, 135, 102, 0.2)"},{offset:"100%",color:"rgba(204, 28, 43, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("radialGradient").attr("id","triggers-disgust-radial-gradient").attr("xlink:href","#triggers-radial-gradient").selectAll("stop").data([{offset:"84%",color:"rgba(0, 142, 69, 0.3)"},{offset:"100%",color:"rgba(0, 104, 55, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("radialGradient").attr("id","triggers-enjoyment-radial-gradient").attr("xlink:href","#triggers-radial-gradient").selectAll("stop").data([{offset:"84%",color:"rgba(241, 196, 83, 0.8)"},{offset:"100%",color:"rgba(248, 136, 29, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("radialGradient").attr("id","triggers-fear-radial-gradient").attr("xlink:href","#triggers-radial-gradient").selectAll("stop").data([{offset:"84%",color:"rgba(248, 58, 248, 0.1)"},{offset:"100%",color:"rgba(143, 39, 139, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("radialGradient").attr("id","triggers-sadness-radial-gradient").attr("xlink:href","#triggers-radial-gradient").selectAll("stop").data([{offset:"84%",color:"rgba(200, 220, 240, 1.0)"},{offset:"100%",color:"rgba(64, 70, 164, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","triggers-linear-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0),e.append("linearGradient").attr("id","triggers-anger-linear-gradient").attr("xlink:href","#triggers-linear-gradient").selectAll("stop").data([{offset:"0%",color:"rgba(228, 135, 102, 0.2)"},{offset:"100%",color:"rgba(204, 28, 43, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","triggers-disgust-linear-gradient").attr("xlink:href","#triggers-linear-gradient").selectAll("stop").data([{offset:"0%",color:"rgba(0, 142, 69, 0.3)"},{offset:"56%",color:"rgba(0, 122, 61, 0.8)"},{offset:"100%",color:"rgba(0, 104, 55, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","triggers-enjoyment-linear-gradient").attr("xlink:href","#triggers-linear-gradient").selectAll("stop").data([{offset:"0%",color:"rgba(241, 196, 83, 0.8)"},{offset:"100%",color:"rgba(248, 136, 29, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","triggers-fear-linear-gradient").attr("xlink:href","#triggers-linear-gradient").selectAll("stop").data([{offset:"0%",color:"rgba(248, 58, 248, 0.1)"},{offset:"100%",color:"rgba(143, 39, 139, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),e.append("linearGradient").attr("id","triggers-sadness-linear-gradient").attr("xlink:href","#triggers-linear-gradient").selectAll("stop").data([{offset:"0%",color:"rgba(200, 220, 240, 1.0)"},{offset:"56%",color:"rgba(30, 152, 211, 1.0)"},{offset:"100%",color:"rgba(64, 70, 164, 1.0)"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color})},initLabels:function(e,t){var n=this;this.labelContainers={},s["default"].values(c["default"].EMOTIONS).forEach(function(r){var i=n.screenIsSmall?h["default"].triggers["bottom-small"]:h["default"].triggers.bottom,a=(1-i.replace("%","")/100)*e.offsetHeight,s=o["default"].select(".triggers-container."+r),u=s.append("div").classed("label-container",!0),c=(u.append("div").attr("class","arrows-container").append("svg").attr("width",e.offsetWidth).attr("height",a).append("g").attr("transform","translate("+.5*e.offsetWidth+","+a+")"),u.append("div").classed("universal-learned-labels "+r,!0)),l=n.getUniversalLearnedTransform("universal",t),f=n.getUniversalLearnedTransform("learned",t);c.append("div").attr("class","emotion-label "+b.UNIVERSAL+" "+r).attr("data-popuptarget","triggers:"+r+"-"+b.UNIVERSAL).style("transform",l).style("-webkit-transform",l).append("h3").attr("class",n.screenIsSmall?r:null).text((0,d["default"])().getStr("emotionsData.metadata.triggers.steps[3].header").toUpperCase()),c.append("div").attr("class","emotion-label "+b.LEARNED+" "+r).attr("data-popuptarget","triggers:"+r+"-"+b.LEARNED).style("transform",f).style("-webkit-transform",f).append("h3").attr("class",n.screenIsSmall?r:null).text((0,d["default"])().getStr("emotionsData.metadata.triggers.steps[4].header").toUpperCase()),n.labelContainers[r]=u;var p=u.append("div").classed("trigger-phase-labels "+r,!0),m=p.selectAll(".emotion-label").data((0,d["default"])().getStr("emotionsData.metadata.triggers.steps").slice(0,3)),g=m.enter().append("div").attr("class","emotion-label "+r).attr("data-popuptarget",function(e){return"triggers:"+r+"-"+e.header.toLowerCase()}).style("display",function(e,t){return n.screenIsSmall&&0===t?"none":null}).style("top",function(e,n){switch(n){case 0:return Math.round(-1.4*t)+"px";case 1:return Math.round(-.9*t)+"px";case 2:return Math.round(-.65*t)+"px"}}).on("mouseenter",function(e){return n.setHitAreasLocked(!0)}).on("mouseleave",function(e){return n.setHitAreasLocked(!1)}).on("click",function(e,t){switch(t){case 0:return n.onPhaseLabelClick(v.APPRAISAL);case 1:return n.onPhaseLabelClick(v.DATABASE);case 2:return n.onPhaseLabelClick(v.IMPULSE)}});g.append("h3").text(function(e){return e.header.toUpperCase()}),n.screenIsSmall&&c.selectAll(".emotion-label").on("click",function(e,t){switch(t){case 0:return n.onPhaseLabelClick(v.UNIVERSAL);case 1:return n.onPhaseLabelClick(v.LEARNED)}})})},setUpHitAreas:function(e){var t=this,n=this.screenIsSmall?h["default"].triggers["bottom-small"]:h["default"].triggers.bottom,r=e.offsetWidth,i=(1-n.replace("%","")/100)*e.offsetHeight,a=this.haloArcGenerator.innerRadius(),s=document.createElement("div");s.id="trigger-hit-area-container",e.insertBefore(s,e.childNodes[0]);var u=o["default"].select(s).append("svg").attr("width",s.offsetWidth).attr("height",s.offsetHeight),c=u.append("g").attr("transform","translate("+.5*r+","+i+")");c.append("rect").attr("class","hit-area").attr("x",-r/2).attr("y",-i).attr("width",r).attr("height",i).on("mouseover",function(){t.onHitAreaMouseOver(v.APPRAISAL)}).on("mouseout",function(){t.onHitAreaMouseOut(v.APPRAISAL)}).on("click",function(){t.screenIsSmall?t.setCallout(v.APPRAISAL):t.setCallout(null)}),c.append("path").data(this.haloPieLayout([{}])).attr("class","hit-area").attr("d",this.haloArcGenerator).on("mouseover",function(){t.onHitAreaMouseOver(v.DATABASE)}).on("mouseout",function(){t.onHitAreaMouseOut(v.DATABASE)}).on("click",function(){t.screenIsSmall?t.setCallout(v.DATABASE):t.setCallout(null)});var l=o["default"].svg.arc().innerRadius(0).outerRadius(a);c.append("path").data(this.haloPieLayout([{}])).attr("class","hit-area").attr("d",l).on("mouseover",function(){t.onHitAreaMouseOver(v.IMPULSE)}).on("mouseout",function(){t.onHitAreaMouseOut(v.IMPULSE)}).on("click",function(){t.screenIsSmall?t.setCallout(v.IMPULSE):t.setCallout(null)}),o["default"].select("#header").on("click",function(){t.onPhaseLabelClick(null)})},drawHorizon:function(e){var t=document.createElement("div");t.classList.add("horizon"),e.insertBefore(t,e.childNodes[0])},setEmotion:function(e){var t=this;return new Promise(function(n,r){~s["default"].values(c["default"].EMOTIONS).indexOf(e)||(e="anger");var i=t.currentEmotion;t.currentEmotion=e;var a=0;i&&!function(){var t=o["default"].select(".triggers-container."+i);t.classed("active",!1),t.on("transitionend",function(e){t.on("transitionend",null),t.style("transform",null),t.style("-webkit-transform",null),t.classed("transitioning",!1)});var n=document.querySelector("#triggers .graph-container").offsetWidth,r=s["default"].values(c["default"].EMOTIONS);a=1.25*n,r.indexOf(e)<r.indexOf(i)&&(a*=-1),Math.abs(r.indexOf(e)-r.indexOf(i))==r.length-1&&(a*=-1),setTimeout(function(){t.style("transform","translateX("+-a+"px)"),t.style("-webkit-transform","translateX("+-a+"px)")},1e3*h["default"].emotions.panX.delay)}();var u=o["default"].select(".triggers-container."+e);u.classed("transitioning")?u.on("transitionend",null):(u.classed("transitioning",!1),u.style("transform","translateX("+a+"px)"),u.style("-webkit-transform","translateX("+a+"px)")),setTimeout(function(){u.classed("transitioning active",!0),u.style("transform","translateX(0)"),u.style("-webkit-transform","translateX(0)")},1e3*h["default"].emotions.panX.delay),t.renderGraph(t.currentEmotion),t.renderLabels(t.currentEmotion),t.openCallout(500),document.querySelector("#triggers .horizon").classList.add("visible");var l=void 0;l=i?1e3*(h["default"].emotions.panX.delay+h["default"].emotions.panX.duration):h["default"].states.backgrounded.duration["in"],setTimeout(function(){n()},l)})},renderGraph:function(e){var t=this.graphContainers[e],n=t.selectAll("path.halo");if(!n.size()){n=n.data(this.haloPieLayout([{}]));var r="triggers-"+e+"-radial-gradient",i=n.enter();i.append("radialGradient").attr("xlink:href","#"+r).attr("id",r+"-halo"),i.append("path").classed("halo "+e,!0).attr("d",this.haloArcGenerator).attr("fill","url(#"+r+"-halo)").style("opacity",0).transition().duration(1e3).style("opacity",1),n.exit().transition().duration(600).style("opacity",0).remove()}},renderLabels:function(e){var t=this,n=e?this.triggersData[e]:[];e=e||this.currentEmotion,this.screenIsSmall&&!function(){var e={universal:0,learned:0};n=n.filter(function(t){return e[t.type]++<3})}();var r=this.screenIsSmall?h["default"].triggers["bottom-small"]:h["default"].triggers.bottom,i=(1-r.replace("%","")/100)*this.sectionContainer.offsetHeight,o=this.labelContainers[e],a=o.selectAll("div.label").data(n),s=this.sectionContainer.offsetWidth/this.sectionContainer.offsetHeight,u={anger:s>1?[-.05,0,0,-.1,0,.15,.2]:[-.1,0,0,0,.25,.27,.24],fear:[0,-.15,0,0,0,0,0],disgust:[0,0,0,.1,0],sadness:s>1?[-.1,0,0,0,0]:[.2,0,-.13,0,.1],enjoyment:s>1?[-.05,0,0,0,.1,.1,.1]:[-.1,0,0,-.2,0,.2,.1]};a.enter().append("div").classed("label "+e,!0).attr("data-popuptarget",function(e,t){return"triggers:"+e.name}).classed("filtered-by-database",function(e){return e.isFilteredByDatabasePhase}).append("h4").html(function(e){return e.name}).style("text-align","left").attr("class",function(e){return e.name.replace(/\s+/g,"-")}).on("mouseenter",function(e){return t.setHitAreasLocked(!0)}).on("mouseleave",function(e){return t.setHitAreasLocked(!1)}).on("click",function(e){return t.showTriggerPopup(e.type,e.name)});var c=function(n,r){var o=document.getElementsByClassName(n.name.replace(/\s+/g,"-"))[0].offsetWidth*(u[e][r]-.5),a=.5*t.sectionContainer.offsetWidth+Math.cos(n.angle)*n.radius+o,s=i+Math.sin(n.angle)*n.radius-10;return"translate("+a+"px,"+s+"px)"};a.style("transform",c).style("-webkit-transform",c),a.exit().style("opacity",1).transition().duration(600).style("opacity",0).remove();var l="triggers-"+e+"-linear-gradient",d=o.select(".arrows-container g"),f=d.selectAll("linearGradient").data(n),p=d.selectAll("g.arrow").data(n);f.enter().append("linearGradient").attr("xlink:href","#"+l).attr("id",function(e,t){return l+"-arrow-"+t});var m=p.enter().append("g").classed("arrow "+e,!0).classed("filtered-by-database",function(e){return e.isFilteredByDatabasePhase});m.append("line").attr("stroke",function(e,t){return"url(#"+l+"-arrow-"+t+")"}),m.append("path"),f.attr("x1",function(e){return Math.cos(e.angle)*e.radius*.95}).attr("x2",function(e){return Math.cos(e.angle)*e.radius*(1-e.arrowLength)}).attr("y1",function(e){return Math.sin(e.angle)*e.radius*.95}).attr("y2",function(e){return Math.sin(e.angle)*e.radius*(1-e.arrowLength)}),p.select("line").attr("x1",function(e){return Math.cos(e.angle)*e.radius*.95}).attr("x2",function(e){return Math.cos(e.angle)*e.radius*(1-e.arrowLength)}).attr("y1",function(e){return Math.sin(e.angle)*e.radius*.95}).attr("y2",function(e){return Math.sin(e.angle)*e.radius*(1-e.arrowLength)}),p.select("path").attr("d",y).attr("transform",function(e){return"translate("+Math.cos(e.angle)*e.radius*(1-e.arrowLength)+","+Math.sin(e.angle)*e.radius*(1-e.arrowLength)+") rotate("+(180*e.angle/Math.PI+90)+")"}),f.exit().remove(),p.exit().style("opacity",1).transition().duration(600).style("opacity",0).remove()},open:function(){this.openCallout(1500),c["default"].addListener(c["default"].EVENTS.POPUP_CLOSE_BUTTON_CLICKED,this.onPopupCloseButtonClicked)},close:function(){var e=this;return c["default"].popupChange(),new Promise(function(t,n){clearTimeout(e.calloutTimeout),document.querySelector("#states").classList.remove("faded"),document.querySelector("#actions").classList.remove("faded"),e.renderLabels(null),e.currentEmotion&&e.graphContainers[e.currentEmotion].selectAll("path.halo").remove(),document.querySelector("#triggers .horizon").classList.remove("visible"),c["default"].removeListener(c["default"].EVENTS.POPUP_CLOSE_BUTTON_CLICKED,e.onPopupCloseButtonClicked),t()})},getUniversalLearnedTransform:function(e,t){var n={universal:0,learned:1},r=this.calcAngle(n[e],"universalLearned",t),i=this.calcRadius(n[e],"universalLearned",t)*(this.screenIsSmall?.95:1);return this.screenIsSmall&&("universal"===e?r=-Math.PI/2-.5:"learned"===e&&(r=-Math.PI/2+.5)),"translate("+Math.cos(r)*i+"px,"+Math.sin(r)*i+"px)"},onResize:function(e){var t=this;this.screenIsSmall=e;var n=this.setUpGraphs(this.sectionContainer);o["default"].select("#triggers-radial-gradient").attr("r",n);var r=this.screenIsSmall?h["default"].triggers["bottom-small"]:h["default"].triggers.bottom,i=this.sectionContainer.offsetWidth,a=(1-r.replace("%","")/100)*this.sectionContainer.offsetHeight,u=this.haloArcGenerator,l=u.innerRadius(),d=this.haloPieLayout([{}]);s["default"].values(c["default"].EMOTIONS).forEach(function(e){var r=t.graphContainers[e],i=r.selectAll("path.halo").data(d);i.size()&&i.attr("d",u);var o=t.labelContainers[e];o.select(".arrows-container svg").attr("width",t.sectionContainer.offsetWidth).attr("height",a).select("g").attr("width",t.sectionContainer.offsetWidth).attr("height",a).attr("transform","translate("+.5*t.sectionContainer.offsetWidth+","+a+")"),t.triggersData[e].forEach(function(r,i){r.angle=t.calcAngle(i,e,n),r.radius=t.calcRadius(i,e,n),r.arrowLength=t.calcArrowLength(n,t.calcRadius(i,e,n),e,i)});var s=t.getUniversalLearnedTransform("universal",n),c=t.getUniversalLearnedTransform("learned",n);o.select("."+b.UNIVERSAL).style("transform",s).style("-webkit-transform",s),o.select("."+b.LEARNED).style("transform",c).style("-webkit-transform",c),t.renderLabels(e),o.select(".trigger-phase-labels").selectAll(".emotion-label").style("top",function(e,t){switch(t){case 0:return Math.round(-1.4*n)+"px";case 1:return Math.round(-.9*n)+"px";case 2:return Math.round(-.65*n)+"px"}})});var f=document.querySelector("#trigger-hit-area-container"),p=o["default"].select("#trigger-hit-area-container svg").attr("width",f.offsetWidth).attr("height",f.offsetHeight),m=p.select("g").attr("transform","translate("+.5*i+","+a+")");m.selectAll(".hit-area").each(function(e,t){switch(t){case 0:return void o["default"].select(this).attr("x",-i/2).attr("y",-a).attr("width",i).attr("height",a);case 1:return void o["default"].select(this).data(d).attr("d",u);case 2:var n=o["default"].svg.arc().innerRadius(0).outerRadius(l);return void o["default"].select(this).data(d).attr("d",n)}})},showTriggerPopup:function(e,t){o["default"].event&&o["default"].event.stopImmediatePropagation();var n="";n="universal"==e?(0,d["default"])().getStr("emotionsData.metadata.triggers.steps[3].body"):(0,d["default"])().getStr("emotionsData.metadata.triggers.steps[4].body"),c["default"].popupChange("triggers",t,n)},onHitAreaMouseOver:function(e){0==o["default"].selectAll(".emotion-label").filter(".popped")[0].length&&this.displayHighlightedHitArea(e)},onHitAreaMouseOut:function(e){this.displayHighlightedHitArea(null)},onPhaseLabelClick:function(e){o["default"].event&&o["default"].event.stopImmediatePropagation(),this.setHighlightedHitArea(e)},onPopupCloseButtonClicked:function(e){o["default"].select(this.sectionContainer).selectAll(".universal, .learned").classed("visible",!1),this.highlightedHitArea=null},setHitAreasLocked:function(e){this.screenIsSmall&&(e=!1),this.hitAreasLocked=e},setHighlightedHitArea:function(e){e===this.highlightedHitArea?(this.highlightedHitArea=null,this.displayHighlightedHitArea(null),this.setCallout(null)):(this.highlightedHitArea=e,this.displayHighlightedHitArea(),this.setCallout(e))},displayHighlightedHitArea:function(e){var t=this;setTimeout(function(){if(!t.hitAreasLocked){e=e||t.highlightedHitArea||null;var n=t.graphContainers[t.currentEmotion],r=t.labelContainers[t.currentEmotion],i=o["default"].select("#states"),a=o["default"].select("#actions");switch(e){case v.APPRAISAL:case v.UNIVERSAL:case v.LEARNED:n.classed("muted",!0),i.classed("faded",!0),a.classed("faded",!0);break;case v.DATABASE:n.classed("muted",!1),i.classed("faded",!0),a.classed("faded",!0);break;case v.IMPULSE:n.classed("muted",!0),i.classed("faded",!1),a.classed("faded",!1);break;default:n.classed("muted",!1),i.classed("faded",!1),a.classed("faded",!1)}r.selectAll(".filtered-by-database").each(function(t,n){o["default"].select(this).classed("muted",e===v.IMPULSE)});var s=t.screenIsSmall;r.selectAll(".trigger-phase-labels .emotion-label").each(function(t,n){o["default"].select(this).classed("highlighted",s?!1:n===e-1),o["default"].select(this).classed("muted",n!==e-1)}),t.screenIsSmall&&r.selectAll(".universal-learned-labels .emotion-label").each(function(t,n){o["default"].select(this).classed("highlighted",s?!1:n===e-4),o["default"].select(this).classed("muted",n!==e-4)})}},1)},openCallout:function(e){var t=this;this.calloutTimeout||(this.calloutTimeout=setTimeout(function(){t.setCallout(!1),t.calloutTimeout=null},e))},setCallout:function(e){if(o["default"].select(this.sectionContainer).selectAll(".universal, .learned").classed("visible",!1),e){var t=void 0,n=void 0,r=void 0;this.screenIsSmall&&e===v.UNIVERSAL||e===v.LEARNED?(t=(0,d["default"])().getStr("emotionsData.emotions."+this.currentEmotion+".triggers["+(e-4)+"].name_mobile"),n=(0,d["default"])().getStr("emotionsData.emotions."+this.currentEmotion+".triggers["+(e-4)+"].desc_mobile"),r=t.toLowerCase()):(t=(0,d["default"])().getStr("emotionsData.metadata.triggers.steps["+(e-1)+"].header"),n=(0,d["default"])().getStr("emotionsData.metadata.triggers.steps["+(e-1)+"].body"),r=this.screenIsSmall?t.toLowerCase():this.currentEmotion+"-"+t.toLowerCase()),c["default"].popupChange("triggers",r,n)}else c["default"].popupChange(),c["default"].changeCallout(this.currentEmotion,(0,d["default"])().getStr("emotionsData.metadata.triggers.header"),(0,d["default"])().getStr("emotionsData.metadata.triggers.body")),this.highlightedHitArea=null}}},{"../scss/variables.json":309,"./actions.js":313,"./appStrings.js":314,"./dispatcher.js":317,"./states.js":337,d3:299,lodash:303}],339:[function(e,t,n){t.exports={emotions:{anger:{continent:{name:"anger_continent_header",desc:"anger_continent_body",name_mobile:"anger_continent_header_mobile",desc_mobile:"anger_continent_body_mobile"},states:[{name:"anger_states_header_1",desc:"anger_states_body_1",name_mobile:"anger_states_header_1",desc_mobile:"anger_states_body_1",range:{min:1,max:2},actions:{all:["7","9","8"],con:["7"],des:["7","9","8"],both:["7"]}},{name:"anger_states_header_2",desc:"anger_states_body_2",name_mobile:"anger_states_header_2",desc_mobile:"anger_states_body_2",range:{min:1,max:10},actions:{all:["7","1","2","3","5","8","9"],con:["7"],des:["1","2","3","5","7","8","9"],both:["7"]}},{name:"anger_states_header_3",desc:"anger_states_body_3",name_mobile:"anger_states_header_3",desc_mobile:"anger_states_body_3",range:{min:2,max:10},actions:{all:["7","1","2","3","8"],con:["7"],des:["1","2","3","7","8"],both:["7"]}},{name:"anger_states_header_4",desc:"anger_states_body_4",name_mobile:"anger_states_header_4",desc_mobile:"anger_states_body_4",range:{min:3,max:10},actions:{all:["7","2","3","4","5","8","9"],con:["7"],des:["2","3","4","5","7","8","9"],both:["7"]}},{name:"anger_states_header_5",desc:"anger_states_body_5",name_mobile:"anger_states_header_5",desc_mobile:"anger_states_body_5",range:{min:4,max:7},actions:{all:["7","1","2","3","9","4","5","8"],con:["7"],des:["1","2","3","7","9","4","5","8"],both:["7"]}},{name:"anger_states_header_6",desc:"anger_states_body_6",name_mobile:"anger_states_header_6",desc_mobile:"anger_states_body_6",range:{min:5,max:10},actions:{all:["","1","2","3","4","5","6","7","8"],con:[""],des:["1","2","3","4","5","6","7","8"],both:[]}},{name:"anger_states_header_7",desc:"anger_states_body_7",name_mobile:"anger_states_header_7",desc_mobile:"anger_states_body_7",range:{min:10,max:10},actions:{all:["","1","2","3","5","6","7","8"],con:[""],des:["1","2","3","5","6","7","8"],both:[]}}],actions:[{name:"anger_actions_header_1",desc:"anger_actions_body_1",name_mobile:"anger_actions_header_1",desc_mobile:"anger_actions_body_1"},{name:"anger_actions_header_2",desc:"anger_actions_body_2",name_mobile:"anger_actions_header_2",desc_mobile:"anger_actions_body_2"},{name:"anger_actions_header_3",desc:"anger_actions_body_3",name_mobile:"anger_actions_header_3",desc_mobile:"anger_actions_body_3"},{name:"anger_actions_header_4",desc:"anger_actions_body_4",name_mobile:"anger_actions_header_4",desc_mobile:"anger_actions_body_4"},{name:"anger_actions_header_5",desc:"anger_actions_body_5",name_mobile:"anger_actions_header_5",desc_mobile:"anger_actions_body_5"},{name:"anger_actions_header_6",desc:"anger_actions_body_6",name_mobile:"anger_actions_header_6",desc_mobile:"anger_actions_body_6"},{name:"anger_actions_header_7",desc:"anger_actions_body_7",name_mobile:"anger_actions_header_7",desc_mobile:"anger_actions_body_7"},{name:"anger_actions_header_8",desc:"anger_actions_body_8",name_mobile:"anger_actions_header_8",desc_mobile:"anger_actions_body_8"},{name:"anger_actions_header_9",desc:"anger_actions_body_9",name_mobile:"anger_actions_header_9",desc_mobile:"anger_actions_body_9"}],triggers:[{name:"anger_triggers_header_1",type:"Universal",name_mobile:"anger_triggers_universal_header_mobile",desc_mobile:"anger_triggers_universal_body_mobile"},{name:"anger_triggers_header_2",type:"Universal",name_mobile:"anger_triggers_learned_header_mobile",desc_mobile:"anger_triggers_learned_body_mobile"},{name:"anger_triggers_header_3",type:"Universal",name_mobile:"anger_triggers_header_3",desc_mobile:"Universal"},{name:"anger_triggers_header_4",type:"Learned",name_mobile:"anger_triggers_header_4",desc_mobile:"Learned"},{name:"anger_triggers_header_5",type:"Learned",name_mobile:"anger_triggers_header_5",desc_mobile:"Learned"},{name:"anger_triggers_header_6",type:"Learned",name_mobile:"anger_triggers_header_6",desc_mobile:"Learned"},{name:"anger_triggers_header_7",type:"Learned",name_mobile:"anger_triggers_header_7",desc_mobile:"Learned"}],moods:[{name:"anger_moods_header",desc:"anger_moods_body",name_mobile:"anger_moods_header",desc_mobile:"anger_moods_body"}]},fear:{continent:{name:"fear_continent_header",desc:"fear_continent_body",name_mobile:"fear_continent_header_mobile",desc_mobile:"fear_continent_body_mobile"},states:[{name:"fear_states_header_1",desc:"fear_states_body_1",name_mobile:"fear_states_header_1",desc_mobile:"fear_states_body_1",range:{min:1,max:3},actions:{all:["3","6","7"],con:["3"],des:["6","7"],both:[]}},{name:"fear_states_header_2",desc:"fear_states_body_2",name_mobile:"fear_states_header_2",desc_mobile:"fear_states_body_2",range:{min:1,max:10},actions:{all:["3","1","4","6","7"],con:["3","1","4"],des:["1","4","6","7"],both:["1","4"]}},{name:"fear_states_header_3",desc:"fear_states_body_3",name_mobile:"fear_states_header_3",desc_mobile:"fear_states_body_3",range:{min:2,max:7},actions:{all:["3","6","7"],con:["3"],des:["6","7"],both:[]}},{name:"fear_states_header_4",desc:"fear_states_body_4",name_mobile:"fear_states_header_4",desc_mobile:"fear_states_body_4",range:{min:6,max:10},actions:{all:["1","4","5","6","7"],con:["1","4"],des:["1","4","5","6","7"],both:["1","4"]}},{name:"fear_states_header_5",desc:"fear_states_body_5",name_mobile:"fear_states_header_5",desc_mobile:"fear_states_body_5",range:{min:9,max:10},actions:{all:["2","3","4","5","6"],con:["2","3","4"],des:["2","3","4","5","6"],both:["2","3","4"]}},{name:"fear_states_header_6",desc:"fear_states_body_6",name_mobile:"fear_states_header_6",desc_mobile:"fear_states_body_6",range:{min:10,max:10},actions:{all:["1","4","5","6","7"],con:["1","4","5"],des:["1","4","5","6","7"],both:["1","4","5"]}},{name:"fear_states_header_7",desc:"fear_states_body_7",name_mobile:"fear_states_header_7",desc_mobile:"fear_states_body_7",range:{min:10,max:10},actions:{all:["1","4","5"],con:["1","4","5"],des:["1","4","5"],both:["1","4","5"]}},{name:"fear_states_header_8",desc:"fear_states_body_8",name_mobile:"fear_states_header_8",desc_mobile:"fear_states_body_8",range:{min:10,max:10},actions:{all:["1","4","5"],con:["1","4","5"],des:["1","4","5"],both:["1","4","5"]}}],actions:[{name:"fear_actions_header_1",desc:"fear_actions_body_1",name_mobile:"fear_actions_header_1",desc_mobile:"fear_actions_body_1"},{name:"fear_actions_header_2",desc:"fear_actions_body_2",name_mobile:"fear_actions_header_2",desc_mobile:"fear_actions_body_2"},{name:"fear_actions_header_3",desc:"fear_actions_body_3",name_mobile:"fear_actions_header_3",desc_mobile:"fear_actions_body_3"},{name:"fear_actions_header_4",desc:"fear_actions_body_4",name_mobile:"fear_actions_header_4",desc_mobile:"fear_actions_body_4"},{name:"fear_actions_header_5",desc:"fear_actions_body_5",name_mobile:"fear_actions_header_5",desc_mobile:"fear_actions_body_5"},{name:"fear_actions_header_6",desc:"fear_actions_body_6",name_mobile:"fear_actions_header_6",desc_mobile:"fear_actions_body_6"},{name:"fear_actions_header_7",desc:"fear_actions_body_7",name_mobile:"fear_actions_header_7",desc_mobile:"fear_actions_body_7"}],triggers:[{name:"fear_triggers_header_1",type:"Universal",name_mobile:"fear_triggers_universal_header_mobile",desc_mobile:"fear_triggers_universal_body_mobile"},{name:"fear_triggers_header_2",type:"Universal",name_mobile:"fear_triggers_learned_header_mobile",desc_mobile:"fear_triggers_learned_body_mobile"},{name:"fear_triggers_header_3",type:"Universal",name_mobile:"fear_triggers_header_3",desc_mobile:"Universal"
},{name:"fear_triggers_header_4",type:"Universal",name_mobile:"fear_triggers_header_4",desc_mobile:"Universal"},{name:"fear_triggers_header_5",type:"Learned",name_mobile:"fear_triggers_header_5",desc_mobile:"Learned"},{name:"fear_triggers_header_6",type:"Learned",name_mobile:"fear_triggers_header_6",desc_mobile:"Learned"},{name:"fear_triggers_header_7",type:"Learned",name_mobile:"fear_triggers_header_7",desc_mobile:"Learned"}],moods:[{name:"fear_moods_header",desc:"fear_moods_body",name_mobile:"fear_moods_header",desc_mobile:"fear_moods_body"}]},disgust:{continent:{name:"disgust_continent_header",desc:"disgust_continent_body",name_mobile:"disgust_continent_header_mobile",desc_mobile:"disgust_continent_body_mobile"},states:[{name:"disgust_states_header_1",desc:"disgust_states_body_1",name_mobile:"disgust_states_header_1",desc_mobile:"disgust_states_body_1",range:{min:1,max:5},actions:{all:["1","2","4"],con:["1","2"],des:["2","4"],both:["2"]}},{name:"disgust_states_header_2",desc:"disgust_states_body_2",name_mobile:"disgust_states_header_2",desc_mobile:"disgust_states_body_2",range:{min:2,max:7},actions:{all:["1","2","4"],con:["1","2"],des:["4"],both:[]}},{name:"disgust_states_header_3",desc:"disgust_states_body_3",name_mobile:"disgust_states_header_3",desc_mobile:"disgust_states_body_3",range:{min:2,max:7},actions:{all:["1","2","3",""],con:["1","2","3"],des:[""],both:[]}},{name:"disgust_states_header_4",desc:"disgust_states_body_4",name_mobile:"disgust_states_header_4",desc_mobile:"disgust_states_body_4",range:{min:2,max:9},actions:{all:["1","2","4"],con:["1","2"],des:["2","4"],both:["2"]}},{name:"disgust_states_header_5",desc:"disgust_states_body_5",name_mobile:"disgust_states_header_5",desc_mobile:"disgust_states_body_5",range:{min:8,max:10},actions:{all:["1","2","3","4"],con:["1","2","3"],des:["4"],both:[]}},{name:"disgust_states_header_6",desc:"disgust_states_body_6",name_mobile:"disgust_states_header_6",desc_mobile:"disgust_states_body_6",range:{min:8,max:10},actions:{all:["1","2","4"],con:["1","2"],des:["4"],both:[]}},{name:"disgust_states_header_7",desc:"disgust_states_body_7",name_mobile:"disgust_states_header_7",desc_mobile:"disgust_states_body_7",range:{min:9,max:10},actions:{all:["1","2","4"],con:["1"],des:["2","4"],both:[]}}],actions:[{name:"disgust_actions_header_1",desc:"disgust_actions_body_1",name_mobile:"disgust_actions_header_1",desc_mobile:"disgust_actions_body_1"},{name:"disgust_actions_header_2",desc:"disgust_actions_body_2",name_mobile:"disgust_actions_header_2",desc_mobile:"disgust_actions_body_2"},{name:"disgust_actions_header_3",desc:"disgust_actions_body_3",name_mobile:"disgust_actions_header_3",desc_mobile:"disgust_actions_body_3"},{name:"disgust_actions_header_4",desc:"disgust_actions_body_4",name_mobile:"disgust_actions_header_4",desc_mobile:"disgust_actions_body_4"}],triggers:[{name:"disgust_triggers_header_1",type:"Universal",name_mobile:"disgust_triggers_universal_header_mobile",desc_mobile:"disgust_triggers_universal_body_mobile"},{name:"disgust_triggers_header_2",type:"Universal",name_mobile:"disgust_triggers_learned_header_mobile",desc_mobile:"disgust_triggers_learned_body_mobile"},{name:"disgust_triggers_header_3",type:"Learned",name_mobile:"disgust_triggers_header_3",desc_mobile:"Learned"},{name:"disgust_triggers_header_4",type:"Learned",name_mobile:"disgust_triggers_header_4",desc_mobile:"Learned"},{name:"disgust_triggers_header_5",type:"Learned",name_mobile:"disgust_triggers_header_5",desc_mobile:"Learned"}],moods:[{name:"disgust_moods_header",desc:"disgust_moods_body",name_mobile:"disgust_moods_header",desc_mobile:"disgust_moods_body"}]},sadness:{continent:{name:"sadness_continent_header",desc:"sadness_continent_body",name_mobile:"sadness_continent_header_mobile",desc_mobile:"sadness_continent_body_mobile"},states:[{name:"sadness_states_header_1",desc:"sadness_states_body_1",name_mobile:"sadness_states_header_1",desc_mobile:"sadness_states_body_1",range:{min:1,max:5},actions:{all:["1","4","2","3","6"],con:["1","4"],des:["2","3","4","6"],both:["4"]}},{name:"sadness_states_header_2",desc:"sadness_states_body_2",name_mobile:"sadness_states_header_2",desc_mobile:"sadness_states_body_2",range:{min:1,max:10},actions:{all:["1","2","5","3","4","6"],con:["1","2","5"],des:["2","3","4","5","6"],both:["2","5"]}},{name:"sadness_states_header_3",desc:"sadness_states_body_3",name_mobile:"sadness_states_header_3",desc_mobile:"sadness_states_body_3",range:{min:2,max:8},actions:{all:["1","5","2","6"],con:["1","5"],des:["2","5","6"],both:["5"]}},{name:"sadness_states_header_4",desc:"sadness_states_body_4",name_mobile:"sadness_states_header_4",desc_mobile:"sadness_states_body_4",range:{min:2,max:8},actions:{all:["1","4","5","2","3"],con:["1","4","5"],des:["2","3","4"],both:["4"]}},{name:"sadness_states_header_5",desc:"sadness_states_body_5",name_mobile:"sadness_states_header_5",desc_mobile:"sadness_states_body_5",range:{min:5,max:10},actions:{all:["1","5","2","3","6"],con:["1","5"],des:["2","3","5","6"],both:["5"]}},{name:"sadness_states_header_6",desc:"sadness_states_body_6",name_mobile:"sadness_states_header_6",desc_mobile:"sadness_states_body_6",range:{min:6,max:10},actions:{all:["1","4","5","2","3"],con:["1","4","5"],des:["2","3","4","5"],both:["4","5"]}},{name:"sadness_states_header_7",desc:"sadness_states_body_7",name_mobile:"sadness_states_header_7",desc_mobile:"sadness_states_body_7",range:{min:6,max:10},actions:{all:["1","4","2","3","6"],con:["1","4"],des:["2","3","4","6"],both:["4"]}},{name:"sadness_states_header_8",desc:"sadness_states_body_8",name_mobile:"sadness_states_header_8",desc_mobile:"sadness_states_body_8",range:{min:7,max:10},actions:{all:["1","4","5","2","3","6"],con:["1","4","5"],des:["2","3","4","5","6"],both:["4","5"]}},{name:"sadness_states_header_9",desc:"sadness_states_body_9",name_mobile:"sadness_states_header_9",desc_mobile:"sadness_states_body_9",range:{min:7,max:10},actions:{all:["1","4","2","3"],con:["1","4"],des:["2","3","4"],both:["4"]}},{name:"sadness_states_header_10",desc:"sadness_states_body_10",name_mobile:"sadness_states_header_10",desc_mobile:"sadness_states_body_10",range:{min:7,max:10},actions:{all:["1","4","2","3","6"],con:["1","4"],des:["2","3","4","6"],both:["4"]}},{name:"sadness_states_header_11",desc:"sadness_states_body_11",name_mobile:"sadness_states_header_11",desc_mobile:"sadness_states_body_11",range:{min:10,max:10},actions:{all:["1","4","5","2","3"],con:["1","4","5"],des:["2","3","4","5"],both:["4","5"]}}],actions:[{name:"sadness_actions_header_1",desc:"sadness_actions_body_1",name_mobile:"sadness_actions_header_1",desc_mobile:"sadness_actions_body_1"},{name:"sadness_actions_header_2",desc:"sadness_actions_body_2",name_mobile:"sadness_actions_header_2",desc_mobile:"sadness_actions_body_2"},{name:"sadness_actions_header_3",desc:"sadness_actions_body_3",name_mobile:"sadness_actions_header_3",desc_mobile:"sadness_actions_body_3"},{name:"sadness_actions_header_4",desc:"sadness_actions_body_4",name_mobile:"sadness_actions_header_4",desc_mobile:"sadness_actions_body_4"},{name:"sadness_actions_header_5",desc:"sadness_actions_body_5",name_mobile:"sadness_actions_header_5",desc_mobile:"sadness_actions_body_5"},{name:"sadness_actions_header_6",desc:"sadness_actions_body_6",name_mobile:"sadness_actions_header_6",desc_mobile:"sadness_actions_body_6"}],triggers:[{name:"sadness_triggers_header_1",type:"Universal",name_mobile:"sadness_triggers_universal_header_mobile",desc_mobile:"sadness_triggers_universal_body_mobile"},{name:"sadness_triggers_header_2",type:"Universal",name_mobile:"sadness_triggers_learned_header_mobile",desc_mobile:"sadness_triggers_learned_body_mobile"},{name:"sadness_triggers_header_3",type:"Learned",name_mobile:"sadness_triggers_header_3",desc_mobile:"Learned"},{name:"sadness_triggers_header_4",type:"Learned",name_mobile:"sadness_triggers_header_4",desc_mobile:"Learned"},{name:"sadness_triggers_header_5",type:"Learned",name_mobile:"sadness_triggers_header_5",desc_mobile:"Learned"}],moods:[{name:"sadness_moods_header",desc:"sadness_moods_body",name_mobile:"sadness_moods_header",desc_mobile:"sadness_moods_body"}]},enjoyment:{continent:{name:"enjoyment_continent_header",desc:"enjoyment_continent_body",name_mobile:"enjoyment_continent_header_mobile",desc_mobile:"enjoyment_continent_body_mobile"},states:[{name:"enjoyment_states_header_1",desc:"enjoyment_states_body_1",name_mobile:"enjoyment_states_header_1",desc_mobile:"enjoyment_states_body_1",range:{min:1,max:5},actions:{all:["1","6",""],con:["1","6"],des:[""],both:[]}},{name:"enjoyment_states_header_2",desc:"enjoyment_states_body_2",name_mobile:"enjoyment_states_header_2",desc_mobile:"enjoyment_states_body_2",range:{min:2,max:8},actions:{all:["1","4","5","6","7"],con:["1","4","5","6","7"],des:["7"],both:["7"]}},{name:"enjoyment_states_header_3",desc:"enjoyment_states_body_3",name_mobile:"enjoyment_states_header_3",desc_mobile:"enjoyment_states_body_3",range:{min:2,max:8},actions:{all:["1","2","4","5","7"],con:["1","2","4","5","7"],des:["7"],both:["7"]}},{name:"enjoyment_states_header_4",desc:"enjoyment_states_body_4",name_mobile:"enjoyment_states_header_4",desc_mobile:"enjoyment_states_body_4",range:{min:2,max:10},actions:{all:["4","5","6","7"],con:["4","5","6","7"],des:["7"],both:["7"]}},{name:"enjoyment_states_header_5",desc:"enjoyment_states_body_5",name_mobile:"enjoyment_states_header_5",desc_mobile:"enjoyment_states_body_5",range:{min:3,max:6},actions:{all:["1","4","5","6",""],con:["1","4","5","6"],des:[""],both:[]}},{name:"enjoyment_states_header_6",desc:"enjoyment_states_body_6",name_mobile:"enjoyment_states_header_6",desc_mobile:"enjoyment_states_body_6",range:{min:3,max:8},actions:{all:["","1","2","3","4","5"],con:[""],des:["1","2","3","4","5"],both:[]}},{name:"enjoyment_states_header_7",desc:"enjoyment_states_body_7",name_mobile:"enjoyment_states_header_7",desc_mobile:"enjoyment_states_body_7",range:{min:3,max:10},actions:{all:["1","2","5","6","7","3"],con:["1","2","5","6","7"],des:["3","5","6","7"],both:["5","6","7"]}},{name:"enjoyment_states_header_8",desc:"enjoyment_states_body_8",name_mobile:"enjoyment_states_header_8",desc_mobile:"enjoyment_states_body_8",range:{min:3,max:10},actions:{all:["4","5","6","3"],con:["4","5","6"],des:["3","4","5","6"],both:["4","5","6"]}},{name:"enjoyment_states_header_9",desc:"enjoyment_states_body_9",name_mobile:"enjoyment_states_header_9",desc_mobile:"enjoyment_states_body_9",range:{min:4,max:9},actions:{all:["1","4","5","6","7"],con:["1","4","5","6","7"],des:["4","5","6","7"],both:["4","5","6","7"]}},{name:"enjoyment_states_header_10",desc:"enjoyment_states_body_10",name_mobile:"enjoyment_states_header_10",desc_mobile:"enjoyment_states_body_10",range:{min:5,max:10},actions:{all:["1","4","5","6","7"],con:["1","4","5","6","7"],des:["7"],both:["7"]}},{name:"enjoyment_states_header_11",desc:"enjoyment_states_body_11",name_mobile:"enjoyment_states_header_11",desc_mobile:"enjoyment_states_body_11",range:{min:2,max:10},actions:{all:["2","5",""],con:["2","5"],des:[""],both:[]}},{name:"enjoyment_states_header_12",desc:"enjoyment_states_body_12",name_mobile:"enjoyment_states_header_12",desc_mobile:"enjoyment_states_body_12",range:{min:6,max:10},actions:{all:["1","2","4","5","7"],con:["1","2","4","5","7"],des:["7"],both:["7"]}},{name:"enjoyment_states_header_13",desc:"enjoyment_states_body_13",name_mobile:"enjoyment_states_header_13",desc_mobile:"enjoyment_states_body_13",range:{min:9,max:10},actions:{all:["2","6","7"],con:["2","6","7"],des:["7"],both:["7"]}}],actions:[{name:"enjoyment_actions_header_1",desc:"enjoyment_actions_body_1",name_mobile:"enjoyment_actions_header_1",desc_mobile:"enjoyment_actions_body_1"},{name:"enjoyment_actions_header_2",desc:"enjoyment_actions_body_2",name_mobile:"enjoyment_actions_header_2",desc_mobile:"enjoyment_actions_body_2"},{name:"enjoyment_actions_header_3",desc:"enjoyment_actions_body_3",name_mobile:"enjoyment_actions_header_3",desc_mobile:"enjoyment_actions_body_3"},{name:"enjoyment_actions_header_4",desc:"enjoyment_actions_body_4",name_mobile:"enjoyment_actions_header_4",desc_mobile:"enjoyment_actions_body_4"},{name:"enjoyment_actions_header_5",desc:"enjoyment_actions_body_5",name_mobile:"enjoyment_actions_header_5",desc_mobile:"enjoyment_actions_body_5"},{name:"enjoyment_actions_header_6",desc:"enjoyment_actions_body_6",name_mobile:"enjoyment_actions_header_6",desc_mobile:"enjoyment_actions_body_6"},{name:"enjoyment_actions_header_7",desc:"enjoyment_actions_body_7",name_mobile:"enjoyment_actions_header_7",desc_mobile:"enjoyment_actions_body_7"}],triggers:[{name:"enjoyment_triggers_header_1",type:"Universal",name_mobile:"enjoyment_triggers_universal_header_mobile",desc_mobile:"enjoyment_triggers_universal_body_mobile"},{name:"enjoyment_triggers_header_2",type:"Universal",name_mobile:"enjoyment_triggers_learned_header_mobile",desc_mobile:"enjoyment_triggers_learned_body_mobile"},{name:"enjoyment_triggers_header_3",type:"Universal",name_mobile:"enjoyment_triggers_header_3",desc_mobile:"Universal"},{name:"enjoyment_triggers_header_4",type:"Learned",name_mobile:"enjoyment_triggers_header_4",desc_mobile:"Learned"},{name:"enjoyment_triggers_header_5",type:"Learned",name_mobile:"enjoyment_triggers_header_5",desc_mobile:"Learned"},{name:"enjoyment_triggers_header_6",type:"Learned",name_mobile:"enjoyment_triggers_header_6",desc_mobile:"Learned"},{name:"enjoyment_triggers_header_7",type:"Learned",name_mobile:"enjoyment_triggers_header_7",desc_mobile:"Learned"}],moods:[{name:"enjoyment_moods_header",desc:"enjoyment_moods_body",name_mobile:"enjoyment_moods_header",desc_mobile:"enjoyment_moods_body"}]}},metadata:{site:{header:"site_header",body:"",caption:"site_dropdown_label",header_mobile:"site_header",body_mobile:"",sectionName:""},intro:{header:"intro_header",body:"",header_mobile:"intro_header",body_mobile:"intro_body_mobile",sectionName:"intro_section_name",steps:[{header:"intro_secondary_header_1",body:"intro_secondary_copy_1",header_mobile:"intro_secondary_header_1",body_mobile:"intro_secondary_copy_1",caption:"intro_caption_1"},{header:"intro_secondary_header_2",body:"intro_secondary_copy_2",header_mobile:"intro_secondary_header_2",body_mobile:"intro_secondary_copy_2",caption:"intro_caption_2"},{header:"intro_secondary_header_3",body:"intro_secondary_copy_3",header_mobile:"intro_secondary_header_3",body_mobile:"intro_secondary_copy_3",caption:"intro_caption_3"},{header:"intro_button_goto",body:"",header_mobile:"intro_button_goto",body_mobile:"",caption:""},{header:"intro_button_start",body:"",header_mobile:"intro_button_start",body_mobile:"",caption:""},{header:"intro_button_back",body:"",header_mobile:"intro_button_back",body_mobile:"",caption:""},{header:"intro_button_why",body:"",header_mobile:"intro_button_why",body_mobile:"",caption:""},{header:"intro_button_start",body:"",header_mobile:"intro_button_start",body_mobile:"",caption:""},{header:"intro_gfx_left",body:"",header_mobile:"intro_gfx_left",body_mobile:"",caption:""},{header:"intro_gfx_right",body:"",header_mobile:"intro_gfx_right",body_mobile:"",caption:""},{header:"intro_gfx_down",body:"",header_mobile:"intro_gfx_down",body_mobile:"",caption:""},{header:"intro_gfx_chart_anger",body:"",header_mobile:"intro_gfx_chart_anger",body_mobile:"",caption:""},{header:"intro_gfx_chart_fear",body:"",header_mobile:"intro_gfx_chart_fear",body_mobile:"",caption:""},{header:"intro_gfx_chart_disgust",body:"",header_mobile:"intro_gfx_chart_disgust",body_mobile:"",caption:""},{header:"intro_gfx_chart_sadness",body:"",header_mobile:"intro_gfx_chart_sadness",body_mobile:"",caption:""},{header:"intro_gfx_chart_enjoyment",body:"",header_mobile:"intro_gfx_chart_enjoyment",body_mobile:"",caption:""}]},continents:{header:"continents_header",body:"continents_body",caption:"",header_mobile:"continents_header",body_mobile:"continents_body_mobile",sectionName:"continents_section_name"},states:{header:"states_header",body:"states_body",caption:"states_axis_labels",header_mobile:"states_header",body_mobile:"states_body_mobile",sectionName:"states_section_name"},actions:{header:"actions_header",body:"actions_body",header_mobile:"actions_header",body_mobile:"actions_body_mobile",sectionName:"actions_section_name",qualities:[{header:"actions_secondary_header_1",body:"actions_secondary_copy_1",header_mobile:"actions_secondary_header_1",body_mobile:"actions_body_mobile"},{header:"actions_secondary_header_2",body:"actions_secondary_copy_2",header_mobile:"actions_secondary_header_2",body_mobile:"actions_secondary_copy_2"},{header:"actions_secondary_header_3",body:"actions_secondary_copy_3",header_mobile:"actions_secondary_header_3",body_mobile:"actions_secondary_copy_3"}]},triggers:{header:"triggers_header",body:"triggers_body",header_mobile:"triggers_header",body_mobile:"triggers_body_mobile",sectionName:"triggers_section_name",steps:[{header:"triggers_secondary_header_1",body:"triggers_secondary_body_1",header_mobile:"triggers_secondary_header_1",body_mobile:"triggers_body_mobile"},{header:"triggers_secondary_header_2",body:"triggers_secondary_body_2",header_mobile:"triggers_secondary_header_2",body_mobile:"triggers_secondary_body_2"},{header:"triggers_secondary_header_3",body:"triggers_secondary_body_3",header_mobile:"triggers_secondary_header_3",body_mobile:"triggers_secondary_body_3"},{header:"triggers_secondary_header_4",body:"triggers_secondary_body_4",header_mobile:"triggers_secondary_header_4",body_mobile:"triggers_secondary_body_4"},{header:"triggers_secondary_header_5",body:"triggers_secondary_body_5",header_mobile:"triggers_secondary_header_5",body_mobile:"triggers_secondary_body_5"}]},moods:{header:"moods_header",body:"moods_body",caption:"",header_mobile:"moods_header",body_mobile:"moods_body_mobile",sectionName:"moods_section_name"},calm:{header:"calm_header",body:"calm_body",caption:"calm_button_label",header_mobile:"calm_header",body_mobile:"calm_body_mobile",sectionName:"calm_section_name",secondary:{header:"calm_secondary_header",body:"calm_secondary_body",header_mobile:"calm_secondary_header",body_mobile:"calm_body_mobile"}},more:{header:"",body:"",caption:"more_button_label",header_mobile:"",body_mobile:"",sectionName:"more_section_name"}},about:{subsections:[{title:"about_header_1",desc:"about_body_1",title_mobile:"about_header_1",desc_mobile:"about_body_1"},{title:"about_header_2",desc:"about_body_2",title_mobile:"about_header_2",desc_mobile:"about_body_2"},{title:"about_header_3",desc:"about_body_3",title_mobile:"about_header_3",desc_mobile:"about_body_3"},{title:"about_header_4",desc:"about_body_4",title_mobile:"about_header_4",desc_mobile:"about_body_4"},{title:"about_header_5",desc:"about_body_5",title_mobile:"about_header_5",desc_mobile:"about_body_5"},{title:"about_header_6",desc:"about_body_6",title_mobile:"about_header_6",desc_mobile:"about_body_6"},{title:"about_header_7",desc:"about_body_7",title_mobile:"about_header_7",desc_mobile:"about_body_7"}],title:"about_intro_title",desc:"about_intro_body",title_mobile:"about_intro_title_mobile",desc_mobile:"about_intro_body_mobile",sectionName:"about_section_name",sectionName_mobile:"about_section_name"},emotrak:{subsections:[{title:"",desc:"emotrak_section_1",title_mobile:"",desc_mobile:"emotrak_section_1",image:"emotrak",mail:null},{title:"",desc:"emotrak_section_2",title_mobile:"",desc_mobile:"emotrak_section_2",image:null,mail:!0},{title:"",desc:"emotrak_section_3",title_mobile:"",desc_mobile:"emotrak_section_3",image:null,mail:null}],title:"emotrak_title",desc:"emotrak_intro",header_mobile:"emotrak_header_mobile",body_mobile:"emotrak_body_mobile",sectionName:"emotrak_section_name",sectionName_mobile:"emotrak_section_name"}}},{}],340:[function(e,t,n){t.exports={annex:{"scientific-basis":{content:[{desc:"There are universal emotions",name:"88%",formatting:"beforebreak"},{desc:"There are universal facial signals to emotion",name:"80%",formatting:"break"},{desc:"Anger is a universal emotion",name:"91%",formatting:""},{desc:"Fear is a universal emotion",name:"90%",formatting:""},{desc:"Disgust is a universal emotion",name:"86%",formatting:""},{desc:"Sadness is a universal emotion",name:"80%",formatting:""},{desc:"Happiness is a universal emotion",name:"76%",formatting:"break"},{desc:"There are universal triggers to emotion",name:"66%",formatting:""},{desc:"There is universal physiology of emotion",name:"51%",formatting:""},{desc:"There are biologically discrete, separate emotions",name:"49%",formatting:""},{desc:"Emotions are constructed by social factors",name:"11%",formatting:""},{desc:"Emotions are both biologically separate and socially constructed",name:"3%",formatting:""}],footer:["The existence of “compelling evidence for universals in any aspect of emotion” was endorsed by 88% of the respondents. The evidence supporting universal signals (face or voice) was endorsed by 80%. There was less agreement about whether there is compelling evidence for universals in the events that trigger an emotion (66%), physiology (51%), or appraisal mechanisms (44%). Thus, Darwin’s claim in 1872 and the more recent work of Ekman and Friesen (1969) and Izard (1971) regarding the universality of some facial expressions were supported. In response to the question “Which of the following best captures your orientation toward emotion in your research?,” 49% chose “Discrete emotions (anger, fear, etc.) combining both biological and social influences,” 11% chose “Emotions as constructed, either socially or psychologically, to fit current conditions,” and 30% indicated they used both approaches. \n","The respondents were asked whether the evidence for each emotion was compelling. There was high agreement about five emotions (all of which were described by both Darwin and Wundt): anger (91%), fear (90%), disgust (86%), sadness (80%) and happiness (76%). Shame, surprise and embarrassment were listed by 40% to 50%. Other emotions, currently under study by various investigators, drew substantially less support: guilt (37%), contempt (34%), love (32%), awe (31%), pain (28%), envy (28%), compassion (20%), pride (9%) and gratitude (6%)."],title:"The Scientific Basis for This Work",desc:'The Atlas of Emotions is based on a consensus among scientists as determined by a survey (in the choice of the five emotion continents and the relationship of emotions to moods, personality and psychopathology), the work of a few scientists who have focused on the naming of states within emotions, dictionary definitions, theory and best guesses about the actions for each state and whether they are constructive, destructive or ambiguous. For more information, see <a href="http://pps.sagepub.com/content/11/1/31.full.pdf?ijkey=AMIJzv8J9Tn0VF1&keytype=finite" target="_blank">“What Scientists Who Study Emotion Agree About,”</a> by Paul Ekman (Perspectives on Psychological Science, 2015).',contentIntro:"The survey was emailed in mid-June of 2014 to 248 scientists who had frequently published quantitative research on emotion."},"triggers-timeline":{content:[{desc:"This describes the context or situations which may influence the way we enter the emotion. For example our pre-condition could be physiological: being hungry, tired or emotional: having had a very enjoyable or stressful day or coming out of a prior emotional episode.",name:"pre-condition"},{desc:"This describes a person, place, situation, image, thought, memory, smell, sound, taste or idea that we encounter from the outside world or from our own mind. We are constantly, automatically appraising, or assessing our inner and outer world. For example, when we hear a new song, we are instantly overlaying our knowledge of instruments and categories of music as we listen without even thinking, this is automatic appraisal. ",name:"event"},{desc:"This describes the combination of the automatic appraisal matching to some universal/hardwired or acquired script in our database. ",name:"trigger"},{desc:"This describes our universal/hardwired responses and our individually acquired emotional memories. For example, if the event is a smell and in the database is the stored memory of the shampoo our mother used in our childhood, and we are triggered to experience an emotion of warm nostalgia of a happy childhood. When the appraised event resembles something in our database, it may be a highly accurate or could create a distorted perception of the trigger. For example if we had an intimidating experience with a police officer when we were young and we are pulled over as an adult we could misperceive the situation with a distorted sense of fear.",name:"perception database"},{desc:"This describes the autonomic changes in our body which occur as our emotion arises. We can experience these changes as sensations in our body, feeling heat in our face, tightness in our jaw or shoulders, etc.",name:"physical changes"},{desc:"This describes the emotion itself, inclusive of physical and psychological changes.",name:"state"},{desc:"This describes the qualitative experience of the emotion, how sadness feels sad, or anger feels angry.",name:"psychological changes"},{desc:"This describes our emotional responses. This could be an external behavior such as yelling in anger, or could be internal, such as suppressing anger. Each emotion in the atlas shows a range of immediate actions, as well as intrinsic or intention actions.  The action can be either constructive or destructive. Leading to further collaboration with others or to difficulty in collaborating.",name:"action"},{desc:"This describes the result or impact of our emotional actions. This could be external: if we have yelled at someone they may then yell back; or internal: if we have suppressed we could be feeling some ongoing irritation. The post condition could lead to our next episode of emotion, if someone is yelling back at us we are triggered once again to either anger, fear or sadness/ regret for our actions. Our post condition is an opportunity for us to build emotional awareness through reflection on our emotion, to understand the trigger, identify the felt experience and consider its impact it has had.",name:"post-condition"},{desc:"The Selective Filtering Period is initiated with the onset of actions and signals — perception is narrowed and distorted, filtering and interpreting information relevant to and consistent with the prevailing emotion. For example, when fear is aroused, there is a heightened sensitivity to real and imagined threats. ",name:"selective filter period"}],footer:["Learned display rules (to regulate signals) and learned feeling rules (to modify, amplify or suppress subjective feelings) arise. We don’t know how quickly these occur. Do they occur before signals and actions, or immediately during the onset of signals and actions? Impulses are translated into actions and signals. ","The gap between Step 2 (impulses) and Step 4 (actions/signals) is variable, depending on the individual characteristics of each person and the person’s emotional profile, the intensity of the appraised trigger, and the momentary psychological state of the individual when the trigger is appraised (how much sleep the person had last night; what, if any, emotion the person last experienced or is currently experiencing, etc.)."],title:"Emotional Episode Timeline",desc:""},"intrinsic-or-intentional":{emotions:[{name:"Anger",children:[{name:"Intrinsic",desc:"Quarrel, Insult, Undermine, Dispute, Scream/yell, Use physical force, Simmer/brood, Be passive-aggressive"},{name:"Intentional",desc:"Set limits, Be firm, Withdraw, Take a time out, Breathe, Practice patience, Reframe, Distract, Avoid, Remove the interference"}]},{name:"Fear",children:[{name:"Intrinsic",desc:"Withdraw, Avoid, Hesitate, Freeze, Scream/yell, Ruminate, Worry"},{name:"Intentional",desc:"Reframe, Be mindful, Breathe, Distract"}]},{name:"Disgust",children:[{name:"Intrinsic",desc:"Withdraw, Avoid, Vomit, Dehumanize"},{name:"Intentional",desc:"Withdraw, Avoid"}]},{name:"Sadness",children:[{name:"Intrinsic",desc:"Seek comfort, Withdraw, Mourn, Protest, Feel ashamed"},{name:"Intentional",desc:"Withdraw, Distract"}]},{name:"Enjoyment",children:[{name:"Intrinsic",desc:"Seek more, Maintain, Exclaim, Engage/connect, Savor, Indulge"},{name:"Intentional",desc:"None"}]}],title:"Intrinsic or Intentional Actions",desc:"Actions can be intrinsic (without conscious intent) or intentional (an active attempt to enact change), or both."},"partially-charted":{emotions:[{name:"Love",desc:"A strong attachment to another person, typically parent toward child and child toward parent, but also between those romantically committed. Within loving relationships, anger, fear, sadness, disgust and enjoyment can all be experienced."},{name:"Surprise",desc:"The briefest emotion, surprise is triggered by the sudden occurrence of an unexpected event. It is often a way station that leads, after more appraisal, to any of the other emotions."},{name:"Jealousy",desc:"An emotional storyline involving three people: the desired person, the person afraid of losing the commitment of the desired person, and the rival. During jealousy, anger, fear, disgust, sadness or surprise may be felt by any of the three people."},{name:"Envy",desc:"Although often misused as a synonym for jealousy, envy involves resenting and wanting what another person possesses. When a person feels envy, anger, contempt or sadness may also be felt."},{name:"Hate",desc:"Enduring anger focused on a particular person or group of persons. Over time hatred may generate the personality trait of hostility."},{name:"Embarrassment",desc:"Self-conscious distress or awkwardness. Often activated by praise from another, or by a faux pas. It has no vocal signal, but may cause a blush that is visible only in light-skinned people."},{name:"Shame",desc:"An expectation that others would be disgusted if they knew what the person was thinking of or had done. It motivates a strong wish to prevent others from learning what the person has done or thought."},{name:"Contempt",desc:"The last emotion to appear in child development, it is a feeling of moral superiority to the target. Often mixed with enjoyment."},{name:"Guilt",desc:"Regret about a past action, which motivates the wish to confess the wrongful action, hoping for forgiveness."}],title:"Partially Charted Emotions",desc:"Half or less than half of emotion scientists believe there is convincing evidence that each of the following is an emotion."},"personality-trait":{emotions:[{name:"Anger",desc:"A hostile person is often angry and is known to others for the frequency of anger responses to the world. Often anger occurs with any frustration; the threshold for frustration is low. Hostile people may experience regret afterward and apologize for their anger, but nevertheless continue to respond angrily. Sometimes hostile people express their anger in a nasty way, using words to demean and cause psychological pain to others."},{name:"Fear",desc:"A shy or timid person. This personality type is likely to avoid risks and uncomfortable situations. Timid people may perceive the world as full of difficult situations."},{name:"Disgust",desc:"A person who often feels disgusted by others may have an inflated sense of self-worth and a hyper-aversion toward others. Someone who is disgusted or dissatisfied with everything can be unpleasant to be around."},{name:"Sadness",desc:"A somber person who is often feeling low may have clinical depression or may simply have more frequent feelings of sadness. This person may hold the perspective that life is hard and difficult."},{name:"Enjoyment",desc:"A cheerful person may also be thought of as optimistic. This person sees the world in positive way and can easily be made to laugh and feel enjoyment."}],title:"Personality Trait",desc:"Certain personality traits are related to specific emotions."},psychopathology:{emotions:[{name:"Anger",desc:"A tendency to cause physical or verbal harm in inappropriate contexts. Anger may be out of control, or passive but persistently preoccupying.",
children:[{name:"Intermittent Explosive Disorder",desc:"Impulsively aggressive and assaultive behaviors out of proportion to triggers."},{name:"Oppositional Defiance Disorder",desc:"A pattern of defiant, disobedient and hostile behavior in children or teens toward parents and people in authority, beyond normal age-appropriate misbehavior."},{name:"Antisocial Personality Disorder",desc:"Characterized by a pervasive pattern of disregard for the rights of other people that often manifests as hostility and/or aggression. Deceit and manipulation are also central features."},{name:"Disruptive Mood Dysregulation Disorder",desc:"Severe recurrent temper outbursts manifested verbally (e.g., verbal rages) and/or behaviorally (e.g., physical aggression toward people or property) that are grossly out of proportion in intensity or duration to the situation or provocation."}]},{name:"Fear",desc:"Anxiety states involve prolonged fear without knowledge of the source of the threat, and incidents of panic (episodic attacks of severe anxiety).",children:[{name:"Social Anxiety Disorder",desc:"A persistent fear of one or more social or performance situations in which the person is exposed to unfamiliar people or to possible scrutiny by others. The individual fears that he or she will act (or show anxiety symptoms) in a way that will be embarrassing and humiliating."},{name:"Post-Traumatic Stress Disorder (PTSD)",desc:"A mental health condition that’s triggered by an often overwhelmingly terrifying event — either experiencing it or witnessing it. Symptoms may include flashbacks, nightmares and severe anxiety, as well as uncontrollable thoughts about the event."},{name:"Avoidant Personality Disorder",desc:"Characterized by a pervasive pattern of social inhibition, feelings of inadequacy and a hypersensitivity to negative evaluation. People with this disorder are intensely afraid that others will ridicule them, reject them or criticize them."},{name:"Generalized Anxiety Disorder",desc:"An anxiety disorder that is characterized by excessive, uncontrollable and often irrational worry and apprehensive expectation about events or activities."},{name:"Obsessive-Compulsive Disorder (OCD)",desc:"An anxiety disorder characterized by intrusive thoughts that produce uneasiness, apprehension, fear or worry (obsessions); repetitive behaviors aimed at reducing the associated anxiety (compulsions); or a combination of both obsessions and compulsions."}]},{name:"Disgust",desc:"The psychopathology of disgust includes feelings that prevent everyday interaction with the world, the self or others. Disgust can be a paralyzing feeling that makes simple interactions (such as eating) extremely painful if not impossible. Disgust and fear are both thought to contribute to various phobias, such as fear of small animals.",children:[{name:"Anorexia Nervosa",desc:"A distorted self-image that may be maintained by various cognitive biases that alter how the affected individual evaluates and thinks about their body, food and eating. People with anorexia nervosa often view themselves as disgusting, overweight or “big” even when they are underweight."},{name:"Body Dysmorphic Disorder",desc:"A body-image disorder characterized by persistent and intrusive preoccupations with an imagined or slight defect in one’s appearance or a feeling of disgust with one’s appearance."},{name:"Bulimia",desc:"A disorder characterized by repeated binging on large quantities of food followed by induced vomiting; both the binging and purging may be accompanied by feelings of self-disgust."},{name:"Sexual Aversion Disorder",desc:"Characterized by disgust, fear, revulsion or lack of desire in consensual relationships involving genital contact."}]},{name:"Sadness",desc:"Depression is a well-known type of psychopathology that is reported to affect over 25% of the population. Depression interferes with daily life and causes pain for both the sufferers and those who care about them. Depression is a common but serious illness.\n",children:[{name:"Major Depressive Disorder",desc:"Also known as clinical depression, major depression or unipolar depression, this is a mental disorder characterized by a pervasive and persistent low mood that is accompanied by low self-esteem and by a loss of interest or pleasure in normally enjoyable activities."},{name:"Dysthymia",desc:"Sometimes also called neurotic depression, dysthymic disorder or chronic depression, this is a mood disorder consisting of the same cognitive and physical problems as depression, with less severe but longer-lasting symptoms."},{name:"Bipolar Disorder",desc:"Also known as bipolar affective disorder (and originally called manic-depressive illness), this is a mental disorder characterized by periods of elevated mood and periods of depression."}]},{name:"Enjoyment",desc:"Unlike with other emotions, it is hard to imagine enjoyable emotions contributing to challenges in managing our everyday relationships, work and ability to meet our basic needs. However, pathological enjoyment is quite serious; hyper-elevated states of enjoyment can cause delusions in addition to feeling good, which can lead to destructive behaviors.\n",children:[{name:"Mania/Manic Episode",desc:"Mania at its extreme is commonly characterized by frenzied, ungovernable exuberance — essentially elation not grounded in reality. Frequently, confidence and self-esteem are excessively enlarged, and grand, extravagant ideas are expressed; this is called “grandiosity.” Mania is often part of bipolar disorder."},{name:"Cyclothemia",desc:"This is characterized by moods that shift noticeably up and down from a person’s baseline. The person may feel on top of the world for a time, followed by a low period when their feeling is somewhat blue. Between these cyclothymic highs and lows, the person may feel stable and fine."}]}],title:"Psychopathology",desc:"Each emotion relates to distinct psychopathologies, which describe persistent behaviors that interfere with one’s ability to function."},signals:{emotions:[{name:"Anger",desc:null,children:[{name:"Signal",desc:"In the voice, anger generates a roar if not controlled; when anger is controlled, the voice may have a sharp edge that is very detectable. In the face, the signal includes glaring eyes, lowered brows and narrowed, tightened lips. When people hear or see an angry signal, they are typically hurt just by the perception of the signal, and may retaliate with angry actions."},{name:"Message",desc:"The message of anger is “get out of my way.”  Anger can carry a message ranging from dissatisfaction to threat."}]},{name:"Fear",desc:null,children:[{name:"Signal",desc:"Common signals are very wide open eyes, horizontally stretched lips and raised, drawn together eyebrows. There may be movement away from the target. Screams may accompany intense fear. Lesser fear signals can include heavy breathing, a head position slightly backwards and away, and horizontally stretched lips accompanied by tightened neck muscles."},{name:"Message",desc:"The message of fear is “help me”; it can range from showing low-level concern to conveying panic."}]},{name:"Disgust",desc:null,children:[{name:"Signal",desc:"There are three facial expressions associated with disgust. The first is sticking the tongue out as if the person is getting something out of their mouth. The second is raising the upper lip, but it is relaxed and not tense, which can display gums and teeth depending on the shape of the mouth. The third is wrinkling of the nose and raising of the nostrils. These expressions can occur separately or in unison."},{name:"Message",desc:"The message of disgust is “get away from this.” It can show others that the target of disgust is to be kept away from or that the target is unclean, dirty or socially/morally reprehensible."}]},{name:"Sadness",desc:null,children:[{name:"Signal",desc:"The signals of sadness include a frown (lower lip pushed up slightly and lip corners pulled slightly down), the inner corners of the eyebrows drawn up and together in the center of the forehead, raised cheeks and tears. The vocalization of sadness can include sobs and heaving and quavering of the voice."},{name:"Message",desc:"The message of sadness is “comfort me.” It encourages, or intends to encourage, empathy from others."}]},{name:"Enjoyment",desc:null,children:[{name:"Signal",desc:"Enjoyment signals include the Duchenne (authentic) smile, activation of a smile (lip corners pulled obliquely up), and activation of the orbital eye muscles that tighten the lower eyelid and create wrinkling around the outer eye corners (especially with age). Enjoyment also includes vocal signals such as the sound of relief (a sigh or exhalation) and the sound of amusement (laughter or giggling)."},{name:"Message",desc:"The message of enjoyment is “this feels good.” It encourages engaging in social interaction."}]}],title:"Signal and Message",desc:"The signal of an emotion describes the universal ways that emotion is displayed in the face and/or voice. There can also be other vocal tone changes and body language indicators, but these are not included here because they are often culturally informed and learned as opposed to universal.<br><br>The message is what the emotion is telling us. All emotions have a message that is a response to the world around us."}},about:{subsections:[{title:"About the Ekmans",desc:"Paul Ekman is a renowned American psychologist who pioneered the field of emotion research by demonstrating the universality of facial expression of emotion and mapping all 43 muscle groups used in facial expression. His widely accessible research has gained him the unique status of working with both law enforcement (to train people in identifying deception) and the Dalai Lama (to explore the philosophical underpinning of eastern and western approaches to emotions). After 40 years on the faculty of the University of California, San Francisco, he has been running a private training company, Paul Ekman Group, since 2001.<br><br>Eve Ekman is a post-doctoral scholar at UCSF’s Osher Center for Integrative Medicine. Eve’s research focuses on reducing stress to sustain empathy and meaning in work. She is a teacher trainer for Cultivating Emotional Balance (CEB), an emotion-regulation and meditation intervention based in western science and contemplative practices of emotion designed by Paul Ekman and Buddhist scholar B. Alan Wallace. Eve adapts CEB to train care providers in medicine, education and criminal justice."},{title:"About Stamen Design",desc:'<a href="http://www.stamen.com/">Stamen</a> was founded by Eric Rodenbeck in 2001 to take advantage of opportunities in emerging digital media in the wake of the dot-com crash. The studio has since grown to a staff of twelve and has established a reputation for its expertise in creating compelling interactive design and data visualization projects. Its portfolio is not easily classified, but is characterized by a loving engagement with media and a deep involvement with its collaborators. It is neither a research and development lab nor a straight-up design firm, but something in between: a place where work is valued, good ideas can come from anywhere, and results are paramount. Its close engagement with technology leads to numerous research projects that have a way of finding applications in the real world.'},{title:"How Did This Atlas Come To Be?",desc:"Emotions occur automatically, they seem to happen to us, not by choice but without conscious thought. We don’t always realize we are in the grip of an emotion until someone points it out to us, or until the emotional episode is over. Having choice about when to experience an emotion, and how to experience it requires introducing a foreign element into the onset of an emotion – awareness. Skills must be developed if that awareness is to become possible, if we are to exercise choice about when we experience which emotion, and how we experience it. The Atlas of Emotions was created to illuminate it.<br><br>\n\nThe Dalai Lama asked Paul Ekman to create a map of the emotions, hoping that such a map would enable people to have more constructive emotional experiences. When we wanted to get to the new world he said, we needed a map to get there. If we want to get to a calm state of mind we need a map of the emotion. He asked Ekman to base the emotional map on the scientific consensus about what emotions are."},{title:"Why Use This Atlas?",desc:"We need to understand our emotions and develop skills to have a choice about (1) when we become emotional or what brings forth an emotional response, and (2) how we respond and what we say and do when we are emotional. These skills are not given to us by nature, but we can learn them. Exploring the Atlas of Emotions will increase your understanding of what emotions are and their effects on us, giving you an increased awareness of what is happening to you when you experience emotions. "},{title:"What Is Emotional Awareness?",desc:"Why does emotional awareness help us manage our emotional lives? The simple answer is that we live most of our days completely unaware of what emotions we are feeling and what words and actions they motivate. Typically we are aware of our emotions only after an emotional episode, especially if we then regret how we acted. The goal of the Atlas of Emotions is to help people become aware of the impulse to act before acting and then choose whether to engage, and if so how to engage. This means understanding what triggers emotions, which triggers most people share, which triggers we are especially sensitive to and which triggers usually result in a regrettable emotional episode. This isn’t easy to achieve, but exploring the Atlas of Emotions provides the vital, necessary first step. In the Annex of the Atlas, you will find suggestions about other practices you may want to adopt to heighten your awareness of your own emotions."},{title:"What Is the Link Between Emotion and Stress?",desc:"Our uncontrolled emotions make us susceptible to stress. In fact, stress is defined as an emotional over-arousal (an emotional experience that is too strong and lasts too long, and interferes with the rest of our life). The consequences of stress, especially prolonged stress, include poor sleep, negative moods, diminished cognitive functioning (including memory and focus), strain on personal and professional relationships and a variety of poor physical health outcomes."},{title:"What Is an Emotion?",desc:"An episode of emotion is a brief, succinct experience, one which does not always fit our expectations. Most emotions arise in under a twenty-fifth of a second and last no longer than a few minutes. We often feel as though our emotions last much longer; however, what we are remembering is likely a series of emotion episodes. The definition of emotion is as follows: \n<br><br>\nEmotion is a process, a particular kind of very fast, automatic appraisal influenced by our evolutionary and personal pasts, in which we sense that something important to our welfare is occurring and a set of physiological changes and behaviors begin to deal with the situation. In particular, emotions efficiently coordinate diverse response systems, thereby helping us respond to important challenges or opportunities.\n<br><br>\nLet’s unpack this definition. Emotion is a process, meaning there are a series of small stages that make up an emotion episode. This begins with our automatic appraisal or perspective of the world as influenced by our personal past (our learned responses arising from life experiences) and our evolutionary past (our hardwired responses that have been passed down genetically). This appraisal helps us filter what is “important to our welfare.” Typically appraisal is so fast that we are totally unaware of it. Because our appraisal is influenced by our personal pasts, we can have quite distinct responses to the world. Consider this example: You are walking down the street with a close friend and an approaching car with its windows down is loudly playing a song. For you this song elicits a feeling of great sadness; it is the favorite song of a friend who died from cancer and was played at her or his eulogy. However, for your friend, who did not know this person and has no association with the song, there is no emotional response, or perhaps there is annoyance about the loud noise. You and your friend are on the same street hearing the same song, but your response is learned and personal. But if that same car had to avoid a cat running across the road and suddenly veered onto the sidewalk, both you and your friend, irrespective of personal pasts, would jump backwards in fear. This is a universal response to an imminent threat. Emotions help us respond before we even have time to think, “What is that car doing?” This is the brilliance and burden of emotions: They can rally our physiological responses to cause immediate behaviors to save our lives, but they arise without our choosing them and can feel quite out of our control. We will begin mapping our own emotion episodes as explorers immersed in this Atlas.\n<br><br>\nThe end of this definition points to the evolutionary perspective of emotions. This means looking at emotions the way we look at our thumbs or eyelashes for their functional properties. While emotions do not serve the critical functions of allowing us to grasp or keeping dust from our eyes, they were just as critical for our survival in the environment in which we evolved. In addition to helping us respond to immediate threats (running from a saber-tooth tiger in fear or standing up to a less-threatening beast with anger), they also helped us form the social cohesion of a tribe through shared enjoyment. Importantly for our early survival, our emotion system includes our rapid internal response as well as nonverbal signaling through our face."}],title:"About This Atlas",desc:"This Atlas was created to increase understanding of how emotions influence our lives, giving us choice, (at least some of the time) about which emotion we are experiencing, and how our emotions influence what we say and do. While emotions are central to our lives – providing the joy, alerting us to threats, a force for change, a warning against what is toxic, and calling to others for help – we don’t choose what to feel or when to feel it. The Atlas of Emotions was created to give us more awareness of our emotions, and sometimes even some choice about what we are feeling, through better understanding of how emotions work."},"impediment-antidote":{emotions:[{name:"Anger Antidotes",children:[{name:"Annoyance",desc:"Patience, open-mindedness, concern for others."},{name:"Frustration",desc:"Letting go, letting go of grasping, putting things in a larger perspective."},{name:"Argumentativeness",desc:"Making effort to understand the other’s perspective, cognitive empathy, benevolence, wishing to solve the problem through a mutually agreeable solution."},{name:"Exasperation",desc:"Letting go of grasping. Patience, inner calm. Trying to understand the causes and conditions that brought about the undesirable situation."},{name:"Vengefulness",desc:"Contemplating the negative effects of taking revenge, in the short and long term; forgiveness not as condoning harmful behavior but as breaking the cycle of resentment and hatred."},{name:"Fury",desc:"Taking a break, physically and mentally, from the circumstances that brought fury about. Looking at fury itself with the eye of awareness as if gazing at a raging fire and slowly letting it calm down."}]},{name:"Anger Impediments",children:[]},{name:"Fear Antidotes",children:[{name:"Trepidation",desc:"Trying to ponder what can be done. Calming the mind gives the best chance to find the appropriate solution to what caused the trepidation in the first place."},{name:"Nervousness",desc:"Trying to ponder what can be done. Calming the mind gives the best chance to find the appropriate solution to what caused the nervousness in the first place."},{name:"Anxiety",desc:"Making a special effort of letting go of ruminations about the past and anticipations of the future."},{name:"Dread",desc:"Remaining as calm as as possible. Seeing what can be done for yourself and for others as well."},{name:"Panic",desc:"Making an effort to see if anything can act as a mitigating factor (depending on the causes involved). "},{name:"Horror",desc:"Trying to see if anything can be done immediately. If that is not the case, creating distance to see if something can be done from afar. Responding with firmness and compassion, never with hatred. "},{name:"Terror",desc:"Instilling some calmness in the mind in order to take most appropriate decision."}]},{name:"Fear Impediments",children:[]},{name:"Disgust Antidotes",children:[{name:"Aversion",desc:"Evaluating impartially the degree of harmfulness, taking appropriate measures, and then letting aversion dissolve in a space of mindful awareness."},{name:"Dislike",desc:"While evaluating impartially the ethical issues, generating compassion so as to find the best way to remedy the causes and conditions that triggered dislike."},{name:"Distaste",desc:"Evaluating impartially the degree of harmfulness, taking appropriate measures, and then letting distaste dissolve in a space of mindful awareness."},{name:"Repugnance",desc:"Evaluating impartially the degree of harmfulness, taking appropriate measures, and then letting repugnance dissolve in a space of mindful awareness."},{name:"Loathing—Self",desc:"Using healthy regret to generate the determination to improve oneself; whenever possible, repairing the harm caused to others. Not falling into pessimistic guilt, thinking that one is fundamentally bad and that that is the way one is bound to remain. Not underestimating the potential for change."},{name:"Loathing—Others",desc:"Adopting the outlook of a caring physician, who might deeply disapprove certain behaviors but will focus on doing all that is possible to cure a person of their afflictions."},{name:"Revulsion",desc:"Adopting the outlook of a caring physician, who might deeply disapprove certain behaviors but will focus on doing all that is possible to cure a person of their afflictions."},{name:"Abhorrence",desc:"In the case of toxic substances or situations, doing the best one can to calmly avoid them. In the case of actions, adopting the outlook of a caring physician, who might deeply disapprove certain behaviors but will focus on doing all that is possible to cure a person of their afflictions."}]},{name:"Disgust Impediments",children:[]},{name:"Sadness Antidotes",children:[{name:"Disappointment",desc:"Understanding that sadness is natural in appropriate circumstances, but also that experiencing loss is part of life and that one should not let oneself be overwhelmed. Trying to find a place of peace within oneself and thinking of constructive things that could be done instead."},{name:"Distraughtness",desc:"Understanding that a permanent state of sadness will not bring any real benefit. In the case of mourning someone, falling into long-term sadness and despair should not be seen as an homage paid to that person. It is better to pay homage by doing meaningful and altruistic acts."},{name:"Discouragement",desc:"Understanding that a permanent state of sadness will not bring any real benefit. In the case of mourning someone, falling into long-term sadness and despair should not be seen as an homage paid to that person. It is better to pay homage by doing meaningful and altruistic acts."},{name:"Helplessness",desc:"Understanding that a permanent state of sadness will not bring any real benefit. In the case of mourning someone, falling into long-term sadness and despair should not be seen as an homage paid to that person. It is better to pay homage by doing meaningful and altruistic acts."},{name:"Misery",desc:"Understanding that a permanent state of sadness will not bring any real benefit. In the case of mourning someone, falling into long-term sadness and despair should not be seen as an homage paid to that person. It is better to pay homage by doing meaningful and altruistic acts."},{name:"Grief",desc:"Understanding that a permanent state of sadness will not bring any real benefit. In the case of mourning someone, falling into long-term sadness and despair should not be seen as an homage paid to that person. It is better to pay homage by doing meaningful and altruistic acts."},{name:"Despair",desc:"Understanding that a permanent state of sadness will not bring any real benefit. In the case of mourning someone, falling into long-term sadness and despair should not be seen as an homage paid to that person. It is better to pay homage by doing meaningful and altruistic acts."},{name:"Anguish",desc:"Realizing that things and people are impermanent by nature. Revolting against this cannot lead to a fulfilled life."}]},{name:"Sadness Impediments",children:[]},{name:"Enjoyment Antidotes",children:[{name:"Schadenfreude",desc:"Perceiving the destructive aspect of it and trying to generate benevolence toward the person."},{name:"Pride",desc:"Humility. Putting things into perspective and realizing that there are many other people with similar or even better qualities than one’s own. Understanding that one could do something not just because one is so special, but because of many interdependent causes and conditions in which others have taken part."}]},{name:"Enjoyment Impediments",children:[{name:"Sensory Pleasures",desc:"Being unable to appreciate the quality of the present moment."},{name:"Relief",desc:"Persisting in worrying unnecessarily."},{name:"Amusement",desc:"Tending to see things in negative ways."},{name:"Excitement",desc:"Feeling pessimism."},{name:"Ecstasy",desc:"Grasping, attachment and any other afflictive mental state (animosity, envy, arrogance, etc.)."},{name:"Fiero",desc:"Vanity, narcissism, failing to acknowledge with gratitude all those who contributed to make an achievement possible."},{name:"Naches",desc:"Pride mixed with arrogance and with partiality that makes one feel contemptuous about others’ achievements."},{name:"Wonder",desc:"Grasping. Unease."},{name:"Rejoicing",desc:"Envy, jealousy, pride."},{name:"Compassion/Joy",desc:"Regret at having done something good at the cost of some personal efforts. Narrow-mindedness when caring only for a limited number of people who are close."}]}],title:"Impediments and Antidotes",desc:"Here are some ways to counteract emotional states. Impediments involve blocking a positive emotion; antidotes involve reversing negative ones."},donate:{title:"Support Our Cause",desc:"Donate to the Atlas of Emotions Society and support our cause. Your generosity will help us to spread a worldwide pathway to a calm mind through the Atlas of Emotions. ",link:"http://www.paulekman.com/atlas-emotions-society/",imgs:[]},"further-reading":{links:[{link:"/#more:emotrak",desc:"Eve Ekman has developed EmoTrak, an app to improve your well being with daily emotional balance training. >"},{link:"http://greatergood.berkeley.edu/",desc:"Read about the latest research on the science of living a meaningful life. >"},{link:"http://www.paulekman.com/",desc:"Learn more about the work of Paul Ekman. >"},{link:"http://eveekman.com/",desc:"Learn more about the work of Eve Ekman. >"},{link:"http://stamen.com/",desc:"Learn more about the information visualization work of Stamen. >"},{link:"mailto:info@atlasofemotions.org",desc:"Send feedback on the Atlas of Emotions >"}],title:" ",desc:"Learn more about your emotions, the work of Atlas of Emotions creators Paul and Eve Ekman, and Stamen, the design company that built this website."},emotrak:{subsections:[{title:"",desc:"A brand new app, EmoTrak, is under development by Dr. Eve Ekman and collaborators. Sign up below to be the first to find out about the release of this science based emotional training app.",image:"emotrak",mail:null},{title:"",desc:"true in mail column indicates that it will include hardcoded subscribe link",image:null,mail:!0},{title:"",desc:"Dr. Eve Ekman is a University of California San Francisco postdoctoral fellow studying burnout and emotional well being. Dr. Ekman has been developing and evaluating EmoTrak to support health care providers. The app is a self assessment tool to investigate emotion triggers, experiences and responses. It also provides brief emotion focused meditations and feedback on your emotional profile.",image:null,mail:null}],title:"",desc:"Improve your well being with daily emotional balance training."}}},{}],341:[function(e,t,n){t.exports={googleOAuthAccessToken:"",stringsFiles:[{lang:"en",name:"English",fileId:"1mZH66DoV1F3f1k2cP1jo5t7ApcaSIzl5Xycw_oUSPNo",enabled:!0},{lang:"es",name:"Español",fileId:"1hAUdEMZ-Hddx7BFKtpcp6gqSSH-owFrqYGbBBtYYTdQ",enabled:!1}]}},{}]},{},[319]);